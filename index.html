<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="sandbox allow-same-origin allow-modals allow-scripts">
    <title>Dark Thailand - –ù–∞–¥—ë–∂–Ω—ã–π —à–æ–ø</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1a1a1a 0%, #2b0000 100%);
            color: #ff4444;
            overflow-x: hidden;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 15px;
            position: relative;
        }
        .header {
            text-align: center;
            padding: 15px 0;
            background-color: #2b2b2b;
            color: #ff4444;
            margin-bottom: 20px;
            border-radius: 5px;
            border: 2px solid #ff4444;
            box-shadow: 0 0 10px rgba(255, 68, 68, 0.5);
        }
        .nav {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .nav-button {
            background-color: #ff4444;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            animation: neonPulse 1.5s infinite;
        }
        .profile-button {
            background-color: #ff4444;
            color: #000;
            border: none;
            padding: 0;
            border-radius: 5px;
            cursor: pointer;
            font-size: 26px;
            width: 60px;
            height: 40px;
            line-height: 40px;
            text-align: center;
            animation: neonPulse 1.5s infinite;
        }
        @keyframes neonPulse {
            0% { box-shadow: 0 0 5px #ff4444; }
            50% { box-shadow: 0 0 20px #ff4444; }
            100% { box-shadow: 0 0 5px #ff4444; }
        }
        .catalog-menu, .profile-menu, .vacancy-menu, .mail-menu {
            display: none;
            background-color: #333;
            border-radius: 5px;
            padding: 15px;
            box-shadow: 0 0 15px rgba(255, 68, 68, 0.3);
        }
        .city-filter {
            margin-bottom: 15px;
        }
        .city-filter select, .district-filter select {
            width: 100%;
            padding: 10px;
            background-color: #2b2b2b;
            color: #ff4444;
            border: 1px solid #ff4444;
            border-radius: 5px;
            font-size: 16px;
            margin-bottom: 10px;
        }
        .tabs {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        .tab {
            flex: 1;
            text-align: center;
            padding: 10px;
            background-color: #2b2b2b;
            cursor: pointer;
            margin: 5px;
            border-radius: 5px;
            transition: all 0.3s;
        }
        .tab:hover {
            background-color: #ff6666;
        }
        .tab.active {
            background-color: #ff4444;
            color: #000;
            box-shadow: 0 0 10px #ff4444;
        }
        .tab-content {
            display: none;
        }
        .product-card {
            background-color: #333;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(255, 68, 68, 0.3);
            transition: transform 0.2s;
        }
        .product-card:hover {
            transform: scale(1.02);
        }
        .product-card h3 {
            margin-top: 0;
            color: #ff6666;
            cursor: pointer;
        }
        .product-card p {
            margin: 5px 0;
        }
        .price {
            font-weight: bold;
            color: #ff9999;
        }
        .crypto-price {
            font-size: 12px;
            color: #ff6666;
        }
        .buy-button, .preorder-button {
            background-color: #ff4444;
            color: #000;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px 0;
            width: 100%;
            transition: all 0.3s;
        }
        .preorder-button {
            background-color: #ff6666;
        }
        .buy-button:hover, .preorder-button:hover {
            background-color: #ff8888;
        }
        .payment-modal, .product-modal, .deposit-modal, .preorder-modal, .registration-modal, .custom-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
        }
        .payment-content, .product-content, .deposit-content, .preorder-content, .registration-content, .custom-content {
            background: #333;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
            color: #ff4444;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
        }
        .review {
            background-color: #2b2b2b;
            border-left: 4px solid #ff6666;
            padding: 10px;
            margin: 10px 0;
            font-size: 12px;
            color: #ff9999;
            text-align: left;
        }
        .moderator-response {
            background-color: #2b2b2b;
            border-left: 4px solid #ff4444;
            padding: 10px;
            margin: 5px 0 10px 20px;
            font-size: 12px;
            color: #ff6666;
            text-align: left;
        }
        .position {
            margin: 10px 0;
            text-align: left;
        }
        .promo-banner {
            background-color: #ff4444;
            color: #000;
            padding: 10px;
            text-align: center;
            margin-bottom: 20px;
            border-radius: 5px;
            font-weight: bold;
        }
        .vacancy {
            margin-bottom: 15px;
        }
        .vacancy h3 {
            color: #ff6666;
        }
        input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            background-color: #2b2b2b;
            color: #ff4444;
            border: 1px solid #ff4444;
            border-radius: 5px;
        }
        textarea {
            height: 100px;
            resize: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="promo-banner">
            <p>–ü—Ä–∏–≥–ª–∞—à–∞–π –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π –±–æ–Ω—É—Å—ã! 5 –¥—Ä—É–∑–µ–π = 0.5 –≥ –∞–º—Ñ–µ—Ç–∞–º–∏–Ω–∞, 10 –¥—Ä—É–∑–µ–π = 0.5 –≥ –∫–æ–∫–∞–∏–Ω–∞ (MQ), 25 –¥—Ä—É–∑–µ–π = 1 –≥ –∫–æ–∫–∞–∏–Ω–∞ (VHQ)!</p>
        </div>

        <div class="header">
            <h1>Dark Thailand</h1>
            <p>–¢–≤–æ–π –Ω–∞–¥—ë–∂–Ω—ã–π —à–æ–ø –≤ –¢–∞–∏–ª–∞–Ω–¥–µ</p>
        </div>
        
        <div class="nav">
            <button class="nav-button" onclick="toggleCatalog()">–ö–∞—Ç–∞–ª–æ–≥</button>
            <button class="nav-button" onclick="toggleVacancies()">–í–∞–∫–∞–Ω—Å–∏–∏</button>
            <button class="nav-button" onclick="toggleMail()">–ü–æ—á—Ç–∞</button>
            <button class="profile-button" onclick="toggleProfile()">üíÄ</button>
        </div>
        
        <div class="catalog-menu" id="catalogMenu">
            <div class="city-filter">
                <select id="citySelect" onchange="filterByCity()">
                    <option value="all">–í—Å–µ –≥–æ—Ä–æ–¥–∞</option>
                    <option value="phuket">–ü—Ö—É–∫–µ—Ç</option>
                    <option value="pattaya">–ü–∞—Ç—Ç–∞–π—è</option>
                    <option value="bangkok">–ë–∞–Ω–≥–∫–æ–∫</option>
                    <option value="samui">–æ. –°–∞–º—É–∏</option>
                </select>
                <select id="districtSelect" onchange="filterByDistrict()">
                    <option value="all">–í—Å–µ —Ä–∞–π–æ–Ω—ã</option>
                </select>
            </div>
            <div class="tabs">
                <div class="tab" data-tab="hash">–ì–∞—à–∏—à</div>
                <div class="tab" data-tab="coke">–ö–æ–∫–∞–∏–Ω</div>
                <div class="tab" data-tab="amph">–ê–º—Ñ–µ—Ç–∞–º–∏–Ω</div>
                <div class="tab" data-tab="meth">–ú–µ—Ç–∞–º—Ñ–µ—Ç–∞–º–∏–Ω</div>
                <div class="tab" data-tab="meph">–ú–µ—Ñ–µ–¥—Ä–æ–Ω</div>
                <div class="tab" data-tab="heroin">–ì–µ—Ä–æ–∏–Ω</div>
            </div>

            <div id="hash" class="tab-content">
                <div class="product-card" data-product="hash-1">
                    <h3 onclick="showProductModal('hash', 1)">–ß—ë—Ä–Ω—ã–π –ê—Ñ–≥–∞–Ω (VHQ)</h3>
                    <p>–ì–∞—à–∏—à –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å–∞, –º—è–≥–∫–∏–π –∏ –º–æ—â–Ω—ã–π</p>
                </div>
                <div class="product-card" data-product="hash-2">
                    <h3 onclick="showProductModal('hash', 2)">–ó–µ–ª—ë–Ω—ã–π –ú–∞—Ä–æ–∫–∫–æ (HQ)</h3>
                    <p>–°—Ä–µ–¥–Ω–∏–π –≥–∞—à–∏—à, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç</p>
                </div>
                <div class="product-card" data-product="hash-3">
                    <h3 onclick="showProductModal('hash', 3)">–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π –î—ã–º (MQ)</h3>
                    <p>–ì–∞—à–∏—à —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞, –±—é–¥–∂–µ—Ç–Ω—ã–π</p>
                </div>
                <div class="product-card" data-product="hash-4">
                    <h3 onclick="showProductModal('hash', 4)">–¢—ë–º–Ω—ã–π –ü–µ—Å–æ–∫ (LQ)</h3>
                    <p>–ù–∏–∑–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–∞—à–∏—à, –¥–ª—è —ç–∫–æ–Ω–æ–º–Ω—ã—Ö</p>
                </div>
                <div class="product-card" data-product="hash-5">
                    <h3 onclick="showProductModal('hash', 5)">–°–µ–≤–µ—Ä–Ω—ã–π –®—Ç–æ—Ä–º (VHQ)</h3>
                    <p>–≠–ª–∏—Ç–Ω—ã–π –≥–∞—à–∏—à —Å —Å–µ–≤–µ—Ä–∞</p>
                </div>
            </div>

            <div id="coke" class="tab-content">
                <div class="product-card" data-product="coke-1">
                    <h3 onclick="showProductModal('coke', 1)">–¢—Ä–æ–ø–∏–∫ –ë–∏—á (Fishscale)</h3>
                    <p>–ö–æ–∫–∞–∏–Ω –≤—ã—Å—à–µ–π –ø—Ä–æ–±—ã, —á–∏—Å—Ç–æ—Ç–∞ 95%</p>
                </div>
                <div class="product-card" data-product="coke-2">
                    <h3 onclick="showProductModal('coke', 2)">–ë–µ–ª—ã–π –ü—Ä–∞—Ö (VHQ)</h3>
                    <p>–ö–æ–∫–∞–∏–Ω –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å–∞</p>
                </div>
                <div class="product-card" data-product="coke-3">
                    <h3 onclick="showProductModal('coke', 3)">–°–Ω–µ–∂–Ω—ã–π –í–µ—Ç–µ—Ä (HQ)</h3>
                    <p>–°—Ä–µ–¥–Ω–∏–π –∫–æ–∫–∞–∏–Ω, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç</p>
                </div>
                <div class="product-card" data-product="coke-4">
                    <h3 onclick="showProductModal('coke', 4)">–ì—Ä—è–∑–Ω—ã–π –°–Ω–µ–≥ (MQ)</h3>
                    <p>–ö–æ–∫–∞–∏–Ω —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞</p>
                </div>
                <div class="product-card" data-product="coke-5">
                    <h3 onclick="showProductModal('coke', 5)">–£–ª–∏—á–Ω–∞—è –ü—ã–ª—å (LQ)</h3>
                    <p>–î–µ—à—ë–≤—ã–π –∫–æ–∫–∞–∏–Ω, —Å–ª–∞–±—ã–π —ç—Ñ—Ñ–µ–∫—Ç</p>
                </div>
            </div>

            <div id="amph" class="tab-content">
                <div class="product-card" data-product="amph-1">
                    <h3 onclick="showProductModal('amph', 1)">–ë–µ–ª–∞—è –ú–æ–ª–Ω–∏—è (VHQ)</h3>
                    <p>–ê–º—Ñ–µ—Ç–∞–º–∏–Ω –≤—ã—Å—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞</p>
                </div>
                <div class="product-card" data-product="amph-2">
                    <h3 onclick="showProductModal('amph', 2)">–ö—Ä–∞—Å–Ω—ã–π –®—Ç–æ—Ä–º (HQ)</h3>
                    <p>–°—Ä–µ–¥–Ω–∏–π –∞–º—Ñ–µ—Ç–∞–º–∏–Ω —Å –±–æ–¥—Ä—ã–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º</p>
                </div>
                <div class="product-card" data-product="amph-3">
                    <h3 onclick="showProductModal('amph', 3)">–ñ—ë–ª—Ç—ã–π –ü–µ–ø–µ–ª (MQ)</h3>
                    <p>–ê–º—Ñ–µ—Ç–∞–º–∏–Ω —Å—Ä–µ–¥–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è</p>
                </div>
                <div class="product-card" data-product="amph-4">
                    <h3 onclick="showProductModal('amph', 4)">–°–µ—Ä—ã–π –î—ã–º (LQ)</h3>
                    <p>–î–µ—à—ë–≤—ã–π –∞–º—Ñ–µ—Ç–∞–º–∏–Ω</p>
                </div>
                <div class="product-card" data-product="amph-5">
                    <h3 onclick="showProductModal('amph', 5)">–°–∏–Ω–∏–π –£–¥–∞—Ä (VHQ)</h3>
                    <p>–≠–ª–∏—Ç–Ω—ã–π –∞–º—Ñ–µ—Ç–∞–º–∏–Ω</p>
                </div>
            </div>

            <div id="meth" class="tab-content">
                <div class="product-card" data-product="meth-1">
                    <h3 onclick="showProductModal('meth', 1)">–ö—Ä–∏—Å—Ç–∞–ª–ª –ì–æ—Ä—ã (VHQ)</h3>
                    <p>–ú–µ—Ç–∞–º—Ñ–µ—Ç–∞–º–∏–Ω –≤—ã—Å—à–µ–π –æ—á–∏—Å—Ç–∫–∏</p>
                </div>
                <div class="product-card" data-product="meth-2">
                    <h3 onclick="showProductModal('meth', 2)">–°–∏–Ω–∏–π –õ—ë–¥ (HQ)</h3>
                    <p>–°—Ä–µ–¥–Ω–∏–π –º–µ—Ç —Å –¥–æ–ª–≥–∏–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º</p>
                </div>
                <div class="product-card" data-product="meth-3">
                    <h3 onclick="showProductModal('meth', 3)">–ë–µ–ª—ã–π –ö—Ä–∏—Å—Ç–∞–ª–ª (MQ)</h3>
                    <p>–ú–µ—Ç–∞–º—Ñ–µ—Ç–∞–º–∏–Ω —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞</p>
                </div>
                <div class="product-card" data-product="meth-4">
                    <h3 onclick="showProductModal('meth', 4)">–ì—Ä—è–∑–Ω—ã–π –õ—ë–¥ (LQ)</h3>
                    <p>–î–µ—à—ë–≤—ã–π –º–µ—Ç–∞–º—Ñ–µ—Ç–∞–º–∏–Ω</p>
                </div>
                <div class="product-card" data-product="meth-5">
                    <h3 onclick="showProductModal('meth', 5)">–ñ—ë–ª—Ç—ã–π –ö—Ä–∏—Å—Ç–∞–ª–ª (VHQ)</h3>
                    <p>–≠–ª–∏—Ç–Ω—ã–π –º–µ—Ç —Å –º–æ—â–Ω—ã–º –ø—Ä–∏—Ö–æ–¥–æ–º</p>
                </div>
            </div>

            <div id="meph" class="tab-content">
                <div class="product-card" data-product="meph-1">
                    <h3 onclick="showProductModal('meph', 1)">–†–æ–∑–æ–≤—ã–π –ö–∞–π—Ñ (VHQ)</h3>
                    <p>–ú–µ—Ñ–µ–¥—Ä–æ–Ω –≤—ã—Å—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞</p>
                </div>
                <div class="product-card" data-product="meph-2">
                    <h3 onclick="showProductModal('meph', 2)">–ë–µ–ª—ã–π –í–∑—Ä—ã–≤ (HQ)</h3>
                    <p>–°—Ä–µ–¥–Ω–∏–π –º–µ—Ñ–µ–¥—Ä–æ–Ω, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∫–∞–π—Ñ</p>
                </div>
                <div class="product-card" data-product="meph-3">
                    <h3 onclick="showProductModal('meph', 3)">–°–µ—Ä—ã–π –ü–æ—Ä–æ—à–æ–∫ (MQ)</h3>
                    <p>–ú–µ—Ñ–µ–¥—Ä–æ–Ω —Å—Ä–µ–¥–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è</p>
                </div>
                <div class="product-card" data-product="meph-4">
                    <h3 onclick="showProductModal('meph', 4)">–ú—É—Ç–Ω—ã–π –ö–∞–π—Ñ (LQ)</h3>
                    <p>–î–µ—à—ë–≤—ã–π –º–µ—Ñ–µ–¥—Ä–æ–Ω</p>
                </div>
                <div class="product-card" data-product="meph-5">
                    <h3 onclick="showProductModal('meph', 5)">–ö—Ä–∞—Å–Ω—ã–π –í–∑—Ä—ã–≤ (VHQ)</h3>
                    <p>–≠–ª–∏—Ç–Ω—ã–π –º–µ—Ñ–µ–¥—Ä–æ–Ω —Å –º–æ—â–Ω—ã–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º</p>
                </div>
            </div>

            <div id="heroin" class="tab-content">
                <div class="product-card" data-product="heroin-1">
                    <h3 onclick="showProductModal('heroin', 1)">–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π –°–æ–Ω (VHQ)</h3>
                    <p>–ì–µ—Ä–æ–∏–Ω –≤—ã—Å—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞</p>
                </div>
                <div class="product-card" data-product="heroin-2">
                    <h3 onclick="showProductModal('heroin', 2)">–ë–µ–ª—ã–π –î—Ä–∞–∫–æ–Ω (HQ)</h3>
                    <p>–°—Ä–µ–¥–Ω–∏–π –≥–µ—Ä–æ–∏–Ω, —á–∏—Å—Ç—ã–π —ç—Ñ—Ñ–µ–∫—Ç</p>
                </div>
                <div class="product-card" data-product="heroin-3">
                    <h3 onclick="showProductModal('heroin', 3)">–¢—ë–º–Ω—ã–π –ü–æ—Ä–æ—à–æ–∫ (MQ)</h3>
                    <p>–ì–µ—Ä–æ–∏–Ω —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞</p>
                </div>
                <div class="product-card" data-product="heroin-4">
                    <h3 onclick="showProductModal('heroin', 4)">–ì—Ä—è–∑–Ω—ã–π –°–æ–Ω (LQ)</h3>
                    <p>–î–µ—à—ë–≤—ã–π –≥–µ—Ä–æ–∏–Ω</p>
                </div>
                <div class="product-card" data-product="heroin-5">
                    <h3 onclick="showProductModal('heroin', 5)">–ß—ë—Ä–Ω—ã–π –î—Ä–∞–∫–æ–Ω (VHQ)</h3>
                    <p>–≠–ª–∏—Ç–Ω—ã–π –≥–µ—Ä–æ–∏–Ω —Å –≥–ª—É–±–æ–∫–∏–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º</p>
                </div>
            </div>
        </div>

        <div class="profile-menu" id="profileMenu">
            <div class="profile-info">
                <h3>üíÄ</h3>
                <p>–ò–º—è: <span id="userName">–ê–Ω–æ–Ω–∏–º</span></p>
                <p>–ë–∞–ª–∞–Ω—Å: <span id="balance">0 ‡∏ø</span></p>
                <p>–ó–∞–∫–∞–∑–æ–≤: <span id="orderCount">0</span></p>
                <p>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ –¥—Ä—É–∑–µ–π: <span id="referralCount">0</span></p>
                <p>–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞: <span id="referralLink">darkthailand.com/ref123</span></p>
            </div>
            <div class="deposit-options">
                <h3>–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</h3>
                <button class="nav-button" onclick="showDepositModal('BTC')">Bitcoin (BTC)</button>
                <button class="nav-button" onclick="showDepositModal('ETH')">Ethereum (ETH)</button>
                <button class="nav-button" onclick="showDepositModal('USDT')">Tether (USDT)</button>
                <button class="nav-button" onclick="showDepositModal('SOL')">Solana (SOL)</button>
                <button class="nav-button" onclick="showDepositModal('TON')">Toncoin (TON)</button>
            </div>
            <div class="order-history">
                <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫–∞–∑—ã</h3>
                <div id="orderList">–ü–æ–∫–∞ –ø—É—Å—Ç–æ, –¥–µ–ª–∞–π –∑–∞–∫–∞–∑—ã!</div>
            </div>
        </div>

        <div class="vacancy-menu" id="vacancyMenu">
            <h2>–í–∞–∫–∞–Ω—Å–∏–∏ –≤ Dark Thailand</h2>
            <div class="vacancy">
                <h3>–ö–ª–∞–¥–º–µ–Ω</h3>
                <p>–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –î–æ—Å—Ç–∞–≤–∫–∞ –∏ –∑–∞–∫–ª–∞–¥–∫–∞ —Ç–æ–≤–∞—Ä–∞ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º.</p>
                <p>–û–ø–ª–∞—Ç–∞: 500-1000 ‡∏ø –∑–∞ –∫–ª–∞–¥ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±—ä—ë–º–∞).</p>
                <button class="buy-button" onclick="applyForJob('–ö–ª–∞–¥–º–µ–Ω')">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
            <div class="vacancy">
                <h3>–°–∫–ª–∞–¥–º–µ–Ω</h3>
                <p>–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –£–ø–∞–∫–æ–≤–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–æ–≤–∞—Ä–∞ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ.</p>
                <p>–û–ø–ª–∞—Ç–∞: 2000-3000 ‡∏ø –∑–∞ —Å–º–µ–Ω—É.</p>
                <button class="buy-button" onclick="applyForJob('–°–∫–ª–∞–¥–º–µ–Ω')">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
            <div class="vacancy">
                <h3>–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫</h3>
                <p>–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –ü–µ—Ä–µ–≤–æ–∑–∫–∞ —Ç–æ–≤–∞—Ä–∞ –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏ –¢–∞–∏–ª–∞–Ω–¥–∞.</p>
                <p>–û–ø–ª–∞—Ç–∞: 5000-10000 ‡∏ø –∑–∞ —Ä–µ–π—Å.</p>
                <button class="buy-button" onclick="applyForJob('–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫')">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
            <div class="vacancy">
                <h3>SMM—â–∏–∫</h3>
                <p>–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —à–æ–ø–∞ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö –∏ —Ñ–æ—Ä—É–º–∞—Ö.</p>
                <p>–û–ø–ª–∞—Ç–∞: 3000-5000 ‡∏ø –≤ –Ω–µ–¥–µ–ª—é + –±–æ–Ω—É—Å—ã –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.</p>
                <button class="buy-button" onclick="applyForJob('SMM—â–∏–∫')">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
        </div>

        <div class="mail-menu" id="mailMenu">
            <h2>–ü–æ—á—Ç–∞</h2>
            <div id="mailList">–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π.</div>
        </div>

        <div class="product-modal" id="productModal">
            <div class="product-content" id="productContent"></div>
        </div>

        <div class="payment-modal" id="paymentModal">
            <div class="payment-content" id="paymentContent"></div>
        </div>

        <div class="deposit-modal" id="depositModal">
            <div class="deposit-content" id="depositContent"></div>
        </div>

        <div class="preorder-modal" id="preorderModal">
            <div class="preorder-content" id="preorderContent"></div>
        </div>

        <div class="registration-modal" id="registrationModal">
            <div class="registration-content" id="registrationContent">
                <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
                <p>–í–≤–µ–¥–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–π –Ω–∏–∫–Ω–µ–π–º:</p>
                <input type="text" id="regNickname" placeholder="–í–∞—à –Ω–∏–∫–Ω–µ–π–º">
                <button class="buy-button" onclick="registerUser()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <p id="regError" style="color: #ff9999;"></p>
            </div>
        </div>

        <div class="custom-modal" id="customModal">
            <div class="custom-content" id="customContent"></div>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
    window.Telegram.WebApp.ready();
    window.Telegram.WebApp.expand();

    let balance = 0;
    let orderCount = 0;
    let referralCount = 0;
    let orderHistory = [];
    let selectedCity = 'all';
    let selectedDistrict = 'all';
    let currentUser = null;
    let mailMessages = [];
    let pendingPayments = {};

    const BOT_B_TOKEN = '7589545725:AAHoedAqoGh_k0WWdUs1rcBN1yddUtBFhsk';
    const ADMIN_CHAT_ID = '5956080955'; // –¢–≤–æ–π chat_id

    const testAddresses = {
        BTC: "1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa",
        ETH: "0x32Be343B94f860124dC4fEe278FDCBD38C102D88",
        USDT: "0xdAC17F958D2ee523a2206206994597C13D831ec7",
        SOL: "5yK7e5a8j9k2m3n4p5q6r7s8t9u0v1w2x3y4z5A6B7C8D9E0F1G2H",
        TON: "EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM9c"
    };

    function getRandomDate() {
        const day = Math.floor(Math.random() * 12) + 1;
        return `0${day}.03.2025`.slice(-10);
    }

    function getRandomPromoGood() {
        const promos = ["5%", "10%", "15%"];
        return promos[Math.floor(Math.random() * promos.length)];
    }

    const cities = {
        "phuket": {
            "–ü–∞—Ç–æ–Ω–≥": { lat: "7.891", lon: "98.298", desc: "–ü–æ–¥ –ø–∞–ª—å–º–æ–π —É —Ç—Ä–µ—Ç—å–µ–≥–æ —à–µ–∑–ª–æ–Ω–≥–∞, –∑–∞–∫–æ–ø–∞–Ω–æ –≤ –ø–µ—Å–∫–µ, —á—ë—Ä–Ω—ã–π –ø–∞–∫–µ—Ç." },
            "–ö–∞—Ä–æ–Ω": { lat: "7.846", lon: "98.295", desc: "–ü–æ–¥ –∫–∞–º–Ω–µ–º —É –∑–∞–±–æ—Ä–∞, –º–∞–≥–Ω–∏—Ç –≤ —Å–∏–Ω–µ–π –∏–∑–æ–ª–µ–Ω—Ç–µ." },
            "–ü—Ö—É–∫–µ—Ç-—Ç–∞—É–Ω": { lat: "7.883", lon: "98.391", desc: "–í –∫—É—Å—Ç–∞—Ö –∑–∞ —Å—Ç–∞—Ä—ã–º –ª–∞—Ä—å–∫–æ–º, –∑–∞–≤—ë—Ä–Ω—É—Ç–æ –≤ –∑–µ–ª—ë–Ω—É—é –ø–ª—ë–Ω–∫—É." },
            "–ö–∞—Ç–∞": { lat: "7.820", lon: "98.299", desc: "–ü–æ–¥ —Å–∫–∞–º–µ–π–∫–æ–π —É –ø–ª—è–∂–∞, –∑–∞–≤—ë—Ä–Ω—É—Ç–æ –≤ —á—ë—Ä–Ω—É—é –ø–ª—ë–Ω–∫—É." }
        },
        "pattaya": {
            "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ü–∞—Ç—Ç–∞–π—è": { lat: "12.935", lon: "100.887", desc: "–í —â–µ–ª–∏ —Å—Ç–µ–Ω—ã —É –±–∞—Ä–∞, –º–∞–≥–Ω–∏—Ç –≤ –∫—Ä–∞—Å–Ω–æ–π –∏–∑–æ–ª–µ–Ω—Ç–µ." },
            "–î–∂–æ–º—Ç—å–µ–Ω": { lat: "12.903", lon: "100.869", desc: "–ü–æ–¥ –∫—É—Å—Ç–æ–º —É –¥–æ—Ä–æ–≥–∏, –∑–∞–≤—ë—Ä–Ω—É—Ç–æ –≤ —Å–µ—Ä—É—é —Ç–∫–∞–Ω—å." },
            "–ù–∞–∫–ª—É–∞": { lat: "12.970", lon: "100.900", desc: "–ó–∞ –º—É—Å–æ—Ä–∫–æ–π —É —Ä—ã–Ω–∫–∞, —á—ë—Ä–Ω—ã–π –ø–∞–∫–µ—Ç." },
            "–Æ–∂–Ω–∞—è –ü–∞—Ç—Ç–∞–π—è": { lat: "12.923", lon: "100.882", desc: "–ü–æ–¥ –∫–∞–º–Ω–µ–º —É –ø–∏—Ä—Å–∞, –∑–∞–≤—ë—Ä–Ω—É—Ç–æ –≤ –∑–µ–ª—ë–Ω—É—é –ø–ª—ë–Ω–∫—É." }
        },
        "bangkok": {
            "–°—É–∫—Ö—É–º–≤–∏—Ç": { lat: "13.736", lon: "100.561", desc: "–í —â–µ–ª–∏ —Å—Ç–µ–Ω—ã —É –º–µ—Ç—Ä–æ, –º–∞–≥–Ω–∏—Ç –≤ –∂—ë–ª—Ç–æ–π –∏–∑–æ–ª–µ–Ω—Ç–µ." },
            "–ö–∞–æ—Å–∞–Ω": { lat: "13.759", lon: "100.497", desc: "–ü–æ–¥ —Å–∫–∞–º–µ–π–∫–æ–π —É —Ö–æ—Å—Ç–µ–ª–∞, –∑–∞–≤—ë—Ä–Ω—É—Ç–æ –≤ —á—ë—Ä–Ω—É—é –ø–ª—ë–Ω–∫—É." },
            "–°–∏–ª–æ–º": { lat: "13.723", lon: "100.535", desc: "–ó–∞ –≤—ã–≤–µ—Å–∫–æ–π —É –±–∞—Ä–∞, –º–∞–≥–Ω–∏—Ç –≤ —Å–∏–Ω–µ–π –∏–∑–æ–ª–µ–Ω—Ç–µ." },
            "–ß–∞—Ç—É—á–∞–∫": { lat: "13.799", lon: "100.548", desc: "–í –∫—É—Å—Ç–∞—Ö —É —Ä—ã–Ω–∫–∞, –∑–∞–≤—ë—Ä–Ω—É—Ç–æ –≤ —Å–µ—Ä—É—é —Ç–∫–∞–Ω—å." }
        },
        "samui": {
            "–ß–∞–≤–µ–Ω–≥": { lat: "9.520", lon: "100.057", desc: "–ü–æ–¥ —à–µ–∑–ª–æ–Ω–≥–æ–º —É –±–∞—Ä–∞, –∑–∞–≤—ë—Ä–Ω—É—Ç–æ –≤ —á—ë—Ä–Ω—ã–π –ø–∞–∫–µ—Ç." },
            "–õ–∞–º–∞–π": { lat: "9.470", lon: "100.047", desc: "–í –∫—É—Å—Ç–∞—Ö —É –¥–æ—Ä–æ–≥–∏, –º–∞–≥–Ω–∏—Ç –≤ –∑–µ–ª—ë–Ω–æ–π –∏–∑–æ–ª–µ–Ω—Ç–µ." },
            "–ë–æ –ü—Ö—É—Ç": { lat: "9.560", lon: "100.031", desc: "–ü–æ–¥ –∫–∞–º–Ω–µ–º —É –ø–∏—Ä—Å–∞, –∑–∞–≤—ë—Ä–Ω—É—Ç–æ –≤ —Å–µ—Ä—É—é —Ç–∫–∞–Ω—å." },
            "–ú–∞–µ–Ω–∞–º": { lat: "9.573", lon: "100.000", desc: "–ó–∞ –º—É—Å–æ—Ä–∫–æ–π —É –ø–ª—è–∂–∞, —á—ë—Ä–Ω—ã–π –ø–∞–∫–µ—Ç." }
        }
    };

    function getRandomCoordinates(city, district) {
        const baseLat = parseFloat(cities[city][district].lat);
        const baseLon = parseFloat(cities[city][district].lon);
        const offset = 0.005;
        const randomLat = (baseLat + (Math.random() * offset * 2 - offset)).toFixed(3);
        const randomLon = (baseLon + (Math.random() * offset * 2 - offset)).toFixed(3);
        return { lat: randomLat, lon: randomLon };
    }

    const weights = {
        default: [1, 2, 3, 5, 10, 15, 20],
        cokeMeph: [0.5, 1, 2, 3, 5, 10, 15, 20]
    };

    const basePrices = {
        hash: { 1: 900, 2: 700, 3: 500, 4: 400, 5: 1000 },
        coke: { 1: 4000, 2: 3600, 3: 3000, 4: 2400, 5: 2000 },
        amph: { 1: 1300, 2: 1000, 3: 900, 4: 700, 5: 1500 },
        meth: { 1: 1500, 2: 1200, 3: 1000, 4: 800, 5: 1800 },
        meph: { 1: 1400, 2: 1100, 3: 900, 4: 700, 5: 1600 },
        heroin: { 1: 2000, 2: 1800, 3: 1500, 4: 1200, 5: 2500 }
    };

    function generatePositions(category, productId) {
        const isCokeOrMeph = category === 'coke' || category === 'meph';
        const applicableWeights = isCokeOrMeph ? weights.cokeMeph : weights.default;
        const positions = [];
        let id = 1;

        for (const city in cities) {
            for (const district in cities[city]) {
                applicableWeights.forEach(weight => {
                    const basePricePerGram = basePrices[category][productId];
                    const price = Math.round(basePricePerGram * weight * (city === 'samui' ? 1.5 : 1));
                    const cryptoPrice = (price / 2000000).toFixed(5);
                    const inStock = (isCokeOrMeph && weight === 0.5) || Math.random() > 0.2;
                    positions.push({
                        id: id++,
                        weight,
                        price,
                        cryptoPrice,
                        city,
                        district,
                        inStock
                    });
                });
            }
        }
        return positions;
    }

    const products = {
        hash: {
            1: { 
                name: "–ß—ë—Ä–Ω—ã–π –ê—Ñ–≥–∞–Ω (VHQ)", 
                positions: generatePositions('hash', 1), 
                reviews: [
                    { text: "–ß—ë—Ä–Ω—ã–π –ê—Ñ–≥–∞–Ω ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∫–æ—Å–º–æ—Å! –ú—è–≥–∫–∏–π –∏ –º–æ—â–Ω—ã–π, —Ç–æ–ø –∑–∞ —Å–≤–æ–∏ –¥–µ–Ω—å–≥–∏! ‚Äî –ê–Ω–æ–Ω–∏–º", mod: `–†–∞–¥—ã, —á—Ç–æ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –ß—ë—Ä–Ω—ã–π –ê—Ñ–≥–∞–Ω! –ó–∞—Ö–æ–¥–∏—Ç–µ –µ—â—ë, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª –≤–∞–º –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ ${getRandomPromoGood()} –∑–∞ –∫—Ä—É—Ç–æ–π –æ—Ç–∑—ã–≤! ‚Äî –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä Dark Thailand` }
                ]
            },
            2: { name: "–ó–µ–ª—ë–Ω—ã–π –ú–∞—Ä–æ–∫–∫–æ (HQ)", positions: generatePositions('hash', 2), reviews: [] },
            3: { name: "–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π –î—ã–º (MQ)", positions: generatePositions('hash', 3), reviews: [] },
            4: { name: "–¢—ë–º–Ω—ã–π –ü–µ—Å–æ–∫ (LQ)", positions: generatePositions('hash', 4), reviews: [] },
            5: { name: "–°–µ–≤–µ—Ä–Ω—ã–π –®—Ç–æ—Ä–º (VHQ)", positions: generatePositions('hash', 5), reviews: [] }
        },
        coke: {
            1: { name: "–¢—Ä–æ–ø–∏–∫ –ë–∏—á (Fishscale)", positions: generatePositions('coke', 1), reviews: [] },
            2: { name: "–ë–µ–ª—ã–π –ü—Ä–∞—Ö (VHQ)", positions: generatePositions('coke', 2), reviews: [] },
            3: { name: "–°–Ω–µ–∂–Ω—ã–π –í–µ—Ç–µ—Ä (HQ)", positions: generatePositions('coke', 3), reviews: [] },
            4: { name: "–ì—Ä—è–∑–Ω—ã–π –°–Ω–µ–≥ (MQ)", positions: generatePositions('coke', 4), reviews: [] },
            5: { name: "–£–ª–∏—á–Ω–∞—è –ü—ã–ª—å (LQ)", positions: generatePositions('coke', 5), reviews: [] }
        },
        amph: {
            1: { name: "–ë–µ–ª–∞—è –ú–æ–ª–Ω–∏—è (VHQ)", positions: generatePositions('amph', 1), reviews: [] },
            2: { name: "–ö—Ä–∞—Å–Ω—ã–π –®—Ç–æ—Ä–º (HQ)", positions: generatePositions('amph', 2), reviews: [] },
            3: { name: "–ñ—ë–ª—Ç—ã–π –ü–µ–ø–µ–ª (MQ)", positions: generatePositions('amph', 3), reviews: [] },
            4: { name: "–°–µ—Ä—ã–π –î—ã–º (LQ)", positions: generatePositions('amph', 4), reviews: [] },
            5: { name: "–°–∏–Ω–∏–π –£–¥–∞—Ä (VHQ)", positions: generatePositions('amph', 5), reviews: [] }
        },
        meth: {
            1: { name: "–ö—Ä–∏—Å—Ç–∞–ª–ª –ì–æ—Ä—ã (VHQ)", positions: generatePositions('meth', 1), reviews: [] },
            2: { name: "–°–∏–Ω–∏–π –õ—ë–¥ (HQ)", positions: generatePositions('meth', 2), reviews: [] },
            3: { name: "–ë–µ–ª—ã–π –ö—Ä–∏—Å—Ç–∞–ª–ª (MQ)", positions: generatePositions('meth', 3), reviews: [] },
            4: { name: "–ì—Ä—è–∑–Ω—ã–π –õ—ë–¥ (LQ)", positions: generatePositions('meth', 4), reviews: [] },
            5: { name: "–ñ—ë–ª—Ç—ã–π –ö—Ä–∏—Å—Ç–∞–ª–ª (VHQ)", positions: generatePositions('meth', 5), reviews: [] }
        },
        meph: {
            1: { name: "–†–æ–∑–æ–≤—ã–π –ö–∞–π—Ñ (VHQ)", positions: generatePositions('meph', 1), reviews: [] },
            2: { name: "–ë–µ–ª—ã–π –í–∑—Ä—ã–≤ (HQ)", positions: generatePositions('meph', 2), reviews: [] },
            3: { name: "–°–µ—Ä—ã–π –ü–æ—Ä–æ—à–æ–∫ (MQ)", positions: generatePositions('meph', 3), reviews: [] },
            4: { name: "–ú—É—Ç–Ω—ã–π –ö–∞–π—Ñ (LQ)", positions: generatePositions('meph', 4), reviews: [] },
            5: { name: "–ö—Ä–∞—Å–Ω—ã–π –í–∑—Ä—ã–≤ (VHQ)", positions: generatePositions('meph', 5), reviews: [] }
        },
        heroin: {
            1: { name: "–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π –°–æ–Ω (VHQ)", positions: generatePositions('heroin', 1), reviews: [] },
            2: { name: "–ë–µ–ª—ã–π –î—Ä–∞–∫–æ–Ω (HQ)", positions: generatePositions('heroin', 2), reviews: [] },
            3: { name: "–¢—ë–º–Ω—ã–π –ü–æ—Ä–æ—à–æ–∫ (MQ)", positions: generatePositions('heroin', 3), reviews: [] },
            4: { name: "–ì—Ä—è–∑–Ω—ã–π –°–æ–Ω (LQ)", positions: generatePositions('heroin', 4), reviews: [] },
            5: { name: "–ß—ë—Ä–Ω—ã–π –î—Ä–∞–∫–æ–Ω (VHQ)", positions: generatePositions('heroin', 5), reviews: [] }
        }
    };

    // –§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–Ω—é
    function toggleCatalog() {
        const catalog = document.getElementById('catalogMenu');
        const profile = document.getElementById('profileMenu');
        const vacancies = document.getElementById('vacancyMenu');
        const mail = document.getElementById('mailMenu');
        catalog.style.display = catalog.style.display === 'block' ? 'none' : 'block';
        profile.style.display = 'none';
        vacancies.style.display = 'none';
        mail.style.display = 'none';
        if (catalog.style.display === 'block') {
            document.querySelector('.tab[data-tab="hash"]').click();
        }
    }

    function toggleProfile() {
        const catalog = document.getElementById('catalogMenu');
        const profile = document.getElementById('profileMenu');
        const vacancies = document.getElementById('vacancyMenu');
        const mail = document.getElementById('mailMenu');
        profile.style.display = profile.style.display === 'block' ? 'none' : 'block';
        catalog.style.display = 'none';
        vacancies.style.display = 'none';
        mail.style.display = 'none';
        updateProfile();
    }

    function toggleVacancies() {
        const catalog = document.getElementById('catalogMenu');
        const profile = document.getElementById('profileMenu');
        const vacancies = document.getElementById('vacancyMenu');
        const mail = document.getElementById('mailMenu');
        vacancies.style.display = vacancies.style.display === 'block' ? 'none' : 'block';
        catalog.style.display = 'none';
        profile.style.display = 'none';
        mail.style.display = 'none';
    }

    function toggleMail() {
        const catalog = document.getElementById('catalogMenu');
        const profile = document.getElementById('profileMenu');
        const vacancies = document.getElementById('vacancyMenu');
        const mail = document.getElementById('mailMenu');
        mail.style.display = mail.style.display === 'block' ? 'none' : 'block';
        catalog.style.display = 'none';
        profile.style.display = 'none';
        vacancies.style.display = 'none';
        updateMail();
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
    function updateProfile() {
        if (!currentUser) return;
        document.getElementById('userName').textContent = currentUser;
        document.getElementById('balance').textContent = `${balance} ‡∏ø`;
        document.getElementById('orderCount').textContent = orderCount;
        document.getElementById('referralCount').textContent = referralCount;
        const orderList = document.getElementById('orderList');
        orderList.innerHTML = orderHistory.length > 0 ? orderHistory.map(order => `<p>${order.date}: ${order.product} - ${order.price} ‡∏ø</p>`).join('') : '–ü–æ–∫–∞ –ø—É—Å—Ç–æ, –¥–µ–ª–∞–π –∑–∞–∫–∞–∑—ã!';
        checkReferralBonus();
    }

    // –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram
    function sendToTelegramBot(message) {
        const chatId = window.Telegram.WebApp.initDataUnsafe.user?.id || 'unknown';
        const fullMessage = `${message}\nchat_id: ${chatId}`;
        fetch(`https://api.telegram.org/bot${BOT_B_TOKEN}/sendMessage?chat_id=${ADMIN_CHAT_ID}&text=${encodeURIComponent(fullMessage)}`)
            .then(response => response.json())
            .then(data => console.log('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ:', data))
            .catch(error => console.error('–û—à–∏–±–∫–∞:', error));
    }

    // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã
    function confirmPayment(crypto, address, amount) {
        const paymentId = `${currentUser}_${Date.now()}`;
        pendingPayments[paymentId] = { user: currentUser, amount };
        sendToTelegramBot(`üí∏ –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ–ø–ª–∞—Ç—É:\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${currentUser}\n–ö—Ä–∏–ø—Ç–∞: ${crypto}\n–ê–¥—Ä–µ—Å: ${address}\n–°—É–º–º–∞: ${amount} ‡∏ø\nID: ${paymentId}`);
        window.Telegram.WebApp.showAlert('–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω. –û–∂–∏–¥–∞–π—Ç–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.');
        document.getElementById('depositModal').style.display = 'none';
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–ª–∞—Ç—ã –æ—Ç –±–æ—Ç–∞
    function checkPendingPayment(paymentId, amount) {
        if (pendingPayments[paymentId]) {
            balance += amount;
            delete pendingPayments[paymentId];
            updateProfile();
            addMailMessage(`üí∞ –ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ ${amount} ‡∏ø`);
            window.Telegram.WebApp.showAlert(`–ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ ${amount} ‡∏ø!`);
        }
    }

    // –°–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏–π –æ—Ç Telegram
    window.Telegram.WebApp.onEvent('web_app_data', (event) => {
        const data = event.data;
        if (data && typeof data === 'string' && data.startsWith('PaymentConfirmed')) {
            const [_, user, amount] = data.split(':');
            if (user === currentUser) {
                const paymentId = Object.keys(pendingPayments).find(id => pendingPayments[id].user === currentUser);
                if (paymentId) checkPendingPayment(paymentId, parseInt(amount));
            }
        }
    });

    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    function registerUser() {
        const nickname = document.getElementById('regNickname').value.trim();
        if (!nickname) {
            document.getElementById('regError').textContent = '–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º!';
            return;
        }
        currentUser = nickname;
        sendToTelegramBot(`üÜï –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:\n–ù–∏–∫–Ω–µ–π–º: ${currentUser}`);
        document.getElementById('registrationModal').style.display = 'none';
        updateProfile();
        addMailMessage('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Dark Thailand!');
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ–Ω—É—Å–æ–≤ –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
    function checkReferralBonus() {
        if (referralCount >= 25 && !orderHistory.some(o => o.product.includes('–¢—Ä–æ–ø–∏–∫ –ë–∏—á'))) {
            orderHistory.unshift({ date: getRandomDate(), product: "–ë–æ–Ω—É—Å: –¢—Ä–æ–ø–∏–∫ –ë–∏—á (Fishscale) 1 –≥", price: 0 });
            window.Telegram.WebApp.showAlert('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ó–∞ 25 –¥—Ä—É–∑–µ–π –≤—ã –ø–æ–ª—É—á–∏–ª–∏ 1 –≥ –¢—Ä–æ–ø–∏–∫ –ë–∏—á (Fishscale)!');
        } else if (referralCount >= 10 && !orderHistory.some(o => o.product.includes('–ì—Ä—è–∑–Ω—ã–π –°–Ω–µ–≥'))) {
            orderHistory.unshift({ date: getRandomDate(), product: "–ë–æ–Ω—É—Å: –ì—Ä—è–∑–Ω—ã–π –°–Ω–µ–≥ (MQ) 0.5 –≥", price: 0 });
            window.Telegram.WebApp.showAlert('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ó–∞ 10 –¥—Ä—É–∑–µ–π –≤—ã –ø–æ–ª—É—á–∏–ª–∏ 0.5 –≥ –ì—Ä—è–∑–Ω—ã–π –°–Ω–µ–≥ (MQ)!');
        } else if (referralCount >= 5 && !orderHistory.some(o => o.product.includes('–ë–µ–ª–∞—è –ú–æ–ª–Ω–∏—è'))) {
            orderHistory.unshift({ date: getRandomDate(), product: "–ë–æ–Ω—É—Å: –ë–µ–ª–∞—è –ú–æ–ª–Ω–∏—è (VHQ) 0.5 –≥", price: 0 });
            window.Telegram.WebApp.showAlert('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ó–∞ 5 –¥—Ä—É–∑–µ–π –≤—ã –ø–æ–ª—É—á–∏–ª–∏ 0.5 –≥ –ë–µ–ª–∞—è –ú–æ–ª–Ω–∏—è (VHQ)!');
        }
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—á—Ç—ã
    function updateMail() {
        const mailList = document.getElementById('mailList');
        mailList.innerHTML = mailMessages.length > 0 ? mailMessages.map(msg => `<p>${msg.date}: ${msg.text}</p>`).join('') : '–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π.';
    }

    function addMailMessage(text) {
        mailMessages.unshift({ date: getRandomDate(), text });
        updateMail();
    }

    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥–æ—Ä–æ–¥—É –∏ —Ä–∞–π–æ–Ω—É
    function filterByCity() {
        selectedCity = document.getElementById('citySelect').value;
        updateDistrictFilter();
        filterProducts(document.querySelector('.tab.active')?.getAttribute('data-tab') || 'hash');
    }

    function updateDistrictFilter() {
        const districtSelect = document.getElementById('districtSelect');
        districtSelect.innerHTML = '<option value="all">–í—Å–µ —Ä–∞–π–æ–Ω—ã</option>';
        if (selectedCity !== 'all') {
            for (const district in cities[selectedCity]) {
                const option = document.createElement('option');
                option.value = district;
                option.text = district;
                districtSelect.appendChild(option);
            }
        }
        selectedDistrict = 'all';
    }

    function filterByDistrict() {
        selectedDistrict = document.getElementById('districtSelect').value;
        filterProducts(document.querySelector('.tab.active')?.getAttribute('data-tab') || 'hash');
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            const tabContent = document.getElementById(tab.getAttribute('data-tab'));
            tabContent.style.display = 'block';
            filterProducts(tab.getAttribute('data-tab'));
        });
    });

    function filterProducts(category) {
        const productsInCategory = document.querySelectorAll(`#${category} .product-card`);
        productsInCategory.forEach(card => {
            const productId = card.getAttribute('data-product').split('-')[1];
            const product = products[category][productId];
            const hasMatch = product.positions.some(pos => 
                (selectedCity === 'all' || pos.city === selectedCity) &&
                (selectedDistrict === 'all' || pos.district === selectedDistrict)
            );
            card.style.display = hasMatch ? 'block' : 'none';
        });
    }

    // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
    function showProductModal(category, id) {
        const product = products[category][id];
        const modal = document.getElementById('productModal');
        const content = document.getElementById('productContent');
        let html = `<h2>${product.name}</h2>`;
        html += '<h3>–ü–æ–∑–∏—Ü–∏–∏:</h3>';
        product.positions.forEach(pos => {
            if ((selectedCity === 'all' || pos.city === selectedCity) && 
                (selectedDistrict === 'all' || pos.district === selectedDistrict)) {
                const preorderPrice = Math.round(pos.price * 1.3);
                const preorderCryptoPrice = (pos.cryptoPrice * 1.3).toFixed(5);
                html += `<div class="position">
                    <p>–í–µ—Å: ${pos.weight} –≥</p>
                    <p class="price">${pos.price} ‡∏ø (~${pos.cryptoPrice} BTC)</p>
                    <p>–ì–æ—Ä–æ–¥: ${pos.city === 'phuket' ? '–ü—Ö—É–∫–µ—Ç' : pos.city === 'pattaya' ? '–ü–∞—Ç—Ç–∞–π—è' : pos.city === 'bangkok' ? '–ë–∞–Ω–≥–∫–æ–∫' : '–æ. –°–∞–º—É–∏'}, ${pos.district}</p>
                    <p>–ù–∞–ª–∏—á–∏–µ: ${pos.inStock ? '–í –Ω–∞–ª–∏—á–∏–∏' : '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏'}</p>
                    ${pos.inStock ? `<button class="buy-button" onclick="buyProduct('${category}', ${id}, ${pos.id})">–ö—É–ø–∏—Ç—å</button>` : ''}
                    <button class="preorder-button" onclick="preorderProduct('${category}', ${id}, ${pos.id}, ${preorderPrice}, '${preorderCryptoPrice}')">–ü—Ä–µ–¥–∑–∞–∫–∞–∑ (+30%)</button>
                </div>`;
            }
        });
        html += '<h3>–û—Ç–∑—ã–≤—ã:</h3>';
        product.reviews.forEach(review => {
            html += `<div class="review">${review.text}</div>`;
            if (review.mod) html += `<div class="moderator-response">${review.mod}</div>`;
        });
        content.innerHTML = html;
        modal.style.display = 'flex';
        modal.onclick = (e) => {
            if (e.target === modal) modal.style.display = 'none';
        };
    }

    function buyProduct(category, productId, positionId) {
        const product = products[category][productId];
        const position = product.positions.find(pos => pos.id === positionId);
        if (!position.inStock) {
            window.Telegram.WebApp.showAlert('–¢–æ–≤–∞—Ä–∞ –Ω–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏!');
            return;
        }
        if (balance < position.price) {
            showCustomConfirm('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ! –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ?', 
                () => {
                    toggleProfile();
                    document.getElementById('productModal').style.display = 'none';
                }, 
                () => {}
            );
            return;
        }
        balance -= position.price;
        orderCount++;
        orderHistory.unshift({ date: getRandomDate(), product: `${product.name} (${position.weight} –≥)`, price: position.price });
        const modal = document.getElementById('paymentModal');
        const content = document.getElementById('paymentContent');
        const coords = getRandomCoordinates(position.city, position.district);
        const cityInfo = cities[position.city][position.district];
        content.innerHTML = `
            <h2>–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞!</h2>
            <p>–¢–æ–≤–∞—Ä: ${product.name}</p>
            <p>–í–µ—Å: ${position.weight} –≥</p>
            <p>–°—É–º–º–∞: ${position.price} ‡∏ø (~${position.cryptoPrice} BTC)</p>
            <p>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ${coords.lat}, ${coords.lon}</p>
            <p>–û–ø–∏—Å–∞–Ω–∏–µ: ${cityInfo.desc}</p>
            <button class="buy-button" onclick="document.getElementById('paymentModal').style.display='none';updateProfile();">–ó–∞–∫—Ä—ã—Ç—å</button>
        `;
        modal.style.display = 'flex';
        document.getElementById('productModal').style.display = 'none';
        modal.onclick = (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
                updateProfile();
            }
        };
    }

    function preorderProduct(category, productId, positionId, preorderPrice, preorderCryptoPrice) {
        const product = products[category][productId];
        const position = product.positions.find(pos => pos.id === positionId);
        const modal = document.getElementById('preorderModal');
        const content = document.getElementById('preorderContent');
        content.innerHTML = `
            <h2>–ü—Ä–µ–¥–∑–∞–∫–∞–∑</h2>
            <p>–¢–æ–≤–∞—Ä: ${product.name}</p>
            <p>–í–µ—Å: ${position.weight} –≥</p>
            <p>–°—É–º–º–∞: ${preorderPrice} ‡∏ø (~${preorderCryptoPrice} BTC)</p>
            <p>–ö–ª–∞–¥ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω –≤ –∂–µ–ª–∞–µ–º–æ–π –ª–æ–∫–∞—Ü–∏–∏, –±–ª–∏–∑–∫–æ –∫ –º–µ—Å—Ç—É, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —É–∫–∞–∂–µ—Ç–µ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã.</p>
            <button class="buy-button" onclick="confirmPreorder('${category}', ${productId}, ${positionId}, ${preorderPrice}, '${preorderCryptoPrice}')">–°–¥–µ–ª–∞—Ç—å –ø—Ä–µ–¥–∑–∞–∫–∞–∑</button>
        `;
        modal.style.display = 'flex';
        modal.onclick = (e) => {
            if (e.target === modal) modal.style.display = 'none';
        };
    }

    function confirmPreorder(category, productId, positionId, preorderPrice, preorderCryptoPrice) {
        const product = products[category][productId];
        const position = product.positions.find(pos => pos.id === positionId);
        if (balance < preorderPrice) {
            showCustomConfirm('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ! –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ?', 
                () => {
                    toggleProfile();
                    document.getElementById('preorderModal').style.display = 'none';
                    document.getElementById('customModal').style.display = 'none';
                }, 
                () => {
                    document.getElementById('preorderModal').style.display = 'none';
                }
            );
            return;
        }
        balance -= preorderPrice;
        orderCount++;
        orderHistory.unshift({ date: getRandomDate(), product: `${product.name} (${position.weight} –≥, –ø—Ä–µ–¥–∑–∞–∫–∞–∑)`, price: preorderPrice });
        showCustomPrompt('–£–∫–∞–∂–∏—Ç–µ –∂–µ–ª–∞–µ–º—É—é –ª–æ–∫–∞—Ü–∏—é –¥–ª—è –∫–ª–∞–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ü—Ö—É–∫–µ—Ç, –ü–∞—Ç–æ–Ω–≥, —É –±–∞—Ä–∞ X):', (location) => {
            const modal = document.getElementById('paymentModal');
            const content = document.getElementById('paymentContent');
            const coords = getRandomCoordinates(position.city, position.district);
            if (!location) {
                content.innerHTML = `
                    <h2>–ü—Ä–µ–¥–∑–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!</h2>
                    <p>–¢–æ–≤–∞—Ä: ${product.name}</p>
                    <p>–í–µ—Å: ${position.weight} –≥</p>
                    <p>–°—É–º–º–∞: ${preorderPrice} ‡∏ø (~${preorderCryptoPrice} BTC)</p>
                    <p>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ${coords.lat}, ${coords.lon}</p>
                    <p>–ö–ª–∞–¥ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω –≤ —Å–ª—É—á–∞–π–Ω–æ–π –ª–æ–∫–∞—Ü–∏–∏ –≤ —Ä–∞–π–æ–Ω–µ ${position.city === 'phuket' ? '–ü—Ö—É–∫–µ—Ç' : position.city === 'pattaya' ? '–ü–∞—Ç—Ç–∞–π—è' : position.city === 'bangkok' ? '–ë–∞–Ω–≥–∫–æ–∫' : '–æ. –°–∞–º—É–∏'}, ${position.district}.</p>
                    <p>–û–∂–∏–¥–∞–π—Ç–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤!</p>
                    <button class="buy-button" onclick="document.getElementById('paymentModal').style.display='none';updateProfile();">–ó–∞–∫—Ä—ã—Ç—å</button>
                `;
            } else {
                content.innerHTML = `
                    <h2>–ü—Ä–µ–¥–∑–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!</h2>
                    <p>–¢–æ–≤–∞—Ä: ${product.name}</p>
                    <p>–í–µ—Å: ${position.weight} –≥</p>
                    <p>–°—É–º–º–∞: ${preorderPrice} ‡∏ø (~${preorderCryptoPrice} BTC)</p>
                    <p>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ${coords.lat}, ${coords.lon}</p>
                    <p>–ö–ª–∞–¥ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω —Ä—è–¥–æ–º —Å: ${location}</p>
                    <p>–û–∂–∏–¥–∞–π—Ç–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤!</p>
                    <button class="buy-button" onclick="document.getElementById('paymentModal').style.display='none';updateProfile();">–ó–∞–∫—Ä—ã—Ç—å</button>
                `;
            }
            modal.style.display = 'flex';
            document.getElementById('preorderModal').style.display = 'none';
            modal.onclick = (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    updateProfile();
                }
            };
        });
    }

    function showDepositModal(crypto) {
        const modal = document.getElementById('depositModal');
        const content = document.getElementById('depositContent');
        content.innerHTML = `
            <h2>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ ${crypto}</h2>
            <button class="buy-button" onclick="generateAddress('${crypto}')">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å</button>
            <div id="addressBox"></div>
        `;
        modal.style.display = 'flex';
        modal.onclick = (e) => {
            if (e.target === modal) modal.style.display = 'none';
        };
    }

    function generateAddress(crypto) {
        const addressBox = document.getElementById('addressBox');
        const address = testAddresses[crypto];
        const amount = Math.floor(Math.random() * 10000) + 1000;
        addressBox.innerHTML = `
            <p>–ê–¥—Ä–µ—Å: ${address}</p>
            <p>–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ: ${amount} ‡∏ø (~${(amount / 2000000).toFixed(5)} ${crypto})</p>
            <p>–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 30 –º–∏–Ω—É—Ç!</p>
            <button class="buy-button" onclick="confirmPayment('${crypto}', '${address}', ${amount})">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–ø–ª–∞—Ç—É</button>
        `;
        setTimeout(() => {
            addressBox.innerHTML = '<p>–ê–¥—Ä–µ—Å –∏—Å—Ç—ë–∫!</p>';
        }, 30 * 60 * 1000);
    }

    function applyForJob(job) {
        showCustomTextareaPrompt(`–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é "${job}". –£–∫–∞–∂–∏—Ç–µ –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ:`, (resume) => {
            if (resume) {
                sendToTelegramBot(`üìã –ó–∞—è–≤–∫–∞ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é "${job}" –æ—Ç ${currentUser}:\n–†–µ–∑—é–º–µ: ${resume}`);
                window.Telegram.WebApp.showAlert(`–ó–∞—è–≤–∫–∞ –Ω–∞ "${job}" –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –ø–æ—á—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.`);
            }
        });
    }

    // –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
    function showCustomConfirm(message, onConfirm, onCancel) {
        const modal = document.getElementById('customModal');
        const content = document.getElementById('customContent');
        content.innerHTML = `
            <h2>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h2>
            <p>${message}</p>
            <button class="buy-button" onclick="confirmAction()">–î–∞</button>
            <button class="buy-button" onclick="cancelAction()">–ù–µ—Ç</button>
        `;
        modal.style.display = 'flex';
        window.confirmAction = () => {
            onConfirm();
            modal.style.display = 'none';
        };
        window.cancelAction = () => {
            onCancel();
            modal.style.display = 'none';
        };
        modal.onclick = (e) => {
            if (e.target === modal) modal.style.display = 'none';
        };
    }

    function showCustomPrompt(message, callback) {
        const modal = document.getElementById('customModal');
        const content = document.getElementById('customContent');
        content.innerHTML = `
            <h2>–í–≤–æ–¥</h2>
            <p>${message}</p>
            <input type="text" id="customInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–¥–µ—Å—å">
            <button class="buy-button" onclick="submitPrompt()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
        `;
        modal.style.display = 'flex';
        window.submitPrompt = () => {
            const value = document.getElementById('customInput').value.trim();
            callback(value);
            modal.style.display = 'none';
        };
        modal.onclick = (e) => {
            if (e.target === modal) modal.style.display = 'none';
        };
    }

    function showCustomTextareaPrompt(message, callback) {
        const modal = document.getElementById('customModal');
        const content = document.getElementById('customContent');
        content.innerHTML = `
            <h2>–ó–∞—è–≤–∫–∞</h2>
            <p>${message}</p>
            <textarea id="customTextarea" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–¥–µ—Å—å"></textarea>
            <button class="buy-button" onclick="submitTextarea()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        `;
        modal.style.display = 'flex';
        window.submitTextarea = () => {
            const value = document.getElementById('customTextarea').value.trim();
            callback(value);
            modal.style.display = 'none';
        };
        modal.onclick = (e) => {
            if (e.target === modal) modal.style.display = 'none';
        };
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    document.addEventListener('DOMContentLoaded', () => {
        if (!currentUser) {
            document.getElementById('registrationModal').style.display = 'flex';
        }
        document.getElementById('referralLink').addEventListener('click', () => {
            referralCount++;
            updateProfile();
        });
    });
</script>
</body>
</html>
