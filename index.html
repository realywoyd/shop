<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadow Goa</title>
    <link rel="icon" type="image/png" href="images/mandala-icon.png">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(45deg, #2b0a0a, #1a2b1a);
            font-family: 'Georgia', serif;
            color: #d4af37;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }
        .header {
            background: linear-gradient(45deg, #4a0e0e, #3c2f2f);
            padding: 15px;
            text-align: center;
            border-bottom: 3px solid #d4af37;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
            position: relative;
        }
        .logo {
            font-size: 32px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: glow 2s infinite;
        }
        @keyframes glow {
            0% { text-shadow: 0 0 5px #d4af37; }
            50% { text-shadow: 0 0 15px #d4af37, 0 0 25px #ff8c00; }
            100% { text-shadow: 0 0 5px #d4af37; }
        }
        .header-text {
            font-size: 14px;
            color: #e0d0b0;
        }
        .language-switcher {
            position: absolute;
            top: 15px;
            right: 15px;
        }
        .language-button {
            background: linear-gradient(45deg, #d4af37, #ff8c00);
            color: #2b0a0a;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 5px;
            transition: transform 0.3s;
        }
        .language-button:hover {
            transform: scale(1.05);
        }
        .nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 10px 0;
            background: rgba(0, 0, 0, 0.7);
            flex-wrap: wrap;
        }
        .nav-item {
            background: linear-gradient(45deg, #3c2f2f, #4a0e0e);
            background-size: cover;
            padding: 8px 15px;
            color: #d4af37;
            cursor: pointer;
            transition: transform 0.3s;
            font-size: 14px;
            border-radius: 5px;
        }
        .nav-item:hover {
            transform: scale(1.1);
        }
        .main-container {
            max-width: 100%;
            margin: 10px auto;
            padding: 10px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            gap: 20px;
        }
        .sidebar {
            width: 180px;
            background: #3c2f2f;
            padding: 15px;
            border: 2px solid #d4af37;
            border-radius: 10px;
            height: fit-content;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.5);
            z-index: 10;
            overflow-y: auto;
            max-height: 80vh;
        }
        .sidebar.open {
            transform: translateX(0);
            box-shadow: 5px 5px 15px rgba(212, 175, 55, 0.5), 0 0 20px rgba(255, 140, 0, 0.7);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 5px 5px 15px rgba(212, 175, 55, 0.5), 0 0 20px rgba(255, 140, 0, 0.7); }
            50% { box-shadow: 5px 5px 15px rgba(212, 175, 55, 0.8), 0 0 30px rgba(255, 140, 0, 1); }
            100% { box-shadow: 5px 5px 15px rgba(212, 175, 55, 0.5), 0 0 20px rgba(255, 140, 0, 0.7); }
        }
        .tab {
            background: #4a0e0e;
            padding: 10px;
            margin-bottom: 10px;
            color: #e0d0b0;
            cursor: pointer;
            border: 1px solid #d4af37;
            border-radius: 5px;
            transition: background 0.3s, transform 0.3s;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            font-size: 14px;
        }
        .tab:hover, .tab.active {
            background: #ff8c00;
            color: #2b0a0a;
            transform: scale(1.05);
        }
        .content {
            max-width: 100%;
            width: calc(100% - 220px);
            padding: 10px;
        }
        .section {
            display: none;
            background: #3c2f2f;
            padding: 15px;
            border: 2px solid #d4af37;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.3);
            width: 100%;
            max-width: 100%;
        }
        .section.active {
            display: block;
        }
        .catalog-tab {
            display: none;
            width: 100%;
        }
        .catalog-tab.active {
            display: block;
        }
        .filter {
            margin-bottom: 15px;
            text-align: center;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        .mandala-select {
            position: relative;
            display: inline-block;
        }
        .mandala-button {
            background: linear-gradient(45deg, #d4af37, #ff8c00);
            color: #2b0a0a;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s;
            font-size: 14px;
        }
        .mandala-button:hover {
            transform: scale(1.05);
        }
        .mandala-options {
            display: none;
            position: absolute;
            background: #4a0e0e;
            border: 2px solid #d4af37;
            border-radius: 5px;
            padding: 10px;
            z-index: 10;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.5);
        }
        .mandala-options div {
            padding: 5px;
            color: #e0d0b0;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 14px;
        }
        .mandala-options div:hover {
            background: #ff8c00;
        }
        .placeholder {
            color: #e0d0b0;
            font-size: 16px;
            text-align: center;
            margin-top: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            position: relative;
            animation: mandalaFade 3s infinite;
        }
        @keyframes mandalaFade {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        .no-products {
            color: #e0d0b0;
            font-size: 16px;
            text-align: center;
            margin-top: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            display: none;
        }
        .product-card, .job-card, .message-card {
            background: #4a0e0e;
            border: 2px solid #d4af37;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
            opacity: 0;
            transform: translateX(-20px) rotate(-5deg);
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            cursor: pointer;
        }
        .product-card.visible, .job-card.visible, .message-card.visible {
            opacity: 1;
            transform: translateX(0) rotate(0deg);
        }
        .product-card:hover, .job-card:hover, .message-card:hover {
            transform: translateY(-5px);
        }
        .product-card h3, .job-card h3, .message-card h3 {
            color: #ff8c00;
            margin: 0 0 8px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            font-size: 16px;
        }
        .product-card p, .job-card p, .message-card p {
            color: #e0d0b0;
            margin: 5px 0;
            font-size: 14px;
        }
        .weight-option p {
            color: #ff8c00;
            font-weight: bold;
            margin: 5px 0;
        }
        .deal-button {
            background: linear-gradient(45deg, #d4af37, #ff8c00);
            color: #2b0a0a;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            animation: wave 2s infinite;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            font-size: 14px;
            width: 100%;
        }
        .deal-button:hover {
            background: #ff8c00;
            animation: none;
            transform: scale(1.05);
        }
        @keyframes wave {
            0% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
            100% { transform: translateY(0); }
        }
        .profile-ledger {
            background: #4a0e0e;
            padding: 15px;
            border: 2px solid #d4af37;
            border-radius: 10px;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 100;
        }
        .modal-content {
            background: #4a0e0e;
            width: 90%;
            max-width: 400px;
            margin: 15% auto;
            padding: 15px;
            border: 2px solid #d4af37;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        .modal-content h3 {
            color: #ff8c00;
            font-size: 16px;
        }
        .modal-content p {
            color: #e0d0b0;
            font-size: 14px;
        }
        .close {
            color: #d4af37;
            float: right;
            font-size: 24px;
            cursor: pointer;
        }
        .loader {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            border: 4px solid #d4af37;
            border-top: 4px solid #ff8c00;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            z-index: 101;
        }
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        .auth-modal-content {
            background: #4a0e0e;
            width: 90%;
            max-width: 400px;
            margin: 15% auto;
            padding: 20px;
            border: 2px solid #d4af37;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        .auth-modal-content h3 {
            color: #ff8c00;
            margin-bottom: 15px;
        }
        .auth-modal-content input {
            display: block;
            width: 80%;
            margin: 10px auto;
            padding: 10px;
            background: #e0d0b0;
            border: 1px solid #d4af37;
            border-radius: 5px;
            color: #2b0a0a;
            font-family: 'Georgia', serif;
        }
        .auth-modal-content button {
            background: linear-gradient(45deg, #d4af37, #ff8c00);
            color: #2b0a0a;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.3s;
            margin: 5px;
        }
        .auth-modal-content button:hover {
            transform: scale(1.05);
        }
        .auth-modal-content .switch-form {
            color: #d4af37;
            cursor: pointer;
            text-decoration: underline;
            margin-top: 10px;
        }
        .auth-modal-content .switch-form:hover {
            color: #ff8c00;
        }
        .login-button, .register-button {
            background: linear-gradient(45deg, #d4af37, #ff8c00);
            color: #2b0a0a;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.3s;
            font-size: 16px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            margin: 5px;
        }
        .login-button:hover, .register-button:hover {
            transform: scale(1.05);
        }
        .reviews {
            margin-top: 10px;
            border-top: 1px solid #d4af37;
            padding-top: 10px;
            display: none;
        }
        .review {
            background: rgba(0, 0, 0, 0.3);
            padding: 5px;
            margin: 5px 0;
            border-radius: 5px;
            font-size: 12px;
            color: #e0d0b0;
        }
        .review p {
            margin: 0;
        }
        .rating {
            color: #ff8c00;
            margin-bottom: 5px;
        }
        .weights {
            margin-top: 10px;
            border-top: 1px solid #d4af37;
            padding-top: 10px;
            display: none;
        }
        .weight-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 5px 0;
        }
        .weight-option p {
            margin: 0;
        }
        .discount {
            color: #ff4040;
            font-weight: bold;
            margin: 5px 0;
        }
        .referral-section {
            margin-top: 15px;
            border-top: 1px solid #d4af37;
            padding-top: 10px;
        }
        .referral-section p {
            color: #e0d0b0;
            font-size: 14px;
        }
        .referral-link {
            background: #4a0e0e;
            padding: 5px;
            border-radius: 5px;
            word-break: break-all;
        }
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
                align-items: center;
            }
            .sidebar {
                width: 100%;
                max-width: 300px;
                position: fixed;
                top: 0;
                left: 0;
                height: 100%;
                transform: translateX(-100%);
                display: block;
            }
            .sidebar.open {
                transform: translateX(0);
            }
            .content {
                width: 100%;
                padding: 5px;
            }
            .logo {
                font-size: 24px;
            }
            .header-text {
                font-size: 12px;
            }
            .nav-item {
                font-size: 12px;
                padding: 6px 10px;
            }
            .tab {
                font-size: 12px;
                padding: 8px;
            }
            .mandala-button {
                font-size: 12px;
                padding: 6px 12px;
            }
            .mandala-options div {
                font-size: 12px;
            }
            .product-card h3, .job-card h3, .message-card h3 {
                font-size: 14px;
            }
            .product-card p, .job-card p, .message-card p {
                font-size: 12px;
            }
            .deal-button {
                font-size: 12px;
                padding: 6px 12px;
            }
            .login-button, .register-button {
                font-size: 14px;
                padding: 8px 15px;
            }
            .language-button {
                font-size: 10px;
                padding: 4px 8px;
            }
        }
        @media (prefers-color-scheme: dark) {
            body {
                background: linear-gradient(45deg, #1a0a0a, #0a1b0a);
            }
            .header {
                background: linear-gradient(45deg, #3a0e0e, #4a0e0e);
            }
            .nav {
                background: rgba(0, 0, 0, 0.9);
            }
        }
    </style>
</head>
<body>
    <div class="loader" id="loader"></div>
    <div class="header">
        <div class="logo" data-i18n="title">Shadow Goa</div>
        <div class="header-text" data-i18n="subtitle">–¢—ë–º–Ω—ã–µ —Å–¥–µ–ª–∫–∏ –ì–æ–∞</div>
        <div class="language-switcher">
            <button class="language-button" onclick="setLanguage('ru')">RU</button>
            <button class="language-button" onclick="setLanguage('en')">EN</button>
            <button class="language-button" onclick="setLanguage('hi')">HI</button>
        </div>
    </div>
    <div class="nav">
        <div class="nav-item" onclick="toggleSection('catalog')" data-i18n="nav-catalog">–ö–∞—Ç–∞–ª–æ–≥</div>
        <div class="nav-item" onclick="toggleSection('jobs')" data-i18n="nav-jobs">–í–∞–∫–∞–Ω—Å–∏–∏</div>
        <div class="nav-item" onclick="toggleSection('profile')" data-i18n="nav-profile">–ö–Ω–∏–≥–∞ —É—á—ë—Ç–∞</div>
        <div class="nav-item" onclick="toggleSection('messages')" data-i18n="nav-messages">–°–æ–æ–±—â–µ–Ω–∏—è</div>
    </div>
    <div class="main-container">
        <div class="section catalog" id="catalog">
            <div class="sidebar" id="sidebar">
                <div class="tab" onclick="toggleTab('marijuana')" data-i18n="tab-marijuana">–ú–∞—Ä–∏—Ö—É–∞–Ω–∞</div>
                <div class="tab" onclick="toggleTab('hashish')" data-i18n="tab-hashish">–ì–∞—à–∏—à</div>
                <div class="tab" onclick="toggleTab('cocaine')" data-i18n="tab-cocaine">–ö–æ–∫–∞–∏–Ω</div>
                <div class="tab" onclick="toggleTab('meth')" data-i18n="tab-meth">–ú–µ—Ç–∞–º—Ñ–µ—Ç–∞–º–∏–Ω</div>
                <div class="tab" onclick="toggleTab('amphetamine')" data-i18n="tab-amphetamine">–ê–º—Ñ–µ—Ç–∞–º–∏–Ω</div>
                <div class="tab" onclick="toggleTab('mephedrone')" data-i18n="tab-mephedrone">–ú–µ—Ñ–µ–¥—Ä–æ–Ω</div>
                <div class="tab" onclick="toggleTab('mdma')" data-i18n="tab-mdma">–ú–î–ú–ê</div>
                <div class="tab" onclick="toggleTab('lsd')" data-i18n="tab-lsd">–õ–°–î</div>
                <div class="tab" onclick="toggleTab('heroin')" data-i18n="tab-heroin">–ì–µ—Ä–æ–∏–Ω</div>
            </div>
            <div class="content">
                <div class="filter">
                    <div class="mandala-select">
                        <button class="mandala-button" id="district-button" data-i18n="district-all">–†–∞–π–æ–Ω: –í—Å–µ</button>
                        <div class="mandala-options" id="district-options">
                            <div onclick="selectDistrict('all')" data-i18n="district-all-option">–í—Å–µ —Ä–∞–π–æ–Ω—ã</div>
                            <div onclick="selectDistrict('anjuna')" data-i18n="district-anjuna">–ê–Ω–¥–∂—É–Ω–∞</div>
                            <div onclick="selectDistrict('baga')" data-i18n="district-baga">–ë–∞–≥–∞</div>
                            <div onclick="selectDistrict('calangute')" data-i18n="district-calangute">–ö–∞–ª–∞–Ω–≥—É—Ç</div>
                            <div onclick="selectDistrict('morjim')" data-i18n="district-morjim">–ú–æ—Ä–¥–∂–∏–º</div>
                            <div onclick="selectDistrict('panaji')" data-i18n="district-panaji">–ü–∞–Ω–∞–¥–∂–∏</div>
                            <div onclick="selectDistrict('arambol')" data-i18n="district-arambol">–ê—Ä–∞–º–±–æ–ª—å</div>
                        </div>
                    </div>
                    <div class="mandala-select">
                        <button class="mandala-button" id="stock-button" data-i18n="stock-all">–ù–∞–ª–∏—á–∏–µ: –í—Å–µ</button>
                        <div class="mandala-options" id="stock-options">
                            <div onclick="selectStock('all')" data-i18n="stock-all-option">–í—Å–µ</div>
                            <div onclick="selectStock('in-stock')" data-i18n="in-stock">–í –Ω–∞–ª–∏—á–∏–∏</div>
                            <div onclick="selectStock('out-of-stock')" data-i18n="out-of-stock">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</div>
                        </div>
                    </div>
                    <div class="mandala-select">
                        <button class="mandala-button" id="discount-button" data-i18n="discount-all">–°–∫–∏–¥–∫–∏: –í—Å–µ</button>
                        <div class="mandala-options" id="discount-options">
                            <div onclick="selectDiscount('all')" data-i18n="discount-all-option">–í—Å–µ</div>
                            <div onclick="selectDiscount('with-discount')" data-i18n="with-discount">–°–æ —Å–∫–∏–¥–∫–æ–π</div>
                            <div onclick="selectDiscount('no-discount')" data-i18n="no-discount">–ë–µ–∑ —Å–∫–∏–¥–∫–∏</div>
                        </div>
                    </div>
                </div>
                <div class="placeholder" id="placeholder" data-i18n="placeholder">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ –º–µ–Ω—é —Å–ª–µ–≤–∞</div>
                <div class="no-products" id="no-products" data-i18n="no-products">–¢–æ–≤–∞—Ä–æ–≤ –≤ —ç—Ç–æ–º —Ä–∞–π–æ–Ω–µ –Ω–µ—Ç</div>
                <div class="catalog-tab" id="marijuana"></div>
                <div class="catalog-tab" id="hashish"></div>
                <div class="catalog-tab" id="cocaine"></div>
                <div class="catalog-tab" id="meth"></div>
                <div class="catalog-tab" id="amphetamine"></div>
                <div class="catalog-tab" id="mephedrone"></div>
                <div class="catalog-tab" id="mdma"></div>
                <div class="catalog-tab" id="lsd"></div>
                <div class="catalog-tab" id="heroin"></div>
            </div>
        </div>
        <div class="section jobs" id="jobs">
            <div class="job-card">
                <h3 data-i18n="job1-title">–ö—É—Ä—å–µ—Ä –ø–æ –ø–ª—è–∂–∞–º –ì–æ–∞</h3>
                <p data-i18n="job1-desc">–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –†–∞–∑–≤–æ–∑–∏—Ç—å —Å—Ç–∞—Ñ—Ñ –ø–æ –ø–ª—è–∂–∞–º –ê–Ω–¥–∂—É–Ω—ã –∏ –ë–∞–≥–∏.</p>
                <p data-i18n="job1-salary">–û–ø–ª–∞—Ç–∞: ‚Çπ50000/–º–µ—Å—è—Ü</p>
                <button class="deal-button" onclick="checkAuthBeforeApply('–ö—É—Ä—å–µ—Ä –ø–æ –ø–ª—è–∂–∞–º –ì–æ–∞')" data-i18n="apply">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
            <div class="job-card">
                <h3 data-i18n="job2-title">–•–∏–º–∏–∫ –¥–ª—è —Ä–µ–π–≤–æ–≤</h3>
                <p data-i18n="job2-desc">–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –í–∞—Ä–∏—Ç—å —Å—Ç–∞—Ñ—Ñ –¥–ª—è –≤–µ—á–µ—Ä–∏–Ω–æ–∫ –≤ –ê—Ä–∞–º–±–æ–ª–µ.</p>
                <p data-i18n="job2-salary">–û–ø–ª–∞—Ç–∞: ‚Çπ100000/–º–µ—Å—è—Ü</p>
                <button class="deal-button" onclick="checkAuthBeforeApply('–•–∏–º–∏–∫ –¥–ª—è —Ä–µ–π–≤–æ–≤')" data-i18n="apply">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
            <div class="job-card">
                <h3 data-i18n="job3-title">–°–º–æ—Ç—Ä–∏—Ç–µ–ª—å –∫–ª–∞–¥–∞</h3>
                <p data-i18n="job3-desc">–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –ü—Ä—è—Ç–∞—Ç—å –∫–ª–∞–¥—ã –≤ –ö–∞–ª–∞–Ω–≥—É—Ç–µ –∏ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –Ω–∏–º–∏.</p>
                <p data-i18n="job3-salary">–û–ø–ª–∞—Ç–∞: ‚Çπ40000/–º–µ—Å—è—Ü</p>
                <button class="deal-button" onclick="checkAuthBeforeApply('–°–º–æ—Ç—Ä–∏—Ç–µ–ª—å –∫–ª–∞–¥–∞')" data-i18n="apply">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
        </div>
        <div class="section profile" id="profile">
            <div id="profile-content"></div>
        </div>
        <div class="section messages" id="messages">
            <div class="message-card">
                <h3 data-i18n="message1-title">–ö–ª–∞–¥ –≥–æ—Ç–æ–≤</h3>
                <p data-i18n="message1-text">–¢–≤–æ–π –∑–∞–∫–∞–∑ "Goa Trance" —Å–ø—Ä—è—Ç–∞–Ω —É Tito‚Äôs Lane, –ë–∞–≥–∞.</p>
            </div>
            <div class="message-card">
                <h3 data-i18n="message2-title">–ü–æ–ø–æ–ª–Ω–∏ –±–∞–ª–∞–Ω—Å</h3>
                <p data-i18n="message2-text">–ö–∏–¥–∞–π ‚Çπ, —á—Ç–æ–±—ã –∑–∞–±—Ä–∞—Ç—å "Anjuna Haze" –≤ –ê–Ω–¥–∂—É–Ω–µ.</p>
            </div>
        </div>
    </div>
    <div class="modal" id="depositModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('depositModal')">√ó</span>
            <h3 data-i18n="deposit-title">–ü–æ–ø–æ–ª–Ω–∏ –±–∞–ª–∞–Ω—Å, –º—É–¥–∞–∫!</h3>
            <p data-i18n="deposit-text1">–ü–µ—Ä–µ–≤–µ–¥–∏ ‚Çπ —á–µ—Ä–µ–∑ UPI –∏–ª–∏ –∫—Ä–∏–ø—Ç—É (USDT, BTC) –Ω–∞ —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å:</p>
            <p><strong>0xFakeWallet123456789</strong></p>
            <p data-i18n="deposit-text2">–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –¥–æ—Å—Ç—É–ø –∫ –∫–ª–∞–¥–∞–º –æ—Ç–∫—Ä–æ–µ—Ç—Å—è. –ñ–¥–∏, –ø–∏–∑–¥–µ—Ü —Ç–µ–±–µ!</p>
            <button class="deal-button" onclick="depositFunds()" data-i18n="deposit-button">–û–ø–ª–∞—Ç–∏–ª</button>
        </div>
    </div>
    <div class="modal" id="authModal">
        <div class="auth-modal-content">
            <span class="close" onclick="closeModal('authModal')">√ó</span>
            <div id="loginForm">
                <h3 data-i18n="login-title">–í—Ö–æ–¥, –±—Ä–∞—Ç–∏—à–∫–∞!</h3>
                <input type="text" id="loginUsername" data-i18n="[placeholder]login-username">
                <input type="password" id="loginPassword" data-i18n="[placeholder]login-password">
                <button onclick="login()" data-i18n="login-button">–í–æ–π—Ç–∏</button>
                <p class="switch-form" onclick="showRegisterForm()" data-i18n="switch-to-register">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è, –ª–æ—Ö!</p>
            </div>
            <div id="registerForm" style="display: none;">
                <h3 data-i18n="register-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –¥–µ–±–∏–ª!</h3>
                <input type="text" id="regUsername" data-i18n="[placeholder]register-username">
                <input type="password" id="regPassword" data-i18n="[placeholder]register-password">
                <input type="password" id="regConfirmPassword" data-i18n="[placeholder]register-confirm-password">
                <input type="text" id="regReferralCode" data-i18n="[placeholder]register-referral">
                <button onclick="register()" data-i18n="register-button">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <p class="switch-form" onclick="showLoginForm()" data-i18n="switch-to-login">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í—Ö–æ–¥–∏, –¥–µ–±–∏–ª!</p>
            </div>
        </div>
    </div>
    <script>
        let currentSection = null;
        let currentTab = null;
        let selectedDistrict = 'all';
        let selectedStock = 'all';
        let selectedDiscount = 'all';
        let isSidebarOpen = false;
        let touchStartX = 0;
        let touchEndX = 0;
        let currentUser = null;
        let currentLanguage = 'ru';

        const translations = {
            ru: {
                title: "Shadow Goa",
                subtitle: "–¢—ë–º–Ω—ã–µ —Å–¥–µ–ª–∫–∏ –ì–æ–∞",
                "nav-catalog": "–ö–∞—Ç–∞–ª–æ–≥",
                "nav-jobs": "–í–∞–∫–∞–Ω—Å–∏–∏",
                "nav-profile": "–ö–Ω–∏–≥–∞ —É—á—ë—Ç–∞",
                "nav-messages": "–°–æ–æ–±—â–µ–Ω–∏—è",
                "tab-marijuana": "–ú–∞—Ä–∏—Ö—É–∞–Ω–∞",
                "tab-hashish": "–ì–∞—à–∏—à",
                "tab-cocaine": "–ö–æ–∫–∞–∏–Ω",
                "tab-meth": "–ú–µ—Ç–∞–º—Ñ–µ—Ç–∞–º–∏–Ω",
                "tab-amphetamine": "–ê–º—Ñ–µ—Ç–∞–º–∏–Ω",
                "tab-mephedrone": "–ú–µ—Ñ–µ–¥—Ä–æ–Ω",
                "tab-mdma": "–ú–î–ú–ê",
                "tab-lsd": "–õ–°–î",
                "tab-heroin": "–ì–µ—Ä–æ–∏–Ω",
                "district-all": "–†–∞–π–æ–Ω: –í—Å–µ",
                "district-all-option": "–í—Å–µ —Ä–∞–π–æ–Ω—ã",
                "district-anjuna": "–ê–Ω–¥–∂—É–Ω–∞",
                "district-baga": "–ë–∞–≥–∞",
                "district-calangute": "–ö–∞–ª–∞–Ω–≥—É—Ç",
                "district-morjim": "–ú–æ—Ä–¥–∂–∏–º",
                "district-panaji": "–ü–∞–Ω–∞–¥–∂–∏",
                "district-arambol": "–ê—Ä–∞–º–±–æ–ª—å",
                "stock-all": "–ù–∞–ª–∏—á–∏–µ: –í—Å–µ",
                "stock-all-option": "–í—Å–µ",
                "discount-all": "–°–∫–∏–¥–∫–∏: –í—Å–µ",
                "discount-all-option": "–í—Å–µ",
                "with-discount": "–°–æ —Å–∫–∏–¥–∫–æ–π",
                "no-discount": "–ë–µ–∑ —Å–∫–∏–¥–∫–∏",
                placeholder: "–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ –º–µ–Ω—é —Å–ª–µ–≤–∞",
                "no-products": "–¢–æ–≤–∞—Ä–æ–≤ –≤ —ç—Ç–æ–º —Ä–∞–π–æ–Ω–µ –Ω–µ—Ç",
                "job1-title": "–ö—É—Ä—å–µ—Ä –ø–æ –ø–ª—è–∂–∞–º –ì–æ–∞",
                "job1-desc": "–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –†–∞–∑–≤–æ–∑–∏—Ç—å —Å—Ç–∞—Ñ—Ñ –ø–æ –ø–ª—è–∂–∞–º –ê–Ω–¥–∂—É–Ω—ã –∏ –ë–∞–≥–∏.",
                "job1-salary": "–û–ø–ª–∞—Ç–∞: ‚Çπ50000/–º–µ—Å—è—Ü",
                "job2-title": "–•–∏–º–∏–∫ –¥–ª—è —Ä–µ–π–≤–æ–≤",
                "job2-desc": "–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –í–∞—Ä–∏—Ç—å —Å—Ç–∞—Ñ—Ñ –¥–ª—è –≤–µ—á–µ—Ä–∏–Ω–æ–∫ –≤ –ê—Ä–∞–º–±–æ–ª–µ.",
                "job2-salary": "–û–ø–ª–∞—Ç–∞: ‚Çπ100000/–º–µ—Å—è—Ü",
                "job3-title": "–°–º–æ—Ç—Ä–∏—Ç–µ–ª—å –∫–ª–∞–¥–∞",
                "job3-desc": "–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –ü—Ä—è—Ç–∞—Ç—å –∫–ª–∞–¥—ã –≤ –ö–∞–ª–∞–Ω–≥—É—Ç–µ –∏ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –Ω–∏–º–∏.",
                "job3-salary": "–û–ø–ª–∞—Ç–∞: ‚Çπ40000/–º–µ—Å—è—Ü",
                apply: "–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É",
                "message1-title": "–ö–ª–∞–¥ –≥–æ—Ç–æ–≤",
                "message1-text": '–¢–≤–æ–π –∑–∞–∫–∞–∑ "Goa Trance" —Å–ø—Ä—è—Ç–∞–Ω —É Tito‚Äôs Lane, –ë–∞–≥–∞.',
                "message2-title": "–ü–æ–ø–æ–ª–Ω–∏ –±–∞–ª–∞–Ω—Å",
                "message2-text": '–ö–∏–¥–∞–π ‚Çπ, —á—Ç–æ–±—ã –∑–∞–±—Ä–∞—Ç—å "Anjuna Haze" –≤ –ê–Ω–¥–∂—É–Ω–µ.',
                "deposit-title": "–ü–æ–ø–æ–ª–Ω–∏ –±–∞–ª–∞–Ω—Å, –º—É–¥–∞–∫!",
                "deposit-text1": "–ü–µ—Ä–µ–≤–µ–¥–∏ ‚Çπ —á–µ—Ä–µ–∑ UPI –∏–ª–∏ –∫—Ä–∏–ø—Ç—É (USDT, BTC) –Ω–∞ —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å:",
                "deposit-text2": "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –¥–æ—Å—Ç—É–ø –∫ –∫–ª–∞–¥–∞–º –æ—Ç–∫—Ä–æ–µ—Ç—Å—è. –ñ–¥–∏, –ø–∏–∑–¥–µ—Ü —Ç–µ–±–µ!",
                "deposit-button": "–û–ø–ª–∞—Ç–∏–ª",
                "login-title": "–í—Ö–æ–¥, –±—Ä–∞—Ç–∏—à–∫–∞!",
                "login-username": "–ò–º—è —é–∑–µ—Ä–∞",
                "login-password": "–ü–∞—Ä–æ–ª—å",
                "login-button": "–í–æ–π—Ç–∏",
                "switch-to-register": "–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è, –ª–æ—Ö!",
                "register-title": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –¥–µ–±–∏–ª!",
                "register-username": "–ò–º—è —é–∑–µ—Ä–∞",
                "register-password": "–ü–∞—Ä–æ–ª—å",
                "register-confirm-password": "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏ –ø–∞—Ä–æ–ª—å",
                "register-referral": "–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥ (–µ—Å–ª–∏ –µ—Å—Ç—å)",
                "register-button": "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",
                "switch-to-login": "–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í—Ö–æ–¥–∏, –¥–µ–±–∏–ª!",
                "profile-title": "–¢–≤–æ–π —É—á—ë—Ç",
                "profile-name": "–ò–º—è",
                "profile-balance": "–ë–∞–ª–∞–Ω—Å",
                "profile-orders": "–ó–∞–∫–∞–∑—ã",
                "profile-referral-bonus": "–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã",
                "profile-deposit": "–ü–æ–ø–æ–ª–Ω–∏—Ç—å",
                "profile-logout": "–í—ã–π—Ç–∏ üö™",
                "referral-link-text": "–¢–≤–æ—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞:",
                "referral-invite": "–ü—Ä–∏–≥–ª–∞—à–∞–π –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π ‚Çπ1000 –∑–∞ –∫–∞–∂–¥–æ–≥–æ!",
                "login-prompt": "–í–æ–π—Ç–∏ üîë",
                "register-prompt": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è üìù",
                "in-stock": "–í –Ω–∞–ª–∏—á–∏–∏",
                "out-of-stock": "–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏",
                "take-deal": "Take Deal",
                "pre-order": "–ü—Ä–µ–¥–∑–∞–∫–∞–∑",
                discount: "–°–∫–∏–¥–∫–∞",
                usdt: "USDT"
            },
            en: {
                title: "Shadow Goa",
                subtitle: "Dark Deals of Goa",
                "nav-catalog": "Catalog",
                "nav-jobs": "Jobs",
                "nav-profile": "Ledger",
                "nav-messages": "Messages",
                "tab-marijuana": "Marijuana",
                "tab-hashish": "Hashish",
                "tab-cocaine": "Cocaine",
                "tab-meth": "Methamphetamine",
                "tab-amphetamine": "Amphetamine",
                "tab-mephedrone": "Mephedrone",
                "tab-mdma": "MDMA",
                "tab-lsd": "LSD",
                "tab-heroin": "Heroin",
                "district-all": "District: All",
                "district-all-option": "All Districts",
                "district-anjuna": "Anjuna",
                "district-baga": "Baga",
                "district-calangute": "Calangute",
                "district-morjim": "Morjim",
                "district-panaji": "Panaji",
                "district-arambol": "Arambol",
                "stock-all": "Stock: All",
                "stock-all-option": "All",
                "discount-all": "Discounts: All",
                "discount-all-option": "All",
                "with-discount": "With Discount",
                "no-discount": "No Discount",
                placeholder: "Select a category from the menu on the left",
                "no-products": "No products in this district",
                "job1-title": "Beach Courier in Goa",
                "job1-desc": "Responsibilities: Deliver stuff across Anjuna and Baga beaches.",
                "job1-salary": "Salary: ‚Çπ50000/month",
                "job2-title": "Rave Chemist",
                "job2-desc": "Responsibilities: Cook stuff for parties in Arambol.",
                "job2-salary": "Salary: ‚Çπ100000/month",
                "job3-title": "Stash Keeper",
                "job3-desc": "Responsibilities: Hide stashes in Calangute and monitor them.",
                "job3-salary": "Salary: ‚Çπ40000/month",
                apply: "Apply",
                "message1-title": "Stash Ready",
                "message1-text": 'Your order "Goa Trance" is hidden at Tito‚Äôs Lane, Baga.',
                "message2-title": "Top Up Balance",
                "message2-text": 'Send ‚Çπ to pick up "Anjuna Haze" in Anjuna.',
                "deposit-title": "Top Up Your Balance, Dude!",
                "deposit-text1": "Transfer ‚Çπ via UPI or crypto (USDT, BTC) to this address:",
                "deposit-text2": "After payment, access to stashes will be granted. Wait, you‚Äôre screwed!",
                "deposit-button": "Paid",
                "login-title": "Login, Bro!",
                "login-username": "Username",
                "login-password": "Password",
                "login-button": "Login",
                "switch-to-register": "No account? Register, loser!",
                "register-title": "Register, Idiot!",
                "register-username": "Username",
                "register-password": "Password",
                "register-confirm-password": "Confirm Password",
                "register-referral": "Referral Code (if any)",
                "register-button": "Register",
                "switch-to-login": "Already have an account? Login, idiot!",
                "profile-title": "Your Ledger",
                "profile-name": "Name",
                "profile-balance": "Balance",
                "profile-orders": "Orders",
                "profile-referral-bonus": "Referral Bonuses",
                "profile-deposit": "Deposit",
                "profile-logout": "Logout üö™",
                "referral-link-text": "Your Referral Link:",
                "referral-invite": "Invite friends and earn ‚Çπ1000 for each!",
                "login-prompt": "Login üîë",
                "register-prompt": "Register üìù",
                "in-stock": "In Stock",
                "out-of-stock": "Out of Stock",
                "take-deal": "Take Deal",
                "pre-order": "Pre-order",
                discount: "Discount",
                usdt: "USDT"
            },
            hi: {
                title: "‡§∂‡•à‡§°‡•ã ‡§ó‡•ã‡§µ‡§æ",
                subtitle: "‡§ó‡•ã‡§µ‡§æ ‡§ï‡•Ä ‡§°‡§æ‡§∞‡•ç‡§ï ‡§°‡•Ä‡§≤‡•ç‡§∏",
                "nav-catalog": "‡§∏‡•Ç‡§ö‡•Ä",
                "nav-jobs": "‡§®‡•å‡§ï‡§∞‡§ø‡§Ø‡§æ‡§Ç",
                "nav-profile": "‡§ñ‡§æ‡§§‡§æ ‡§¨‡§π‡•Ä",
                "nav-messages": "‡§∏‡§Ç‡§¶‡•á‡§∂",
                "tab-marijuana": "‡§Æ‡§æ‡§∞‡§ø‡§ú‡•Å‡§Ü‡§®‡§æ",
                "tab-hashish": "‡§π‡§∂‡•Ä‡§∂",
                "tab-cocaine": "‡§ï‡•ã‡§ï‡•á‡§®",
                "tab-meth": "‡§Æ‡•á‡§•‡§Æ‡§´‡•á‡§ü‡§æ‡§Æ‡§æ‡§á‡§®",
                "tab-amphetamine": "‡§è‡§Æ‡•ç‡§´‡•á‡§ü‡§æ‡§Æ‡§æ‡§á‡§®",
                "tab-mephedrone": "‡§Æ‡•á‡§´‡•á‡§°‡•ç‡§∞‡•ã‡§®",
                "tab-mdma": "‡§è‡§Æ‡§°‡•Ä‡§è‡§Æ‡§è",
                "tab-lsd": "‡§è‡§≤‡§è‡§∏‡§°‡•Ä",
                "tab-heroin": "‡§π‡•á‡§∞‡•ã‡§á‡§®",
                "district-all": "‡§ú‡§ø‡§≤‡§æ: ‡§∏‡§≠‡•Ä",
                "district-all-option": "‡§∏‡§≠‡•Ä ‡§ú‡§ø‡§≤‡•á",
                "district-anjuna": "‡§Ö‡§Ç‡§ú‡•Å‡§®‡§æ",
                "district-baga": "‡§¨‡§æ‡§ó‡§æ",
                "district-calangute": "‡§ï‡§æ‡§≤‡§Ç‡§ó‡•Å‡§ü",
                "district-morjim": "‡§Æ‡•ã‡§∞‡§ú‡§ø‡§Æ",
                "district-panaji": "‡§™‡§£‡§ú‡•Ä",
                "district-arambol": "‡§Ö‡§∞‡§Ç‡§¨‡•ã‡§≤",
                "stock-all": "‡§∏‡•ç‡§ü‡•â‡§ï: ‡§∏‡§≠‡•Ä",
                "stock-all-option": "‡§∏‡§≠‡•Ä",
                "discount-all": "‡§õ‡•Ç‡§ü: ‡§∏‡§≠‡•Ä",
                "discount-all-option": "‡§∏‡§≠‡•Ä",
                "with-discount": "‡§õ‡•Ç‡§ü ‡§ï‡•á ‡§∏‡§æ‡§•",
                "no-discount": "‡§õ‡•Ç‡§ü ‡§ï‡•á ‡§¨‡§ø‡§®‡§æ",
                placeholder: "‡§¨‡§æ‡§à‡§Ç ‡§ì‡§∞ ‡§Æ‡•á‡§®‡•Ç ‡§∏‡•á ‡§è‡§ï ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä ‡§ö‡•Å‡§®‡•á‡§Ç",
                "no-products": "‡§á‡§∏ ‡§ú‡§ø‡§≤‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•ã‡§à ‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡§Ç",
                "job1-title": "‡§ó‡•ã‡§µ‡§æ ‡§ï‡•á ‡§∏‡§Æ‡•Å‡§¶‡•ç‡§∞ ‡§§‡§ü‡•ã‡§Ç ‡§™‡§∞ ‡§ï‡•Ç‡§∞‡§ø‡§Ø‡§∞",
                "job1-desc": "‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞‡§ø‡§Ø‡§æ‡§Ç: ‡§Ö‡§Ç‡§ú‡•Å‡§®‡§æ ‡§î‡§∞ ‡§¨‡§æ‡§ó‡§æ ‡§∏‡§Æ‡•Å‡§¶‡•ç‡§∞ ‡§§‡§ü‡•ã‡§Ç ‡§™‡§∞ ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§™‡§π‡•Å‡§Ç‡§ö‡§æ‡§®‡§æ‡•§",
                "job1-salary": "‡§µ‡•á‡§§‡§®: ‚Çπ50000/‡§Æ‡§æ‡§π",
                "job2-title": "‡§∞‡•á‡§µ ‡§™‡§æ‡§∞‡•ç‡§ü‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∞‡§∏‡§æ‡§Ø‡§®‡§ú‡•ç‡§û",
                "job2-desc": "‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞‡§ø‡§Ø‡§æ‡§Ç: ‡§Ö‡§∞‡§Ç‡§¨‡•ã‡§≤ ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§∞‡•ç‡§ü‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§®‡§æ‡•§",
                "job2-salary": "‡§µ‡•á‡§§‡§®: ‚Çπ100000/‡§Æ‡§æ‡§π",
                "job3-title": "‡§ñ‡§ú‡§æ‡§®‡•á ‡§ï‡§æ ‡§∞‡§ñ‡§µ‡§æ‡§≤‡§æ",
                "job3-desc": "‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞‡§ø‡§Ø‡§æ‡§Ç: ‡§ï‡§æ‡§≤‡§Ç‡§ó‡•Å‡§ü ‡§Æ‡•á‡§Ç ‡§ñ‡§ú‡§æ‡§®‡•á ‡§õ‡§ø‡§™‡§æ‡§®‡§æ ‡§î‡§∞ ‡§â‡§®‡§ï‡•Ä ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä ‡§ï‡§∞‡§®‡§æ‡•§",
                "job3-salary": "‡§µ‡•á‡§§‡§®: ‚Çπ40000/‡§Æ‡§æ‡§π",
                apply: "‡§Ü‡§µ‡•á‡§¶‡§® ‡§ï‡§∞‡•á‡§Ç",
                "message1-title": "‡§ñ‡§ú‡§æ‡§®‡§æ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à",
                "message1-text": '‡§Ü‡§™‡§ï‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ "Goa Trance" ‡§ü‡§ø‡§ü‡•ã ‡§≤‡•á‡§®, ‡§¨‡§æ‡§ó‡§æ ‡§Æ‡•á‡§Ç ‡§õ‡§ø‡§™‡§æ ‡§π‡•à‡•§',
                "message2-title": "‡§¨‡•à‡§≤‡•á‡§Ç‡§∏ ‡§ü‡•â‡§™ ‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç",
                "message2-text": '‡§Ö‡§Ç‡§ú‡•Å‡§®‡§æ ‡§Æ‡•á‡§Ç "Anjuna Haze" ‡§≤‡•á‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‚Çπ ‡§≠‡•á‡§ú‡•á‡§Ç‡•§',
                "deposit-title": "‡§Ö‡§™‡§®‡§æ ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏ ‡§ü‡•â‡§™ ‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç, ‡§≠‡§æ‡§à!",
                "deposit-text1": "‡§á‡§∏ ‡§™‡§§‡•á ‡§™‡§∞ UPI ‡§Ø‡§æ ‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü‡•ã (USDT, BTC) ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‚Çπ ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡§´‡§∞ ‡§ï‡§∞‡•á‡§Ç:",
                "deposit-text2": "‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡•á ‡§¨‡§æ‡§¶, ‡§ñ‡§ú‡§æ‡§®‡•ã‡§Ç ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö ‡§Æ‡§ø‡§≤ ‡§ú‡§æ‡§è‡§ó‡•Ä‡•§ ‡§á‡§Ç‡§§‡§ú‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç, ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•Ä ‡§∂‡§æ‡§Æ‡§§ ‡§Ü‡§à ‡§π‡•à!",
                "deposit-button": "‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡§ø‡§Ø‡§æ",
                "login-title": "‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç, ‡§≠‡§æ‡§à!",
                "login-username": "‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§®‡§æ‡§Æ",
                "login-password": "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°",
                "login-button": "‡§≤‡•â‡§ó‡§ø‡§®",
                "switch-to-register": "‡§ï‡•ã‡§à ‡§ñ‡§æ‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç? ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç, ‡§π‡§æ‡§∞‡•á ‡§π‡•Å‡§è!",
                "register-title": "‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç, ‡§Æ‡•Ç‡§∞‡•ç‡§ñ!",
                "register-username": "‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§®‡§æ‡§Æ",
                "register-password": "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°",
                "register-confirm-password": "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§ï‡•Ä ‡§™‡•Å‡§∑‡•ç‡§ü‡§ø ‡§ï‡§∞‡•á‡§Ç",
                "register-referral": "‡§∞‡•á‡§´‡§∞‡§≤ ‡§ï‡•ã‡§° (‡§Ø‡§¶‡§ø ‡§ï‡•ã‡§à ‡§π‡•ã)",
                "register-button": "‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞",
                "switch-to-login": "‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§ñ‡§æ‡§§‡§æ ‡§π‡•à? ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç, ‡§Æ‡•Ç‡§∞‡•ç‡§ñ!",
                "profile-title": "‡§Ü‡§™‡§ï‡•Ä ‡§ñ‡§æ‡§§‡§æ ‡§¨‡§π‡•Ä",
                "profile-name": "‡§®‡§æ‡§Æ",
                "profile-balance": "‡§¨‡•à‡§≤‡•á‡§Ç‡§∏",
                "profile-orders": "‡§ë‡§∞‡•ç‡§°‡§∞",
                "profile-referral-bonus": "‡§∞‡•á‡§´‡§∞‡§≤ ‡§¨‡•ã‡§®‡§∏",
                "profile-deposit": "‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç",
                "profile-logout": "‡§≤‡•â‡§ó‡§Ü‡§â‡§ü üö™",
                "referral-link-text": "‡§Ü‡§™‡§ï‡§æ ‡§∞‡•á‡§´‡§∞‡§≤ ‡§≤‡§ø‡§Ç‡§ï:",
                "referral-invite": "‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§Ü‡§Æ‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§ï‡•á ‡§≤‡§ø‡§è ‚Çπ1000 ‡§ï‡§Æ‡§æ‡§è‡§Ç!",
                "login-prompt": "‡§≤‡•â‡§ó‡§ø‡§® üîë",
                "register-prompt": "‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ üìù",
                "in-stock": "‡§∏‡•ç‡§ü‡•â‡§ï ‡§Æ‡•á‡§Ç",
                "out-of-stock": "‡§∏‡•ç‡§ü‡•â‡§ï ‡§Æ‡•á‡§Ç ‡§®‡§π‡•Ä‡§Ç",
                "take-deal": "‡§°‡•Ä‡§≤ ‡§≤‡•á‡§Ç",
                "pre-order": "‡§™‡•ç‡§∞‡•Ä-‡§ë‡§∞‡•ç‡§°‡§∞",
                discount: "‡§õ‡•Ç‡§ü",
                usdt: "USDT"
            }
        };

        function setLanguage(lang) {
            currentLanguage = lang;
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                const attr = key.startsWith('[placeholder]') ? 'placeholder' : null;
                const translationKey = attr ? key.replace('[placeholder]', '') : key;
                if (attr) {
                    element.setAttribute(attr, translations[lang][translationKey]);
                } else {
                    element.innerText = translations[lang][translationKey];
                }
            });
            const districtButton = document.getElementById('district-button');
            const districtText = selectedDistrict === 'all' ? translations[lang]['district-all-option'] : translations[lang][`district-${selectedDistrict}`];
            districtButton.innerText = `${translations[lang]['district-all'].split(':')[0]}: ${districtText}`;
            const stockButton = document.getElementById('stock-button');
            const stockText = selectedStock === 'all' ? translations[lang]['stock-all-option'] : translations[lang][selectedStock];
            stockButton.innerText = `${translations[lang]['stock-all'].split(':')[0]}: ${stockText}`;
            const discountButton = document.getElementById('discount-button');
            const discountText = selectedDiscount === 'all' ? translations[lang]['discount-all-option'] : translations[lang][selectedDiscount];
            discountButton.innerText = `${translations[lang]['discount-all'].split(':')[0]}: ${discountText}`;
            initProducts();
            updateProfile();
        }

        function generateWeights(category) {
            const weights = [];
            if (category === 'marijuana' || category === 'hashish') {
                weights.push(10);
                const additionalWeights = [];
                for (let i = 0; i < 4; i++) {
                    const weight = Math.floor(Math.random() * (100 - 10 + 1)) + 10;
                    if (!additionalWeights.includes(weight) && weight !== 10) {
                        additionalWeights.push(weight);
                    }
                }
                weights.push(...additionalWeights.sort((a, b) => a - b));
            } else if (category === 'cocaine') {
                weights.push(0.5, 1);
                const additionalWeights = [];
                for (let i = 0; i < 3; i++) {
                    const weight = Math.random() * (20 - 1) + 1;
                    const roundedWeight = Math.round(weight * 2) / 2;
                    if (!additionalWeights.includes(roundedWeight) && roundedWeight !== 0.5 && roundedWeight !== 1) {
                        additionalWeights.push(roundedWeight);
                    }
                }
                weights.push(...additionalWeights.sort((a, b) => a - b));
            } else {
                for (let i = 0; i < 5; i++) {
                    const weight = Math.floor(Math.random() * (20 - 1 + 1)) + 1;
                    if (!weights.includes(weight)) {
                        weights.push(weight);
                    }
                }
                weights.sort((a, b) => a - b);
            }
            return weights;
        }

        function generateReviews() {
            const positiveReviews = {
                ru: ["–ü–æ—Ö–µ—Ä, –±—Ä–∞—Ç–∏—à–∫–∞, —Å—Ç–∞—Ñ—Ñ –æ–≥–æ–Ω—å!", "–ö–∞—á–µ—Å—Ç–≤–æ –ø—É—à–∫–∞, –±–µ—Ä–∏ –Ω–µ –ø–æ–∂–∞–ª–µ–µ—à—å!", "–¢—Ä–∞–Ω—Å —É–Ω–æ—Å–∏—Ç, –≤—Å—ë —á—ë—Ç–∫–æ!", "–°—Ç–∞—Ñ—Ñ —Ä–µ–∞–ª—å–Ω–æ VHQ, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é!", "–î–æ—Å—Ç–∞–≤–∫–∞ –±—ã—Å—Ç—Ä–∞—è, –≤—Å—ë –Ω–∞ –º–µ—Å—Ç–µ!"],
                en: ["Damn, bro, the stuff is fire!", "Quality is top-notch, you won‚Äôt regret it!", "Trance takes you away, all good!", "Stuff is really VHQ, recommend!", "Delivery is fast, everything‚Äôs in place!"],
                hi: ["‡§≠‡§æ‡§à, ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§ú‡§¨‡§∞‡§¶‡§∏‡•ç‡§§ ‡§π‡•à!", "‡§ï‡•ç‡§µ‡§æ‡§≤‡§ø‡§ü‡•Ä ‡§∂‡§æ‡§®‡§¶‡§æ‡§∞ ‡§π‡•à, ‡§™‡§õ‡§§‡§æ‡§µ‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§ó‡§æ!", "‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏ ‡§≤‡•á ‡§ú‡§æ‡§§‡§æ ‡§π‡•à, ‡§∏‡§¨ ‡§†‡•Ä‡§ï ‡§π‡•à!", "‡§∏‡§æ‡§Æ‡§æ‡§® ‡§µ‡§æ‡§ï‡§à VHQ ‡§π‡•à, ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§¶‡•á‡§§‡§æ ‡§π‡•Ç‡§Å!", "‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§§‡•á‡§ú ‡§π‡•à, ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§ú‡§ó‡§π ‡§™‡§∞ ‡§π‡•à!"]
            };
            const negativeReviews = {
                ru: ["–ü–æ—Ö–µ—Ä, –±—Ä–∞—Ç–∏—à–∫–∞, —Å—Ç–∞—Ñ—Ñ –ø–∞–ª—ë–Ω—ã–π!", "–ö–∞—á–µ—Å—Ç–≤–æ —Ç–∞–∫ —Å–µ–±–µ, –æ–∂–∏–¥–∞–ª –±–æ–ª—å—à–µ–≥–æ.", "–î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ–ª–≥–∞—è, –ø–∏–∑–¥–µ—Ü —Ç–µ–±–µ!", "–°—Ç–∞—Ñ—Ñ –Ω–µ —Ç—è–Ω–µ—Ç, –∑—Ä—è –≤–∑—è–ª.", "–ö–ª–∞–¥ –Ω–µ –Ω–∞ –º–µ—Å—Ç–µ, –º—É–¥–∞–∫!"],
                en: ["Damn, bro, the stuff is fake!", "Quality is meh, expected more.", "Delivery took forever, you‚Äôre screwed!", "Stuff doesn‚Äôt hit, waste of money.", "Stash wasn‚Äôt there, idiot!"],
                hi: ["‡§≠‡§æ‡§à, ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§®‡§ï‡§≤‡•Ä ‡§π‡•à!", "‡§ï‡•ç‡§µ‡§æ‡§≤‡§ø‡§ü‡•Ä ‡§†‡•Ä‡§ï-‡§†‡§æ‡§ï ‡§π‡•à, ‡§î‡§∞ ‡§â‡§Æ‡•ç‡§Æ‡•Ä‡§¶ ‡§•‡•Ä‡•§", "‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§¶‡•á‡§∞‡•Ä ‡§π‡•Å‡§à, ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•Ä ‡§∂‡§æ‡§Æ‡§§ ‡§Ü‡§à!", "‡§∏‡§æ‡§Æ‡§æ‡§® ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à, ‡§µ‡•ç‡§Ø‡§∞‡•ç‡§• ‡§≤‡§ø‡§Ø‡§æ‡•§", "‡§ñ‡§ú‡§æ‡§®‡§æ ‡§µ‡§π‡§æ‡§Å ‡§®‡§π‡•Ä‡§Ç ‡§•‡§æ, ‡§Æ‡•Ç‡§∞‡•ç‡§ñ!"]
            };
            const reviews = [];
            for (let i = 0; i < 5; i++) {
                const isPositive = Math.random() > 0.4;
                const rating = isPositive ? Math.floor(Math.random() * 2) + 4 : Math.floor(Math.random() * 3) + 1;
                const reviewText = isPositive
                    ? positiveReviews[currentLanguage][Math.floor(Math.random() * positiveReviews[currentLanguage].length)]
                    : negativeReviews[currentLanguage][Math.floor(Math.random() * negativeReviews[currentLanguage].length)];
                reviews.push({ user: `User${Math.floor(Math.random() * 100)}`, text: reviewText, rating });
            }
            return reviews;
        }

        const products = {
            marijuana: [
                { id: 'anjuna-haze', name: 'Anjuna Haze (VHQ)', description: '–¢—Ä–∞–≤–∞ —Å –ø–ª—è–∂–µ–π –ê–Ω–¥–∂—É–Ω—ã, —Ç—Ä–∞–Ω—Å–æ–≤–∞—è –≤–æ–ª–Ω–∞. 70% –¢–ì–ö.', basePrice: 500, district: 'anjuna', inStock: true },
                { id: 'baga-bud', name: 'Baga Bud (HQ)', description: '–°–æ—á–Ω–∞—è —Ç—Ä–∞–≤–∞ —Å –≤–µ—á–µ—Ä–∏–Ω–æ–∫ –ë–∞–≥–∏. 65% –¢–ì–ö.', basePrice: 450, district: 'baga', inStock: false },
                { id: 'arambol-green', name: 'Arambol Green (VHQ)', description: '–•–∏–ø–ø–∏-—Ç—Ä–∞–≤–∞ –∏–∑ –ê—Ä–∞–º–±–æ–ª—è. 68% –¢–ì–ö.', basePrice: 480, district: 'arambol', inStock: true }
            ],
            hashish: [
                { id: 'arambol-charas', name: 'Arambol Charas (VHQ)', description: '–ì–∞—à–∏—à —Å —Ö–∏–ø–ø–∏-–≤–∞–π–±–æ–º –ê—Ä–∞–º–±–æ–ª—è. –ú—è–≥–∫–∏–π –∏ –≥–ª—É–±–æ–∫–∏–π.', basePrice: 600, district: 'arambol', inStock: true },
                { id: 'morjim-hash', name: 'Morjim Hash (HQ)', description: '–ì–∞—à–∏—à —Å —Ç–∏—Ö–∏—Ö –ø–ª—è–∂–µ–π –ú–æ—Ä–¥–∂–∏–º–∞. –ì–ª—É–±–æ–∫–∏–π —Ä–µ–ª–∞–∫—Å.', basePrice: 550, district: 'morjim', inStock: false }
            ],
            cocaine: [
                { id: 'baga-dust', name: 'Baga Dust (VHQ)', description: '–ö–æ–∫—Å —Å –≤–µ—á–µ—Ä–∏–Ω–æ–∫ –ë–∞–≥–∏. 95% —á–∏—Å—Ç–æ—Ç—ã, —á–∏—Å—Ç—ã–π –≤–∑–ª—ë—Ç.', basePrice: 12000, district: 'baga', inStock: true },
                { id: 'calangute-snow', name: 'Calangute Snow (HQ)', description: '–ö–æ–∫—Å —Å —à—É–º–Ω—ã—Ö —É–ª–∏—Ü –ö–∞–ª–∞–Ω–≥—É—Ç–∞. 90% —á–∏—Å—Ç–æ—Ç—ã.', basePrice: 11000, district: 'calangute', inStock: true }
            ],
            meth: [
                { id: 'morjim-rush', name: 'Morjim Rush (VHQ)', description: '–ú–µ—Ç —Å —Ç–∏—Ö–∏—Ö –ø–ª—è–∂–µ–π –ú–æ—Ä–¥–∂–∏–º–∞. –ë—ã—Å—Ç—Ä—ã–π –∏ –¥–æ–ª–≥–∏–π –∫–∞–π—Ñ.', basePrice: 800, district: 'morjim', inStock: false },
                { id: 'panaji-crystal', name: 'Panaji Crystal (HQ)', description: '–ú–µ—Ç —Å –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏—Ö —É–ª–æ—á–µ–∫ –ü–∞–Ω–∞–¥–∂–∏. –ß–∏—Å—Ç—ã–π –¥—Ä–∞–π–≤.', basePrice: 750, district: 'panaji', inStock: true }
            ],
            amphetamine: [
                { id: 'calangute-speed', name: 'Calangute Speed (VHQ)', description: '–ê–º—Ñ —Å —à—É–º–Ω—ã—Ö —É–ª–∏—Ü –ö–∞–ª–∞–Ω–≥—É—Ç–∞. –≠–Ω–µ—Ä–≥–∏—è –Ω–∞ –≤—Å—é –Ω–æ—á—å.', basePrice: 650, district: 'calangute', inStock: true },
                { id: 'baga-surge', name: 'Baga Surge (HQ)', description: '–ê–º—Ñ –¥–ª—è –≤–µ—á–µ—Ä–∏–Ω–æ–∫ –≤ –ë–∞–≥–µ. –ú–æ—â–Ω—ã–π –∑–∞—Ä—è–¥.', basePrice: 600, district: 'baga', inStock: true }
            ],
            mephedrone: [
                { id: 'panaji-spice', name: 'Panaji Spice (VHQ)', description: '–ú–µ—Ñ —Å –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏—Ö —É–ª–æ—á–µ–∫ –ü–∞–Ω–∞–¥–∂–∏. –≠–π—Ñ–æ—Ä–∏—è –∏ –¥—Ä–∞–π–≤.', basePrice: 700, district: 'panaji', inStock: true },
                { id: 'anjuna-wave', name: 'Anjuna Wave (HQ)', description: '–ú–µ—Ñ —Å —Ç—Ä–∞–Ω—Å-–≤–∞–π–±–æ–º –ê–Ω–¥–∂—É–Ω—ã. –≠–π—Ñ–æ—Ä–∏—è –Ω–∞ –≤—Å—é –Ω–æ—á—å.', basePrice: 650, district: 'anjuna', inStock: false }
            ],
            mdma: [
                { id: 'baga-bliss', name: 'Baga Bliss (VHQ)', description: '–ú–î–ú–ê –¥–ª—è –≤–µ—á–µ—Ä–∏–Ω–æ–∫ –≤ –ë–∞–≥–µ. –õ—é–±–æ–≤—å –∏ —ç–∫—Å—Ç–∞–∑.', basePrice: 400, district: 'baga', inStock: true },
                { id: 'anjuna-love', name: 'Anjuna Love (HQ)', description: '–ú–î–ú–ê —Å —Ä–µ–π–≤–æ–≤ –ê–Ω–¥–∂—É–Ω—ã. –ß–∏—Å—Ç–∞—è —ç–π—Ñ–æ—Ä–∏—è.', basePrice: 380, district: 'anjuna', inStock: true },
                { id: 'calangute-glow', name: 'Calangute Glow (VHQ)', description: '–ú–î–ú–ê –¥–ª—è —Ç—É—Å–æ–≤–æ–∫ –≤ –ö–∞–ª–∞–Ω–≥—É—Ç–µ. –Ø—Ä–∫–∏–µ —ç–º–æ—Ü–∏–∏.', basePrice: 390, district: 'calangute', inStock: false }
            ],
            lsd: [
                { id: 'goa-trance', name: 'Goa Trance (VHQ)', description: 'LSD –¥–ª—è –≥–æ–∞–Ω—Å–∫–∏—Ö —Ä–µ–π–≤–æ–≤. –ì–ª—É–±–æ–∫–∏–π —Ç—Ä–∏–ø –ø–æ–¥ –∑–≤—ë–∑–¥—ã.', basePrice: 300, district: 'anjuna', inStock: true },
                { id: 'arambol-vision', name: 'Arambol Vision (HQ)', description: 'LSD —Å —Ö–∏–ø–ø–∏-–≤–∞–π–±–æ–º –ê—Ä–∞–º–±–æ–ª—è. –Ø—Ä–∫–∏–µ –≤–∏–¥–µ–Ω–∏—è.', basePrice: 280, district: 'arambol', inStock: true }
            ],
            heroin: [
                { id: 'arambol-ice', name: 'Arambol Ice (VHQ)', description: '–ì–µ—Ä–æ–∏–Ω —Å —Ö–∏–ø–ø–∏-–≤–∞–π–±–æ–º –ê—Ä–∞–º–±–æ–ª—è. 90% —á–∏—Å—Ç–æ—Ç—ã.', basePrice: 1500, district: 'arambol', inStock: true },
                { id: 'panaji-drift', name: 'Panaji Drift (HQ)', description: '–ì–µ—Ä–æ–∏–Ω —Å –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏—Ö —É–ª–æ—á–µ–∫ –ü–∞–Ω–∞–¥–∂–∏. 85% —á–∏—Å—Ç–æ—Ç—ã.', basePrice: 1400, district: 'panaji', inStock: false }
            ]
        };

        function initProducts() {
            Object.keys(products).forEach(category => {
                const container = document.getElementById(category);
                container.innerHTML = '';
                products[category].forEach(product => {
                    const weights = generateWeights(category);
                    const card = document.createElement('div');
                    card.className = 'product-card';
                    card.setAttribute('data-district', product.district);
                    card.addEventListener('click', () => toggleProductDetails(card));
                    const weightOptions = weights.map(weight => {
                        const pricePerGram = product.basePrice;
                        const price = Math.round(pricePerGram * weight);
                        let discount = 0;
                        if ((category === 'marijuana' || category === 'hashish') && weight >= 20) {
                            discount = 10;
                        } else if (category === 'cocaine' && weight >= 3) {
                            discount = 15;
                        }
                        const discountedPrice = discount ? Math.round(price * (1 - discount / 100)) : price;
                        return { weight, price, discountedPrice, discount, reviews: generateReviews() };
                    });
                    card.innerHTML = `
                        <h3>${product.name}</h3>
                        <p>${product.description}</p>
                        <p>${product.inStock ? translations[currentLanguage]['in-stock'] : translations[currentLanguage]['out-of-stock']}</p>
                        <div class="weights" id="weights-${product.id}">
                            ${weightOptions.map(option => `
                                <div class="weight-option">
                                    <p>${option.weight}g: ‚Çπ${option.discountedPrice}${option.discount ? ` <span style="text-decoration: line-through; color: #e0d0b0;">‚Çπ${option.price}</span>` : ''} (~${Math.round(option.discountedPrice / 83)} ${translations[currentLanguage].usdt})</p>
                                    <button class="deal-button" onclick="event.stopPropagation(); checkAuthBeforeDeal('${product.id}', ${option.weight}, ${option.discountedPrice})">${product.inStock ? translations[currentLanguage]['take-deal'] : translations[currentLanguage]['pre-order']}</button>
                                </div>
                                ${option.discount ? `<p class="discount">${translations[currentLanguage].discount}: ${option.discount}%</p>` : ''}
                            `).join('')}
                        </div>
                        <div class="reviews" id="reviews-${product.id}">
                            ${weightOptions[0].reviews.map(review => `
                                <div class="review">
                                    <p class="rating">${'‚òÖ'.repeat(review.rating)}${'‚òÜ'.repeat(5 - review.rating)}</p>
                                    <p><strong>${review.user}:</strong> ${review.text}</p>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    container.appendChild(card);
                });
            });
        }

        function toggleProductDetails(card) {
            const weights = card.querySelector('.weights');
            const reviews = card.querySelector('.reviews');
            const isVisible = weights.style.display === 'block';
            weights.style.display = isVisible ? 'none' : 'block';
            reviews.style.display = isVisible ? 'none' : 'block';
        }

        function checkAuth() {
            const user = localStorage.getItem('currentUser');
            if (user) {
                currentUser = JSON.parse(user);
                if (!currentUser.referralCode) {
                    currentUser.referralCode = btoa(currentUser.username).slice(0, 8);
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                }
            }
            updateProfile();
        }

        function updateProfile() {
            const profileContent = document.getElementById('profile-content');
            if (currentUser) {
                profileContent.innerHTML = `
                    <div class="profile-ledger">
                        <h3 data-i18n="profile-title">${translations[currentLanguage]['profile-title']}</h3>
                        <p><span data-i18n="profile-name">${translations[currentLanguage]['profile-name']}</span>: ${currentUser.username}</p>
                        <p><span data-i18n="profile-balance">${translations[currentLanguage]['profile-balance']}</span>: ‚Çπ${currentUser.balance || 0}</p>
                        <p><span data-i18n="profile-orders">${translations[currentLanguage]['profile-orders']}</span>: ${currentUser.orders || 0}</p>
                        <p><span data-i18n="profile-referral-bonus">${translations[currentLanguage]['profile-referral-bonus']}</span>: ‚Çπ${currentUser.referralBonus || 0}</p>
                        <button class="deal-button" onclick="openModal('depositModal')" data-i18n="profile-deposit">${translations[currentLanguage]['profile-deposit']}</button>
                        <button class="deal-button" onclick="logout()" data-i18n="profile-logout">${translations[currentLanguage]['profile-logout']}</button>
                        <div class="referral-section">
                            <p data-i18n="referral-link-text">${translations[currentLanguage]['referral-link-text']}</p>
                            <p class="referral-link">goashadowbazaar.com/ref/${currentUser.referralCode}</p>
                            <p data-i18n="referral-invite">${translations[currentLanguage]['referral-invite']}</p>
                        </div>
                    </div>
                `;
            } else {
                profileContent.innerHTML = `
                    <button class="login-button" onclick="openLoginModal()" data-i18n="login-prompt">${translations[currentLanguage]['login-prompt']}</button>
                    <button class="register-button" onclick="openRegisterModal()" data-i18n="register-prompt">${translations[currentLanguage]['register-prompt']}</button>
                `;
            }
        }

        function openLoginModal() {
            showLoginForm();
            openModal('authModal');
        }

        function openRegisterModal() {
            showRegisterForm();
            openModal('authModal');
        }

        function register() {
            const username = document.getElementById('regUsername').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            const referralCode = document.getElementById('regReferralCode').value;

            if (!username || !password || !confirmPassword) {
                alert(translations[currentLanguage]['register-title'].includes('!') ? '–ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è, –¥–µ–±–∏–ª!' : 'Fill all fields, idiot!');
                return;
            }

            if (password !== confirmPassword) {
                alert(translations[currentLanguage]['register-title'].includes('!') ? '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –ª–æ—à–∞—Ä–∞!' : 'Passwords do not match, loser!');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users')) || [];
            if (users.some(user => user.username === username)) {
                alert(translations[currentLanguage]['register-title'].includes('!') ? '–¢–∞–∫–æ–π —é–∑–µ—Ä —É–∂–µ –µ—Å—Ç—å, –ø—Ä–∏–¥—É–º–∞–π –¥—Ä—É–≥–æ–π –Ω–∏–∫!' : 'This user already exists, choose another name!');
                return;
            }

            const newUser = { username, password, balance: 0, orders: 0, referralBonus: 0 };
            if (referralCode) {
                const referrer = users.find(user => user.referralCode === referralCode);
                if (referrer) {
                    referrer.referralBonus = (referrer.referralBonus || 0) + 1000;
                    newUser.balance = 500;
                    localStorage.setItem('users', JSON.stringify(users));
                }
            }

            newUser.referralCode = btoa(username).slice(0, 8);
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            currentUser = newUser;
            closeModal('authModal');
            updateProfile();
            alert(translations[currentLanguage]['register-title'].includes('!') ? '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω, –±—Ä–∞—Ç–∏—à–∫–∞! –¢–µ–ø–µ—Ä—å –≤—Ö–æ–¥–∏ –∏ –≤–æ—Ä—É–π.' : 'Registered, bro! Now login and steal.');
        }

        function login() {
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;

            if (!username || !password) {
                alert(translations[currentLanguage]['login-title'].includes('!') ? '–ó–∞–ø–æ–ª–Ω–∏ –ø–æ–ª—è, –¥–µ–±–∏–ª!' : 'Fill the fields, idiot!');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(user => user.username === username && user.password === password);

            if (!user) {
                alert(translations[currentLanguage]['login-title'].includes('!') ? '–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å, –ª–æ—à–∞—Ä–∞!' : 'Invalid login or password, loser!');
                return;
            }

            if (!user.referralCode) {
                user.referralCode = btoa(user.username).slice(0, 8);
                localStorage.setItem('users', JSON.stringify(users));
            }

            localStorage.setItem('currentUser', JSON.stringify(user));
            currentUser = user;
            closeModal('authModal');
            updateProfile();
            alert(translations[currentLanguage]['login-title'].includes('!') ? '–í–æ—à—ë–ª, –±—Ä–∞—Ç–∏—à–∫–∞! –¢–µ–ø–µ—Ä—å –≤–æ—Ä—É–π.' : 'Logged in, bro! Now steal.');
        }

        function logout() {
            localStorage.removeItem('currentUser');
            currentUser = null;
            updateProfile();
            alert(translations[currentLanguage]['profile-logout'].includes('üö™') ? '–í—ã—à–µ–ª, –±—Ä–∞—Ç–∏—à–∫–∞! –ó–∞—Ö–æ–¥–∏ –µ—â—ë.' : 'Logged out, bro! Come back later.');
        }

        function showLoginForm() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
        }

        function showRegisterForm() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
        }

        function checkAuthBeforeDeal(productId, weight, price) {
            if (!currentUser) {
                alert(translations[currentLanguage]['login-title'].includes('!') ? '–í–æ–π–¥–∏, —á—Ç–æ–±—ã –æ—Ñ–æ—Ä–º–∏—Ç—å —Å–¥–µ–ª–∫—É, –±—Ä–∞—Ç–∏—à–∫–∞!' : 'Login to make a deal, bro!');
                openModal('authModal');
                return;
            }
            if (currentUser.balance < price) {
                alert(translations[currentLanguage]['login-title'].includes('!') ? '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–±–æ–∫, –ø–æ–ø–æ–ª–Ω–∏ –±–∞–ª–∞–Ω—Å, –ª–æ—à–∞—Ä–∞!' : 'Not enough money, top up your balance, loser!');
                openModal('depositModal');
                return;
            }
            currentUser.balance -= price;
            currentUser.orders = (currentUser.orders || 0) + 1;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateProfile();
            alert(translations[currentLanguage]['take-deal'].includes('Take') ? `Deal for ${productId} (${weight}g) confirmed! Check your messages for stash details.` : `–°–¥–µ–ª–∫–∞ –ø–æ ${productId} (${weight}–≥) –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞! –ß–µ–∫–∞–π —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –∫–ª–∞–¥–∞.`);
        }

        function checkAuthBeforeApply(jobTitle) {
            if (!currentUser) {
                alert(translations[currentLanguage]['login-title'].includes('!') ? '–í–æ–π–¥–∏, —á—Ç–æ–±—ã –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É, –±—Ä–∞—Ç–∏—à–∫–∞!' : 'Login to apply, bro!');
                openModal('authModal');
                return;
            }
            alert(translations[currentLanguage]['apply'].includes('Apply') ? `Application for "${jobTitle}" submitted! Wait for a response.` : `–ó–∞—è–≤–∫–∞ –Ω–∞ "${jobTitle}" –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ñ–¥–∏ –æ—Ç–≤–µ—Ç–∞, –±—Ä–∞—Ç–∏—à–∫–∞.`);
        }

        function depositFunds() {
            if (!currentUser) {
                alert(translations[currentLanguage]['login-title'].includes('!') ? '–í–æ–π–¥–∏, —á—Ç–æ–±—ã –ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å, –±—Ä–∞—Ç–∏—à–∫–∞!' : 'Login to deposit funds, bro!');
                openModal('authModal');
                return;
            }
            currentUser.balance = (currentUser.balance || 0) + 5000;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateProfile();
            closeModal('depositModal');
            alert(translations[currentLanguage]['deposit-button'].includes('Paid') ? 'Balance topped up by ‚Çπ5000! Now go make some deals.' : '–ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ ‚Çπ5000! –¢–µ–ø–µ—Ä—å –≤–æ—Ä—É–π, –±—Ä–∞—Ç–∏—à–∫–∞.');
        }

        function toggleSection(section) {
            if (currentSection === section) return;

            if (currentSection) {
                document.getElementById(currentSection).classList.remove('active');
                document.querySelector(`.nav-item[onclick="toggleSection('${currentSection}')"]`).classList.remove('active');
            }
            document.getElementById(section).classList.add('active');
            document.querySelector(`.nav-item[onclick="toggleSection('${section}')"]`).classList.add('active');
            currentSection = section;

            const sidebar = document.getElementById('sidebar');
            if (section === 'catalog') {
                isSidebarOpen = true;
                sidebar.classList.add('open');
                const cards = document.querySelectorAll('.job-card, .message-card');
                cards.forEach(card => card.classList.remove('visible'));
            } else {
                isSidebarOpen = false;
                sidebar.classList.remove('open');
                const cards = document.querySelectorAll(`#${section} .job-card, #${section} .message-card`);
                cards.forEach((card, index) => {
                    setTimeout(() => {
                        card.classList.add('visible');
                    }, index * 200);
                });
            }
        }

        function toggleTab(tab) {
    if (currentTab === tab) return;

    document.getElementById('placeholder').style.display = 'none';
    document.getElementById('no-products').style.display = 'none';

    if (currentTab) {
        document.getElementById(currentTab).classList.remove('active');
        document.querySelector(`.tab[onclick="toggleTab('${currentTab}')"]`).classList.remove('active');
    }

    document.getElementById(tab).classList.add('active');
    document.querySelector(`.tab[onclick="toggleTab('${tab}')"]`).classList.add('active');
    currentTab = tab;

    filterProducts();
}

function filterProducts() {
    if (!currentTab) return;

    const cards = document.querySelectorAll(`#${currentTab} .product-card`);
    let hasVisibleProducts = false;

    cards.forEach((card, index) => {
        const districtMatch = selectedDistrict === 'all' || card.getAttribute('data-district') === selectedDistrict;
        const stockMatch = selectedStock === 'all' || 
            (selectedStock === 'in-stock' && card.querySelector('p:nth-child(3)').innerText === translations[currentLanguage]['in-stock']) || 
            (selectedStock === 'out-of-stock' && card.querySelector('p:nth-child(3)').innerText === translations[currentLanguage]['out-of-stock']);
        const discountMatch = selectedDiscount === 'all' || 
            (selectedDiscount === 'with-discount' && card.querySelector('.discount')) || 
            (selectedDiscount === 'no-discount' && !card.querySelector('.discount'));

        if (districtMatch && stockMatch && discountMatch) {
            setTimeout(() => {
                card.classList.add('visible');
            }, index * 200);
            hasVisibleProducts = true;
        } else {
            card.classList.remove('visible');
        }
    });

    if (!hasVisibleProducts) {
        document.getElementById('no-products').style.display = 'block';
    }
}

function selectDistrict(district) {
    selectedDistrict = district;
    const button = document.getElementById('district-button');
    const districtText = district === 'all' ? translations[currentLanguage]['district-all-option'] : translations[currentLanguage][`district-${district}`];
    button.innerText = `${translations[currentLanguage]['district-all'].split(':')[0]}: ${districtText}`;
    document.getElementById('district-options').style.display = 'none';
    filterProducts();
}

function selectStock(stock) {
    selectedStock = stock;
    const button = document.getElementById('stock-button');
    const stockText = stock === 'all' ? translations[currentLanguage]['stock-all-option'] : translations[currentLanguage][stock];
    button.innerText = `${translations[currentLanguage]['stock-all'].split(':')[0]}: ${stockText}`;
    document.getElementById('stock-options').style.display = 'none';
    filterProducts();
}

function selectDiscount(discount) {
    selectedDiscount = discount;
    const button = document.getElementById('discount-button');
    const discountText = discount === 'all' ? translations[currentLanguage]['discount-all-option'] : translations[currentLanguage][discount];
    button.innerText = `${translations[currentLanguage]['discount-all'].split(':')[0]}: ${discountText}`;
    document.getElementById('discount-options').style.display = 'none';
    filterProducts();
}

document.getElementById('district-button').addEventListener('click', () => {
    const options = document.getElementById('district-options');
    options.style.display = options.style.display === 'block' ? 'none' : 'block';
});

document.getElementById('stock-button').addEventListener('click', () => {
    const options = document.getElementById('stock-options');
    options.style.display = options.style.display === 'block' ? 'none' : 'block';
});

document.getElementById('discount-button').addEventListener('click', () => {
    const options = document.getElementById('discount-options');
    options.style.display = options.style.display === 'block' ? 'none' : 'block';
});

document.addEventListener('click', (e) => {
    if (!e.target.closest('.mandala-select')) {
        document.querySelectorAll('.mandala-options').forEach(options => {
            options.style.display = 'none';
        });
    }
});

function openModal(modalId) {
    document.getElementById(modalId).style.display = 'block';
}

function closeModal(modalId) {
    document.getElementById(modalId).style.display = 'none';
}

function toggleProductDetails(card) {
    const weights = card.querySelector('.weights');
    const reviews = card.querySelector('.reviews');
    const isVisible = weights.style.display === 'block';
    weights.style.display = isVisible ? 'none' : 'block';
    reviews.style.display = isVisible ? 'none' : 'block';
}

function checkAuth() {
    const user = localStorage.getItem('currentUser');
    if (user) {
        currentUser = JSON.parse(user);
        if (!currentUser.referralCode) {
            currentUser.referralCode = btoa(currentUser.username).slice(0, 8);
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
        }
    }
    updateProfile();
}

function updateProfile() {
    const profileContent = document.getElementById('profile-content');
    if (currentUser) {
        profileContent.innerHTML = `
            <div class="profile-ledger">
                <h3 data-i18n="profile-title">${translations[currentLanguage]['profile-title']}</h3>
                <p><span data-i18n="profile-name">${translations[currentLanguage]['profile-name']}</span>: ${currentUser.username}</p>
                <p><span data-i18n="profile-balance">${translations[currentLanguage]['profile-balance']}</span>: ‚Çπ${currentUser.balance || 0}</p>
                <p><span data-i18n="profile-orders">${translations[currentLanguage]['profile-orders']}</span>: ${currentUser.orders || 0}</p>
                <p><span data-i18n="profile-referral-bonus">${translations[currentLanguage]['profile-referral-bonus']}</span>: ‚Çπ${currentUser.referralBonus || 0}</p>
                <button class="deal-button" onclick="openModal('depositModal')" data-i18n="profile-deposit">${translations[currentLanguage]['profile-deposit']}</button>
                <button class="deal-button" onclick="logout()" data-i18n="profile-logout">${translations[currentLanguage]['profile-logout']}</button>
                <div class="referral-section">
                    <p data-i18n="referral-link-text">${translations[currentLanguage]['referral-link-text']}</p>
                    <p class="referral-link">goashadowbazaar.com/ref/${currentUser.referralCode}</p>
                    <p data-i18n="referral-invite">${translations[currentLanguage]['referral-invite']}</p>
                </div>
            </div>
        `;
    } else {
        profileContent.innerHTML = `
            <button class="login-button" onclick="openLoginModal()" data-i18n="login-prompt">${translations[currentLanguage]['login-prompt']}</button>
            <button class="register-button" onclick="openRegisterModal()" data-i18n="register-prompt">${translations[currentLanguage]['register-prompt']}</button>
        `;
    }
}

function openLoginModal() {
    showLoginForm();
    openModal('authModal');
}

function openRegisterModal() {
    showRegisterForm();
    openModal('authModal');
}

function showLoginForm() {
    document.getElementById('loginForm').style.display = 'block';
    document.getElementById('registerForm').style.display = 'none';
}

function showRegisterForm() {
    document.getElementById('loginForm').style.display = 'none';
    document.getElementById('registerForm').style.display = 'block';
}

function register() {
    const username = document.getElementById('regUsername').value;
    const password = document.getElementById('regPassword').value;
    const confirmPassword = document.getElementById('regConfirmPassword').value;
    const referralCode = document.getElementById('regReferralCode').value;

    if (!username || !password || !confirmPassword) {
        alert(translations[currentLanguage]['register-title'].includes('!') ? '–ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è, –¥–µ–±–∏–ª!' : 'Fill all fields, idiot!');
        return;
    }

    if (password !== confirmPassword) {
        alert(translations[currentLanguage]['register-title'].includes('!') ? '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –ª–æ—à–∞—Ä–∞!' : 'Passwords do not match, loser!');
        return;
    }

    const users = JSON.parse(localStorage.getItem('users')) || [];
    if (users.some(user => user.username === username)) {
        alert(translations[currentLanguage]['register-title'].includes('!') ? '–¢–∞–∫–æ–π —é–∑–µ—Ä —É–∂–µ –µ—Å—Ç—å, –ø—Ä–∏–¥—É–º–∞–π –¥—Ä—É–≥–æ–π –Ω–∏–∫!' : 'This user already exists, choose another name!');
        return;
    }

    const newUser = { username, password, balance: 0, orders: 0, referralBonus: 0 };
    if (referralCode) {
        const referrer = users.find(user => user.referralCode === referralCode);
        if (referrer) {
            referrer.referralBonus = (referrer.referralBonus || 0) + 1000;
            newUser.balance = 500;
            localStorage.setItem('users', JSON.stringify(users));
        }
    }

    newUser.referralCode = btoa(username).slice(0, 8);
    users.push(newUser);
    localStorage.setItem('users', JSON.stringify(users));
    localStorage.setItem('currentUser', JSON.stringify(newUser));
    currentUser = newUser;
    closeModal('authModal');
    updateProfile();
    alert(translations[currentLanguage]['register-title'].includes('!') ? '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω, –±—Ä–∞—Ç–∏—à–∫–∞! –í—Ö–æ–¥–∏ –≤ –∏–≥—Ä—É!' : 'Registered, bro! Get in the game!');
}

function login() {
    const username = document.getElementById('loginUsername').value;
    const password = document.getElementById('loginPassword').value;

    if (!username || !password) {
        alert(translations[currentLanguage]['login-title'].includes('!') ? '–ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è, –±—Ä–∞—Ç–∏—à–∫–∞!' : 'Fill all fields, bro!');
        return;
    }

    const users = JSON.parse(localStorage.getItem('users')) || [];
    const user = users.find(user => user.username === username && user.password === password);

    if (!user) {
        alert(translations[currentLanguage]['login-title'].includes('!') ? '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —é–∑–µ—Ä –∏–ª–∏ –ø–∞—Ä–æ–ª—å, –¥–µ–±–∏–ª!' : 'Wrong username or password, idiot!');
        return;
    }

    localStorage.setItem('currentUser', JSON.stringify(user));
    currentUser = user;
    closeModal('authModal');
    updateProfile();
    alert(translations[currentLanguage]['login-title'].includes('!') ? '–í–æ—à—ë–ª, –±—Ä–∞—Ç–∏—à–∫–∞! –î–∞–≤–∞–π –∑–∞ —Å—Ç–∞—Ñ—Ñ–æ–º!' : 'Logged in, bro! Let‚Äôs get some stuff!');
}

function logout() {
    localStorage.removeItem('currentUser');
    currentUser = null;
    updateProfile();
    alert(translations[currentLanguage]['profile-logout'].includes('!') ? '–í—ã—à–µ–ª, –±—Ä–∞—Ç–∏—à–∫–∞! –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∑–∞ —Å—Ç–∞—Ñ—Ñ–æ–º!' : 'Logged out, bro! Come back for more stuff!');
}

function depositFunds() {
    if (!currentUser) {
        alert(translations[currentLanguage]['deposit-title'].includes('!') ? '–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏, –¥–µ–±–∏–ª!' : 'Login first, idiot!');
        closeModal('depositModal');
        openLoginModal();
        return;
    }

    document.getElementById('loader').style.display = 'block';
    setTimeout(() => {
        document.getElementById('loader').style.display = 'none';
        currentUser.balance = (currentUser.balance || 0) + 5000;
        localStorage.setItem('currentUser', JSON.stringify(currentUser));
        const users = JSON.parse(localStorage.getItem('users')) || [];
        const userIndex = users.findIndex(user => user.username === currentUser.username);
        if (userIndex !== -1) {
            users[userIndex].balance = currentUser.balance;
            localStorage.setItem('users', JSON.stringify(users));
        }
        closeModal('depositModal');
        updateProfile();
        alert(translations[currentLanguage]['deposit-title'].includes('!') ? '–ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω, –±—Ä–∞—Ç–∏—à–∫–∞! ‚Çπ5000 –Ω–∞ —Å—á–µ—Ç—É!' : 'Balance topped up, bro! ‚Çπ5000 added!');
    }, 2000);
}

function checkAuthBeforeDeal(productId, weight, price) {
    if (!currentUser) {
        alert(translations[currentLanguage]['login-prompt'].includes('!') ? '–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏, –¥–µ–±–∏–ª!' : 'Login first, idiot!');
        openLoginModal();
        return;
    }

    if (currentUser.balance < price) {
        alert(translations[currentLanguage]['deposit-title'].includes('!') ? '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ‚Çπ, –ø–æ–ø–æ–ª–Ω–∏ –±–∞–ª–∞–Ω—Å, –º—É–¥–∞–∫!' : 'Not enough ‚Çπ, top up your balance, dude!');
        openModal('depositModal');
        return;
    }

    document.getElementById('loader').style.display = 'block';
    setTimeout(() => {
        document.getElementById('loader').style.display = 'none';
        currentUser.balance -= price;
        currentUser.orders = (currentUser.orders || 0) + 1;
        localStorage.setItem('currentUser', JSON.stringify(currentUser));
        const users = JSON.parse(localStorage.getItem('users')) || [];
        const userIndex = users.findIndex(user => user.username === currentUser.username);
        if (userIndex !== -1) {
            users[userIndex].balance = currentUser.balance;
            users[userIndex].orders = currentUser.orders;
            localStorage.setItem('users', JSON.stringify(users));
        }
        updateProfile();
        alert(translations[currentLanguage]['take-deal'].includes('!') ? `–°–¥–µ–ª–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞, –±—Ä–∞—Ç–∏—à–∫–∞! ${weight}g ${productId} –∑–∞ ‚Çπ${price}.` : `Deal confirmed, bro! ${weight}g ${productId} for ‚Çπ${price}.`);
    }, 1500);
}

function checkAuthBeforeApply(jobTitle) {
    if (!currentUser) {
        alert(translations[currentLanguage]['login-prompt'].includes('!') ? '–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏, –¥–µ–±–∏–ª!' : 'Login first, idiot!');
        openLoginModal();
        return;
    }

    document.getElementById('loader').style.display = 'block';
    setTimeout(() => {
        document.getElementById('loader').style.display = 'none';
        alert(translations[currentLanguage]['apply'].includes('!') ? `–ó–∞—è–≤–∫–∞ –Ω–∞ "${jobTitle}" –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞, –±—Ä–∞—Ç–∏—à–∫–∞! –ñ–¥–∏ –æ—Ç–≤–µ—Ç–∞.` : `Application for "${jobTitle}" submitted, bro! Wait for a response.`);
    }, 1500);
}

document.addEventListener('touchstart', (e) => {
    touchStartX = e.changedTouches[0].screenX;
});

document.addEventListener('touchend', (e) => {
    touchEndX = e.changedTouches[0].screenX;
    handleSwipe();
});

function handleSwipe() {
    const sidebar = document.getElementById('sidebar');
    const swipeDistance = touchEndX - touchStartX;

    if (swipeDistance > 50 && !isSidebarOpen) {
        sidebar.classList.add('open');
        isSidebarOpen = true;
    } else if (swipeDistance < -50 && isSidebarOpen) {
        sidebar.classList.remove('open');
        isSidebarOpen = false;
    }
}

document.addEventListener('DOMContentLoaded', () => {
    initProducts();
    checkAuth();
    setLanguage('ru');
    toggleSection('catalog');
});
    </script>
</body>
</html>
