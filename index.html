<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Thailand</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: #ff9999;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background-color: #333;
            padding: 10px;
            text-align: center;
            border-bottom: 2px solid #ff4444;
            box-shadow: 0 0 15px rgba(255, 68, 68, 0.3);
        }
        #promoBanner {
            background-color: #ff4444;
            color: #000;
            padding: 10px;
            text-align: center;
            cursor: pointer;
        }
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
        }
        nav select, nav button {
            background-color: #333;
            color: #ff9999;
            border: 1px solid #ff4444;
            padding: 5px;
            margin: 0 5px;
            cursor: pointer;
        }
        nav button:hover {
            background-color: #ff4444;
            color: #000;
        }
        .profile-info {
            text-align: right;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #333;
            padding: 20px;
            border-radius: 5px;
            border: 2px solid #ff4444;
            width: 400px;
            text-align: center;
        }
        .modal-content button {
            background-color: #ff4444;
            color: #000;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
        }
        .modal-content button:hover {
            background-color: #ff9999;
        }
        .tab {
            display: inline-block;
            padding: 10px 20px;
            cursor: pointer;
            background-color: #444;
            margin: 5px;
            border-radius: 5px;
        }
        .tab.active {
            background-color: #ff4444;
            color: #000;
        }
        .tab-content {
            display: none;
            padding: 20px;
            border: 1px solid #ff4444;
            margin-top: 10px;
            border-radius: 5px;
        }
        .tab-content.active {
            display: block;
        }
        .product-image img {
            max-width: 100%;
            cursor: zoom-in;
        }
        .product-image img.zoomed {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 80%;
            max-height: 80%;
            z-index: 1500;
            border: 2px solid #ff4444;
        }
        .buy-button, .preorder-button {
            background-color: #ff4444;
            color: #000;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
        }
        .buy-button:hover, .preorder-button:hover {
            background-color: #ff9999;
        }
        .support-chat {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background: #333;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(255, 68, 68, 0.3);
            display: none;
            z-index: 1000;
        }
        .support-chat.active {
            display: block;
        }
        #chatMessages {
            height: 200px;
            overflow-y: auto;
            color: #ff9999;
            padding: 5px;
            border: 1px solid #ff4444;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        #chatInput {
            width: 70%;
            margin-top: 10px;
            display: inline-block;
        }
        .support-chat button {
            width: 25%;
            margin-left: 5px;
            background-color: #ff4444;
            color: #000;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        .chat-button {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #ff4444;
            color: #000;
            border: none;
            padding: 15px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 68, 68, 0.5);
            z-index: 1001;
        }
        .registration-modal {
            z-index: 2000;
        }
        #achievementsList, #recentPurchases, #orderList, #mailList {
            list-style: none;
            padding: 0;
        }
        #limitedOffer {
            text-align: center;
            background-color: #ff4444;
            color: #000;
            padding: 10px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div id="promoBanner" onclick="showPromoDetails()">Промо-акция: Скидка 10% на Hash до конца дня!</div>
            <h1 id="headerText">Dark Thailand</h1>
            <nav>
                <select id="citySelect" onchange="filterByCity()">
                    <option value="all" id="allCitiesOption">Все города</option>
                    <option value="phuket" id="phuketOption">Пхукет</option>
                    <option value="pattaya" id="pattayaOption">Паттайя</option>
                    <option value="bangkok" id="bangkokOption">Бангкок</option>
                    <option value="samui" id="samuiOption">Самуи</option>
                </select>
                <select id="districtSelect" onchange="filterByDistrict()">
                    <option value="all" id="allDistrictsOption">Все районы</option>
                </select>
                <div class="profile-info">
                    <button id="catalogButton" onclick="toggleCatalog()">Каталог</button>
                    <button id="vacanciesButton" onclick="toggleVacancies()">Вакансии</button>
                    <button id="mailButton" onclick="toggleMail()">Почта</button>
                    <span id="profileNameLabel"></span> | <span id="balance"></span> | <span id="ordersLabel"></span> | <span id="referralsLabel"></span> | <span id="statusLabel"></span>
                    <button onclick="toggleProfile()">Профиль</button>
                </div>
            </nav>
        </header>
        <div id="catalogMenu" style="display: none;">
            <div class="tab" id="weedTab" data-tab="weed">Weed</div>
            <div class="tab" id="hashTab" data-tab="hash">Hash</div>
            <div class="tab" id="cokeTab" data-tab="coke">Coke</div>
            <div class="tab" id="amphTab" data-tab="amph">Amph</div>
            <div class="tab" id="methTab" data-tab="meth">Meth</div>
            <div class="tab" id="mephTab" data-tab="meph">Meph</div>
            <div class="tab" id="alphaTab" data-tab="alpha">Alpha</div>
            <div class="tab" id="lsdTab" data-tab="lsd">LSD</div>
            <div class="tab" id="mdmaTab" data-tab="mdma">MDMA</div>
            <div class="tab" id="heroinTab" data-tab="heroin">Heroin</div>
            <div id="weed" class="tab-content"><p id="weedDesc">Выберите товар из каталога.</p></div>
            <div id="hash" class="tab-content"></div>
            <div id="coke" class="tab-content"></div>
            <div id="amph" class="tab-content"></div>
            <div id="meth" class="tab-content"></div>
            <div id="meph" class="tab-content"></div>
            <div id="alpha" class="tab-content"></div>
            <div id="lsd" class="tab-content"></div>
            <div id="mdma" class="tab-content"></div>
            <div id="heroin" class="tab-content"></div>
        </div>
        <div id="profileMenu" style="display: none;">
            <h2>Профиль</h2>
            <p id="profileNameLabel"></p>
            <p id="balance"></p>
            <p id="ordersLabel"></p>
            <p id="referralsLabel"></p>
            <p id="statusLabel"></p>
            <h3>Достижения</h3>
            <ul id="achievementsList"></ul>
            <h3 id="recentPurchases"></h3>
            <h3>История депозитов</h3>
            <ul id="depositHistory"></ul>
            <h3 id="orderHistoryTitle">История заказов</h3>
            <ul id="orderList"></ul>
        </div>
        <div id="vacancyMenu" style="display: none;">
            <h2 id="vacanciesTitle">Вакансии</h2>
            <h3 id="courierTitle">Курьер</h3>
            <p id="courierDuties">Обязанности: доставка заказов.</p>
            <p id="courierPay">Зарплата: 5000-10000 ฿/месяц.</p>
            <button id="applyButton1" onclick="applyForJob('Courier')">Подать заявку</button>
            <h3 id="warehousemanTitle">Кладовщик</h3>
            <p id="warehousemanDuties">Обязанности: упаковка и контроль.</p>
            <p id="warehousemanPay">Зарплата: 6000-12000 ฿/месяц.</p>
            <button id="applyButton2" onclick="applyForJob('Warehouseman')">Подать заявку</button>
            <h3 id="transporterTitle">Транспортер</h3>
            <p id="transporterDuties">Обязанности: перевозка грузов.</p>
            <p id="transporterPay">Зарплата: 8000-15000 ฿/месяц.</p>
            <button id="applyButton3" onclick="applyForJob('Transporter')">Подать заявку</button>
            <h3 id="smmTitle">SMM-специалист</h3>
            <p id="smmDuties">Обязанности: продвижение в соцсетях.</p>
            <p id="smmPay">Зарплата: 7000-13000 ฿/месяц.</p>
            <button id="applyButton4" onclick="applyForJob('SMM')">Подать заявку</button>
        </div>
        <div id="mailMenu" style="display: none;">
            <h2 id="mailTitle">Почта</h2>
            <ul id="mailList"></ul>
        </div>
        <div id="limitedOffer"></div>
        <!-- Кнопка для открытия чата -->
        <button class="chat-button" onclick="toggleChat()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2">
                <path d="M21 11.5a8.5 8.5 0 0 1-11.4 7.9l-5.1 1.7 1.7-5.1A8.5 8.5 0 0 1 3 11.5a8.5 8.5 0 0 1 18 0z"/>
            </svg>
        </button>
        <!-- Чат с оператором -->
        <div class="support-chat" id="supportChat">
            <div id="chatMessages">
                <p>Оператор: Чем могу помочь?</p>
            </div>
            <input type="text" id="chatInput" placeholder="Напиши сюда...">
            <button onclick="sendChatMessage()">Отправить</button>
        </div>
        <!-- Модальные окна -->
        <div class="modal registration-modal" id="registrationModal">
            <div class="modal-content">
                <h2>Регистрация</h2>
                <input type="text" id="regNickname" placeholder="Никнейм">
                <select id="regLanguage">
                    <option value="ru">Русский</option>
                    <option value="en">English</option>
                </select>
                <p id="regError" style="color: #ff4444;"></p>
                <button onclick="registerUser()">Зарегистрироваться</button>
                <button onclick="closeModal('registrationModal')">Отмена</button>
            </div>
        </div>
        <div class="modal" id="productModal">
            <div class="modal-content" id="productContent"></div>
        </div>
        <div class="modal" id="preorderModal">
            <div class="modal-content" id="preorderContent"></div>
        </div>
        <div class="modal" id="depositModal">
            <div class="modal-content" id="depositContent"></div>
        </div>
        <div class="modal" id="confirmModal">
            <div class="modal-content" id="confirmContent"></div>
        </div>
        <div class="modal" id="customModal">
            <div class="modal-content" id="customContent"></div>
        </div>
    </div>
    <script>
        let userLanguage = 'ru';
        let currentUser = null;
        let balance = 0;
        let orderCount = 0;
        let referralCount = 0;
        let orderHistory = [];
        let mailMessages = [];
        let pendingPayments = {};
        let registeredUsers = JSON.parse(localStorage.getItem('registeredUsers') || '[]');
        let selectedCity = 'all';
        let selectedDistrict = 'all';
        const MIN_DEPOSIT = 1000;
        const cryptoRates = { BTC: 2000000, ETH: 150000, USDT: 33 };
        const cryptoNetworks = { BTC: 'Bitcoin', ETH: 'Ethereum', USDT: 'ERC20' };
        const testAddresses = { BTC: '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa', ETH: '0x1234567890abcdef1234567890abcdef12345678', USDT: '0xabcdef1234567890abcdef1234567890abcdef12' };
        const cities = {
            phuket: { karon: {}, patong: {}, kata: {} },
            pattaya: { jomtien: {}, central: {} },
            bangkok: { sukhumvit: {}, silom: {} },
            samui: { chaweng: {}, lamai: {} }
        };

        const productImages = {
            weed: { 
                1: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABNSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg=="
            },
            hash: { 
                1: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABLSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                2: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABLSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                3: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABLSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                4: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABLSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                5: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABLSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg=="
            },
            coke: { 
                1: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABMSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                2: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABMSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                3: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABMSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                4: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABMSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                5: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABMSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg=="
            },
            amph: { 
                1: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                2: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                3: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                4: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                5: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg=="
            },
            meth: { 
                1: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABPSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                2: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABPSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                3: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABPSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                4: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABPSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                5: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABPSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg=="
            },
            meph: { 
                1: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABQSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                2: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABQSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                3: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABQSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                4: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABQSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                5: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABQSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg=="
            },
            alpha: { 
                1: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABRSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                2: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABRSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                3: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABRSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                4: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABRSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                5: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABRSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg=="
            },
            lsd: { 
                1: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABSSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                2: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABSSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                3: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABSSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                4: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABSSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                5: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABSSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg=="
            },
            mdma: { 
                1: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                2: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                3: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                4: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                5: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg=="
            },
            heroin: { 
                1: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABUSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                2: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABUSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                3: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABUSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                4: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABUSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg==",
                5: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABUSURBVHgBtc0xCsAwDAJQ2/8/zkHECZBiwAmswgpswTqswkYMDiE4hOHacx1uYQeGYRiGYfQIn8N9Hrd4n8f9vIKTfO4BzvP5NyjP5w9u8gHJDwO6Wxeo9gAAAABJRU5ErkJggg=="
            }
        };

        const products = {
            weed: { 1: { name: "Jamaican Haze (VHQ)", desc: "Эксклюзивная ямайская сатива, чистейший кайф", weight: [1, 2, 3, 5, 10], price: [1500, 2800, 4000, 6000, 11000] } },
            hash: { 
                1: { name: "Afghan Black Gold (VHQ)", desc: "Премиум афганский гашиш, бархатный эффект", weight: [1, 2, 3, 5, 10], price: [900, 1700, 2400, 3800, 7000] },
                2: { name: "Moroccan Spice (HQ)", desc: "Марокканский гашиш с пряным ароматом", weight: [1, 2, 3, 5, 10], price: [700, 1300, 1900, 3000, 5500] },
                3: { name: "Nepal Temple (MQ)", desc: "Непальский гашиш, сбалансированный приход", weight: [1, 2, 3, 5, 10], price: [500, 900, 1300, 2000, 3800] },
                4: { name: "Local Dust (LQ)", desc: "Местный бюджетный гашиш", weight: [1, 2, 3, 5, 10], price: [400, 700, 1000, 1500, 2800] },
                5: { name: "Himalayan Storm (VHQ)", desc: "Гималайский шторм, мощный и чистый", weight: [1, 2, 3, 5, 10], price: [1000, 1900, 2700, 4300, 8000] }
            },
            coke: { 
                1: { name: "Bolivian Fishscale (VHQ)", desc: "Боливийский кокаин, топовый 95%+", weight: [0.5, 1, 2, 3, 5], price: [4000, 7500, 14000, 20000, 35000] },
                2: { name: "Colombian Snow (HQ)", desc: "Колумбийский снег, чистый и мощный", weight: [0.5, 1, 2, 3, 5], price: [3600, 6500, 12000, 17000, 30000] },
                3: { name: "Peruvian Dust (MQ)", desc: "Перуанская пыль, средний уровень", weight: [0.5, 1, 2, 3, 5], price: [3000, 5500, 10000, 14000, 25000] },
                4: { name: "Street Mix (LQ)", desc: "Уличная смесь, бюджетный вариант", weight: [0.5, 1, 2, 3, 5], price: [2400, 4000, 7500, 10000, 18000] },
                5: { name: "Cartel Gold (VHQ)", desc: "Золото картеля, элитный стандарт", weight: [0.5, 1, 2, 3, 5], price: [4500, 8500, 16000, 23000, 40000] }
            },
            amph: { 
                1: { name: "Crystal Surge (VHQ)", desc: "Кристальный амфетамин, чистая энергия", weight: [1, 2, 3, 5, 10], price: [1300, 2400, 3400, 5300, 9500] },
                2: { name: "Red Rush (HQ)", desc: "Красный заряд, стабильный драйв", weight: [1, 2, 3, 5, 10], price: [1000, 1800, 2600, 4000, 7000] },
                3: { name: "Yellow Spark (MQ)", desc: "Жёлтая искра, средний подъём", weight: [1, 2, 3, 5, 10], price: [900, 1600, 2300, 3500, 6000] },
                4: { name: "Grey Haze (LQ)", desc: "Серая дымка, базовый вариант", weight: [1, 2, 3, 5, 10], price: [700, 1200, 1700, 2500, 4500] },
                5: { name: "Blue Blitz (VHQ)", desc: "Синий удар, элитный амф", weight: [1, 2, 3, 5, 10], price: [1500, 2800, 4000, 6200, 11000] }
            },
            meth: { 
                1: { name: "Mountain Ice (VHQ)", desc: "Горный лёд, кристальная чистота", weight: [0.5, 1, 2, 3, 5], price: [1500, 2800, 5000, 7000, 12000] },
                2: { name: "Blue Flame (HQ)", desc: "Синее пламя, долгий эффект", weight: [0.5, 1, 2, 3, 5], price: [1200, 2200, 4000, 5500, 9500] },
                3: { name: "White Shard (MQ)", desc: "Белый осколок, средний уровень", weight: [0.5, 1, 2, 3, 5], price: [1000, 1800, 3300, 4500, 8000] },
                4: { name: "Dirty Crystal (LQ)", desc: "Грязный кристалл, эконом-класс", weight: [0.5, 1, 2, 3, 5], price: [800, 1400, 2500, 3500, 6000] },
                5: { name: "Golden Shard (VHQ)", desc: "Золотой осколок, топовый мет", weight: [0.5, 1, 2, 3, 5], price: [1800, 3400, 6000, 8500, 15000] }
            },
            meph: { 
                1: { name: "Pink Bliss (VHQ)", desc: "Розовое блаженство, чистейший кайф", weight: [0.5, 1, 2, 3, 5], price: [1400, 2600, 4700, 6500, 11000] },
                2: { name: "White Surge (HQ)", desc: "Белый всплеск, стабильный эффект", weight: [0.5, 1, 2, 3, 5], price: [1100, 2000, 3600, 5000, 8500] },
                3: { name: "Grey Mist (MQ)", desc: "Серая дымка, средний уровень", weight: [0.5, 1, 2, 3, 5], price: [900, 1600, 2900, 4000, 7000] },
                4: { name: "Dusty High (LQ)", desc: "Пыльный кайф, бюджетный меф", weight: [0.5, 1, 2, 3, 5], price: [700, 1200, 2200, 3000, 5000] },
                5: { name: "Red Pulse (VHQ)", desc: "Красный пульс, элитный рывок", weight: [0.5, 1, 2, 3, 5], price: [1600, 3000, 5500, 7800, 13500] }
            },
            alpha: { 
                1: { name: "Flakka Fire (VHQ)", desc: "Огненная флакка, чистый Альфа-PVP", weight: [0.5, 1, 2, 3, 5], price: [1200, 2200, 4000, 5500, 9500] },
                2: { name: "Purple Haze (HQ)", desc: "Пурпурная дымка, мощный заряд", weight: [0.5, 1, 2, 3, 5], price: [1000, 1800, 3300, 4500, 8000] },
                3: { name: "Green Dust (MQ)", desc: "Зелёная пыль, средний эффект", weight: [0.5, 1, 2, 3, 5], price: [800, 1400, 2500, 3500, 6000] },
                4: { name: "Street Gravel (LQ)", desc: "Уличный гравий, бюджетный Альфа", weight: [0.5, 1, 2, 3, 5], price: [600, 1000, 1800, 2500, 4500] },
                5: { name: "Crystal Fury (VHQ)", desc: "Кристальная ярость, топовый PVP", weight: [0.5, 1, 2, 3, 5], price: [1400, 2600, 4800, 6800, 12000] }
            },
            lsd: { 
                1: { name: "Cosmic Tabs (VHQ)", desc: "Космические таблы, чистый трип", weight: [1, 2, 5], price: [500, 900, 2000] },
                2: { name: "Neon Drops (HQ)", desc: "Неоновые капли, яркий опыт", weight: [1, 2, 5], price: [450, 800, 1800] },
                3: { name: "Acid Rain (MQ)", desc: "Кислотный дождь, средний трип", weight: [1, 2, 5], price: [400, 700, 1600] },
                4: { name: "Street Blotters (LQ)", desc: "Уличные блоттеры, базовый ЛСД", weight: [1, 2, 5], price: [350, 600, 1400] },
                5: { name: "Galactic Hits (VHQ)", desc: "Галактические хиты, элитный кислый", weight: [1, 2, 5], price: [600, 1100, 2500] }
            },
            mdma: { 
                1: { name: "Crystal Love (VHQ)", desc: "Кристальная любовь, чистый МДМА", weight: [0.5, 1, 2], price: [1500, 2800, 5000] },
                2: { name: "Pink Rocks (HQ)", desc: "Розовые камни, стабильный кайф", weight: [0.5, 1, 2], price: [1200, 2200, 4000] },
                3: { name: "Ecstasy Blue (VHQ Tabs)", desc: "Синий экстази, топовые пилсы", weight: [1, 2, 5], price: [600, 1100, 2500] },
                4: { name: "Molly Dust (MQ)", desc: "Молли пыль, средний МДМА", weight: [0.5, 1, 2], price: [1000, 1800, 3300] },
                5: { name: "Street Pills (LQ Tabs)", desc: "Уличные пилсы, бюджетный экстази", weight: [1, 2, 5], price: [400, 700, 1600] }
            },
            heroin: { 
                1: { name: "Afghan Silk (VHQ)", desc: "Афганский шёлк, глубокий приход", weight: [0.5, 1, 2, 3], price: [2000, 3700, 7000, 10000] },
                2: { name: "White Lotus (HQ)", desc: "Белый лотос, чистый эффект", weight: [0.5, 1, 2, 3], price: [1800, 3300, 6200, 9000] },
                3: { name: "Brown Sugar (MQ)", desc: "Коричневый сахар, средний героин", weight: [0.5, 1, 2, 3], price: [1500, 2700, 5000, 7000] },
                4: { name: "Dirty Tar (LQ)", desc: "Грязный тарт, бюджетный вариант", weight: [0.5, 1, 2, 3], price: [1200, 2000, 3800, 5500] },
                5: { name: "Black Pearl (VHQ)", desc: "Чёрная жемчужина, элитный героин", weight: [0.5, 1, 2, 3], price: [2500, 4700, 9000, 13000] }
            }
        };

        const translations = {
            ru: {
                promoBanner: "Промо-акция: Скидка 10% на Hash до конца дня!",
                headerText: "Dark Thailand",
                catalogButton: "Каталог",
                vacanciesButton: "Вакансии",
                mailButton: "Почта",
                allCitiesOption: "Все города",
                phuketOption: "Пхукет",
                pattayaOption: "Паттайя",
                bangkokOption: "Бангкок",
                samuiOption: "Самуи",
                allDistrictsOption: "Все районы",
                weedDesc: "Выберите товар из каталога.",
                profileNameLabel: "Имя: ",
                balance: "Баланс: ",
                ordersLabel: "Заказы: ",
                referralsLabel: "Рефералы: ",
                statusLabel: "Статус: ",
                depositTitle: "Пополнить баланс",
                orderHistoryTitle: "История заказов",
                orderListEmpty: "Нет заказов.",
                vacanciesTitle: "Вакансии",
                courierTitle: "Курьер",
                courierDuties: "Обязанности: доставка заказов.",
                courierPay: "Зарплата: 5000-10000 ฿/месяц.",
                warehousemanTitle: "Кладовщик",
                warehousemanDuties: "Обязанности: упаковка и контроль.",
                warehousemanPay: "Зарплата: 6000-12000 ฿/месяц.",
                transporterTitle: "Транспортер",
                transporterDuties: "Обязанности: перевозка грузов.",
                transporterPay: "Зарплата: 8000-15000 ฿/месяц.",
                smmTitle: "SMM-специалист",
                smmDuties: "Обязанности: продвижение в соцсетях.",
                smmPay: "Зарплата: 7000-13000 ฿/месяц.",
                applyButton: "Подать заявку",
                mailTitle: "Почта",
                mailListEmpty: "Нет сообщений.",
                weedTab: "Weed",
                hashTab: "Hash",
                cokeTab: "Coke",
                amphTab: "Amph",
                methTab: "Meth",
                mephTab: "Meph",
                alphaTab: "Alpha",
                lsdTab: "LSD",
                mdmaTab: "MDMA",
                heroinTab: "Heroin",
                welcomeMessage: "Добро пожаловать, {user}!",
                regErrorEmpty: "Введите никнейм!",
                regErrorTaken: "Этот никнейм уже занят!",
                positionWeight: "Вес:",
                positionPrice: "Цена:",
                positionCity: "Город:",
                positionAvailability: "Наличие:",
                inStock: "В наличии",
                buyButton: "Купить",
                preorderButton: "Предзаказ",
                reviewsTitle: "Отзывы",
                noReviews: "Отзывов пока нет.",
                close: "Закрыть",
                paymentSuccess: "Оплата прошла успешно!",
                insufficientFunds: "Недостаточно средств. Пополнить баланс?",
                preorderTitle: "Подтверждение предзаказа",
                confirmButton: "Подтвердить",
                cancelButton: "Отмена",
                depositFunds: "Пополнить баланс",
                selectCrypto: "Выберите криптовалюту:",
                networkLabel: "Сеть:",
                enterAmount: "Введите сумму (мин. 1000 ฿):",
                depositInstruction: "Отправьте {amount} ฿ (~{cryptoAmount} {crypto}) на адрес ниже.",
                depositAddress: "Адрес депозита:",
                depositExpiry: "Срок действия: 30 минут.",
                confirmPayment: "Подтвердить платеж",
                minDepositError: "Минимальная сумма депозита - 1000 ฿!",
                paymentPending: "Платеж ожидает подтверждения (30 сек симуляция).",
                confirmTitle: "Подтверждение",
                yes: "Да",
                no: "Нет",
                applyJobPrompt: "Введите резюме для вакансии {job}:",
                applyJobAlert: "Заявка на {job} отправлена!",
                recentPurchases: "Последние покупки:",
                limitedOffer: "Ограниченное предложение: {product} со скидкой! Осталось: {time}",
                promoInfo: "Информация о промо-акции"
            },
            en: {
                promoBanner: "Promo: 10% off Hash until end of day!",
                headerText: "Dark Thailand",
                catalogButton: "Catalog",
                vacanciesButton: "Vacancies",
                mailButton: "Mail",
                allCitiesOption: "All cities",
                phuketOption: "Phuket",
                pattayaOption: "Pattaya",
                bangkokOption: "Bangkok",
                samuiOption: "Samui",
                allDistrictsOption: "All districts",
                weedDesc: "Select a product from the catalog.",
                profileNameLabel: "Name: ",
                balance: "Balance: ",
                ordersLabel: "Orders: ",
                referralsLabel: "Referrals: ",
                statusLabel: "Status: ",
                depositTitle: "Deposit Funds",
                orderHistoryTitle: "Order History",
                orderListEmpty: "No orders.",
                vacanciesTitle: "Vacancies",
                courierTitle: "Courier",
                courierDuties: "Duties: order delivery.",
                courierPay: "Salary: 5000-10000 ฿/month.",
                warehousemanTitle: "Warehouseman",
                warehousemanDuties: "Duties: packing and control.",
                warehousemanPay: "Salary: 6000-12000 ฿/month.",
                transporterTitle: "Transporter",
                transporterDuties: "Duties: cargo transportation.",
                transporterPay: "Salary: 8000-15000 ฿/month.",
                smmTitle: "SMM Specialist",
                smmDuties: "Duties: social media promotion.",
                smmPay: "Salary: 7000-13000 ฿/month.",
                applyButton: "Apply",
                mailTitle: "Mail",
                mailListEmpty: "No messages.",
                weedTab: "Weed",
                hashTab: "Hash",
                cokeTab: "Coke",
                amphTab: "Amph",
                methTab: "Meth",
                mephTab: "Meph",
                alphaTab: "Alpha",
                lsdTab: "LSD",
                mdmaTab: "MDMA",
                                heroinTab: "Heroin",
                welcomeMessage: "Welcome, {user}!",
                regErrorEmpty: "Enter a nickname!",
                regErrorTaken: "This nickname is already taken!",
                positionWeight: "Weight:",
                positionPrice: "Price:",
                positionCity: "City:",
                positionAvailability: "Availability:",
                inStock: "In stock",
                buyButton: "Buy",
                preorderButton: "Preorder",
                reviewsTitle: "Reviews",
                noReviews: "No reviews yet.",
                close: "Close",
                paymentSuccess: "Payment successful!",
                insufficientFunds: "Insufficient funds. Top up your balance?",
                preorderTitle: "Preorder Confirmation",
                confirmButton: "Confirm",
                cancelButton: "Cancel",
                depositFunds: "Deposit Funds",
                selectCrypto: "Select cryptocurrency:",
                networkLabel: "Network:",
                enterAmount: "Enter amount (min. 1000 ฿):",
                depositInstruction: "Send {amount} ฿ (~{cryptoAmount} {crypto}) to the address below.",
                depositAddress: "Deposit address:",
                depositExpiry: "Expires in: 30 minutes.",
                confirmPayment: "Confirm Payment",
                minDepositError: "Minimum deposit amount is 1000 ฿!",
                paymentPending: "Payment pending confirmation (30 sec simulation).",
                confirmTitle: "Confirmation",
                yes: "Yes",
                no: "No",
                applyJobPrompt: "Enter your resume for the {job} vacancy:",
                applyJobAlert: "Application for {job} submitted!",
                recentPurchases: "Recent Purchases:",
                limitedOffer: "Limited Offer: {product} at a discount! Time left: {time}",
                promoInfo: "Promo Information"
            }
        };

        function initApp() {
            userLanguage = localStorage.getItem('userLanguage') || 'ru';
            const storedUser = localStorage.getItem('currentUser');
            if (storedUser) {
                currentUser = JSON.parse(storedUser);
                userLanguage = currentUser.language;
            }
            updateTranslations();
            
            if (!currentUser) {
                showRegistrationModal();
            } else {
                document.getElementById('profileNameLabel').textContent = translations[userLanguage].profileNameLabel + currentUser.nickname;
                document.getElementById('balance').textContent = balance + ' ฿';
                document.getElementById('ordersLabel').textContent = translations[userLanguage].ordersLabel + orderCount;
                document.getElementById('referralsLabel').textContent = translations[userLanguage].referralsLabel + referralCount;
                document.getElementById('statusLabel').textContent = translations[userLanguage].statusLabel + (balance > 0 ? 'Active' : 'Inactive');
                updateAchievements();
                updateCatalog();
                updateRecentPurchases();
                document.querySelector('.chat-button').style.display = 'block';
            }
            setInterval(updateLimitedOffer, 1000);
        }

        function updateTranslations() {
            document.getElementById('promoBanner').textContent = translations[userLanguage].promoBanner;
            document.getElementById('headerText').textContent = translations[userLanguage].headerText;
            document.getElementById('catalogButton').textContent = translations[userLanguage].catalogButton;
            document.getElementById('vacanciesButton').textContent = translations[userLanguage].vacanciesButton;
            document.getElementById('mailButton').textContent = translations[userLanguage].mailButton;
            document.getElementById('allCitiesOption').textContent = translations[userLanguage].allCitiesOption;
            document.getElementById('phuketOption').textContent = translations[userLanguage].phuketOption;
            document.getElementById('pattayaOption').textContent = translations[userLanguage].pattayaOption;
            document.getElementById('bangkokOption').textContent = translations[userLanguage].bangkokOption;
            document.getElementById('samuiOption').textContent = translations[userLanguage].samuiOption;
            document.getElementById('allDistrictsOption').textContent = translations[userLanguage].allDistrictsOption;
            document.getElementById('weedDesc').textContent = translations[userLanguage].weedDesc;
            document.getElementById('orderHistoryTitle').textContent = translations[userLanguage].orderHistoryTitle;
            document.getElementById('orderList').textContent = orderHistory.length ? orderHistory.join('\n') : translations[userLanguage].orderListEmpty;
            document.getElementById('vacanciesTitle').textContent = translations[userLanguage].vacanciesTitle;
            document.getElementById('courierTitle').textContent = translations[userLanguage].courierTitle;
            document.getElementById('courierDuties').textContent = translations[userLanguage].courierDuties;
            document.getElementById('courierPay').textContent = translations[userLanguage].courierPay;
            document.getElementById('warehousemanTitle').textContent = translations[userLanguage].warehousemanTitle;
            document.getElementById('warehousemanDuties').textContent = translations[userLanguage].warehousemanDuties;
            document.getElementById('warehousemanPay').textContent = translations[userLanguage].warehousemanPay;
            document.getElementById('transporterTitle').textContent = translations[userLanguage].transporterTitle;
            document.getElementById('transporterDuties').textContent = translations[userLanguage].transporterDuties;
            document.getElementById('transporterPay').textContent = translations[userLanguage].transporterPay;
            document.getElementById('smmTitle').textContent = translations[userLanguage].smmTitle;
            document.getElementById('smmDuties').textContent = translations[userLanguage].smmDuties;
            document.getElementById('smmPay').textContent = translations[userLanguage].smmPay;
            document.getElementById('applyButton1').textContent = translations[userLanguage].applyButton;
            document.getElementById('applyButton2').textContent = translations[userLanguage].applyButton;
            document.getElementById('applyButton3').textContent = translations[userLanguage].applyButton;
            document.getElementById('applyButton4').textContent = translations[userLanguage].applyButton;
            document.getElementById('mailTitle').textContent = translations[userLanguage].mailTitle;
            document.getElementById('mailList').textContent = mailMessages.length ? mailMessages.join('\n') : translations[userLanguage].mailListEmpty;
            document.getElementById('weedTab').textContent = translations[userLanguage].weedTab;
            document.getElementById('hashTab').textContent = translations[userLanguage].hashTab;
            document.getElementById('cokeTab').textContent = translations[userLanguage].cokeTab;
            document.getElementById('amphTab').textContent = translations[userLanguage].amphTab;
            document.getElementById('methTab').textContent = translations[userLanguage].methTab;
            document.getElementById('mephTab').textContent = translations[userLanguage].mephTab;
            document.getElementById('alphaTab').textContent = translations[userLanguage].alphaTab;
            document.getElementById('lsdTab').textContent = translations[userLanguage].lsdTab;
            document.getElementById('mdmaTab').textContent = translations[userLanguage].mdmaTab;
            document.getElementById('heroinTab').textContent = translations[userLanguage].heroinTab;
        }

        function showRegistrationModal() {
            document.getElementById('registrationModal').style.display = 'flex';
        }

        function registerUser() {
            const nickname = document.getElementById('regNickname').value.trim();
            const language = document.getElementById('regLanguage').value;
            if (!nickname) {
                document.getElementById('regError').textContent = translations[language].regErrorEmpty;
                return;
            }
            if (registeredUsers.some(user => user.nickname === nickname)) {
                document.getElementById('regError').textContent = translations[language].regErrorTaken;
                return;
            }
            currentUser = { nickname, language };
            userLanguage = language;
            localStorage.setItem('userLanguage', language);
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            registeredUsers.push(currentUser);
            localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));
            document.getElementById('registrationModal').style.display = 'none';
            document.getElementById('regNickname').value = '';
            document.getElementById('regError').textContent = '';
            alert(translations[userLanguage].welcomeMessage.replace('{user}', nickname));
            document.querySelector('.chat-button').style.display = 'block';
            initApp();
        }

        function toggleCatalog() {
            const menu = document.getElementById('catalogMenu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
            if (menu.style.display === 'block') updateCatalog();
        }

        function toggleProfile() {
            const menu = document.getElementById('profileMenu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
            if (menu.style.display === 'block') updateProfile();
        }

        function toggleVacancies() {
            const menu = document.getElementById('vacancyMenu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        function toggleMail() {
            const menu = document.getElementById('mailMenu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        function updateCatalog() {
            const citySelect = document.getElementById('citySelect');
            const districtSelect = document.getElementById('districtSelect');
            const city = citySelect.value;
            const district = districtSelect.value;

            if (city !== selectedCity) {
                selectedCity = city;
                districtSelect.innerHTML = '<option value="all">' + translations[userLanguage].allDistrictsOption + '</option>';
                if (city !== 'all') {
                    Object.keys(cities[city]).forEach(d => {
                        const option = document.createElement('option');
                        option.value = d;
                        option.textContent = d; // Можно добавить перевод для районов
                        districtSelect.appendChild(option);
                    });
                }
                selectedDistrict = 'all';
            }

            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            tabContents.forEach(content => content.style.display = 'none');

            Object.keys(products).forEach(category => {
                const tabContent = document.getElementById(category);
                tabContent.innerHTML = '';
                Object.keys(products[category]).forEach(id => {
                    const product = products[category][id];
                    const productDiv = document.createElement('div');
                    productDiv.innerHTML = `
                        <h3>${product.name}</h3>
                        <p>${product.desc}</p>
                        <button onclick="showProductModal('${category}', ${id})">${translations[userLanguage].buyButton}</button>
                    `;
                    tabContent.appendChild(productDiv);
                });
            });

            document.getElementById('weed').style.display = 'block';
            document.getElementById('weedTab').classList.add('active');

            tabs.forEach(tab => {
                tab.onclick = () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    tabContents.forEach(content => content.style.display = 'none');
                    document.getElementById(tab.dataset.tab).style.display = 'block';
                };
            });
        }

        function filterByCity() {
            updateCatalog();
            filterByDistrict();
        }

        function filterByDistrict() {
            const district = document.getElementById('districtSelect').value;
            selectedDistrict = district;
            updateCatalog();
        }

        function showProductModal(category, id) {
            const product = products[category][id];
            const content = document.getElementById('productContent');
            content.innerHTML = `
                <h2>${product.name}</h2>
                <p>${product.desc}</p>
                <div class="product-image"><img src="${productImages[category][id]}" alt="${product.name}" onclick="this.classList.toggle('zoomed')"></div>
                <p>${translations[userLanguage].positionWeight}</p>
                <select id="weightSelect">
                    ${product.weight.map(w => `<option value="${w}">${w} g</option>`).join('')}
                </select>
                <p>${translations[userLanguage].positionPrice} <span id="priceDisplay">${product.price[0]} ฿</span></p>
                <p>${translations[userLanguage].positionCity} <span id="cityDisplay">${selectedCity}</span></p>
                <p>${translations[userLanguage].positionAvailability}: <span id="availability">${translations[userLanguage].inStock}</span></p>
                <button class="buy-button" onclick="buyProduct('${category}', ${id})">${translations[userLanguage].buyButton}</button>
                <button class="preorder-button" onclick="showPreorderModal('${category}', ${id})">${translations[userLanguage].preorderButton}</button>
                <div id="reviews">${translations[userLanguage].reviewsTitle}<br>${translations[userLanguage].noReviews}</div>
                <button onclick="closeModal('productModal')">${translations[userLanguage].close}</button>
            `;
            document.getElementById('weightSelect').addEventListener('change', function() {
                const weightIndex = product.weight.indexOf(parseFloat(this.value));
                document.getElementById('priceDisplay').textContent = product.price[weightIndex] + ' ฿';
            });
            document.getElementById('productModal').style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function buyProduct(category, id) {
            const weightSelect = document.getElementById('weightSelect');
            const weight = parseFloat(weightSelect.value);
            const weightIndex = products[category][id].weight.indexOf(weight);
            const price = products[category][id].price[weightIndex];
            if (balance >= price) {
                balance -= price;
                orderCount++;
                orderHistory.push(`${new Date().toLocaleString()} - ${products[category][id].name} (${weight}g) - ${price} ฿`);
                document.getElementById('balance').textContent = balance + ' ฿';
                document.getElementById('ordersLabel').textContent = translations[userLanguage].ordersLabel + orderCount;
                updateRecentPurchases();
                alert(translations[userLanguage].paymentSuccess);
                closeModal('productModal');
                updateAchievements();
            } else {
                showConfirmModal(translations[userLanguage].insufficientFunds, () => showDepositModal());
            }
        }

        function showPreorderModal(category, id) {
            const product = products[category][id];
            const content = document.getElementById('preorderContent');
            content.innerHTML = `
                <h2>${translations[userLanguage].preorderTitle}</h2>
                <p>${product.name} (${product.weight[0]}g) - ${product.price[0] * 1.3} ฿</p>
                <button class="buy-button" onclick="preorderProduct('${category}', ${id})">${translations[userLanguage].confirmButton}</button>
                <button onclick="closeModal('preorderModal')">${translations[userLanguage].cancelButton}</button>
            `;
            document.getElementById('preorderModal').style.display = 'flex';
        }

        function preorderProduct(category, id) {
            const price = products[category][id].price[0] * 1.3;
            if (balance >= price) {
                balance -= price;
                orderCount++;
                orderHistory.push(`${new Date().toLocaleString()} - ${products[category][id].name} (Preorder ${products[category][id].weight[0]}g) - ${price} ฿`);
                document.getElementById('balance').textContent = balance + ' ฿';
                document.getElementById('ordersLabel').textContent = translations[userLanguage].ordersLabel + orderCount;
                updateRecentPurchases();
                alert(translations[userLanguage].paymentSuccess);
                closeModal('preorderModal');
                updateAchievements();
            } else {
                showConfirmModal(translations[userLanguage].insufficientFunds, () => showDepositModal());
            }
        }

        function showDepositModal(crypto = 'BTC') {
            const content = document.getElementById('depositContent');
            const amountInBaht = Math.max(MIN_DEPOSIT, balance < MIN_DEPOSIT ? MIN_DEPOSIT * 2 : MIN_DEPOSIT);
            const amountInCrypto = amountInBaht / cryptoRates[crypto];
            content.innerHTML = `
                <h2>${translations[userLanguage].depositFunds}</h2>
                <p>${translations[userLanguage].selectCrypto}</p>
                <select id="cryptoSelect">
                    ${Object.keys(cryptoRates).map(c => `<option value="${c}" ${c === crypto ? 'selected' : ''}>${c}</option>`).join('')}
                </select>
                <p>${translations[userLanguage].networkLabel} ${cryptoNetworks[crypto]}</p>
                <p>${translations[userLanguage].enterAmount}</p>
                <input type="number" id="depositAmount" value="${amountInBaht}" min="${MIN_DEPOSIT}">
                <p>${translations[userLanguage].depositInstruction.replace('{amount}', amountInBaht).replace('{cryptoAmount}', amountInCrypto.toFixed(6)).replace('{crypto}', crypto)}</p>
                <p>${translations[userLanguage].depositAddress}: <span id="depositAddress">${testAddresses[crypto]}</span></p>
                <p>${translations[userLanguage].depositExpiry}</p>
                <button class="buy-button" onclick="confirmDeposit('${crypto}')">${translations[userLanguage].confirmPayment}</button>
                <button onclick="closeModal('depositModal')">${translations[userLanguage].cancelButton}</button>
            `;
            document.getElementById('depositAmount').addEventListener('change', function() {
                const newAmount = Math.max(MIN_DEPOSIT, parseFloat(this.value) || MIN_DEPOSIT);
                this.value = newAmount;
                const selectedCrypto = document.getElementById('cryptoSelect').value;
                const cryptoAmount = newAmount / cryptoRates[selectedCrypto];
                content.querySelector('p:nth-child(5)').textContent = translations[userLanguage].depositInstruction.replace('{amount}', newAmount).replace('{cryptoAmount}', cryptoAmount.toFixed(6)).replace('{crypto}', selectedCrypto);
            });
            document.getElementById('cryptoSelect').addEventListener('change', function() {
                const newCrypto = this.value;
                showDepositModal(newCrypto);
            });
            document.getElementById('depositModal').style.display = 'flex';
        }

        function confirmDeposit(crypto) {
            const amount = parseFloat(document.getElementById('depositAmount').value);
            if (amount < MIN_DEPOSIT) {
                alert(translations[userLanguage].minDepositError);
                return;
            }
            pendingPayments[Date.now()] = { amount, crypto, address: testAddresses[crypto], timestamp: Date.now() };
            closeModal('depositModal');
            alert(translations[userLanguage].paymentPending);
            setTimeout(() => {
                const paymentKey = Object.keys(pendingPayments).find(key => pendingPayments[key].timestamp <= Date.now());
                if (paymentKey) {
                    balance += pendingPayments[paymentKey].amount;
                    document.getElementById('balance').textContent = balance + ' ฿';
                    delete pendingPayments[paymentKey];
                    updateAchievements();
                }
            }, 30000);
        }

        function showConfirmModal(message, onConfirm) {
            const content = document.getElementById('confirmContent');
            content.innerHTML = `
                <h2>${translations[userLanguage].confirmTitle}</h2>
                <p>${message}</p>
                <button class="buy-button" onclick="${onConfirm ? onConfirm.toString() + '();' : ''}closeModal('confirmModal')">${translations[userLanguage].yes}</button>
                <button onclick="closeModal('confirmModal')">${translations[userLanguage].no}</button>
            `;
            document.getElementById('confirmModal').style.display = 'flex';
        }

        function applyForJob(job) {
            const resume = prompt(translations[userLanguage].applyJobPrompt.replace('{job}', job));
            if (resume) {
                mailMessages.push(`${new Date().toLocaleString()} - Application for ${job}: ${resume}`);
                alert(translations[userLanguage].applyJobAlert.replace('{job}', job));
                document.getElementById('mailList').textContent = mailMessages.join('\n');
            }
        }

        function updateAchievements() {
            const achievementsList = document.getElementById('achievementsList');
            achievementsList.innerHTML = '';
            if (orderCount >= 5) {
                const li = document.createElement('li');
                li.textContent = userLanguage === 'ru' ? '5+ заказов выполнено' : '5+ Orders Completed';
                achievementsList.appendChild(li);
            }
            if (referralCount >= 5) {
                const li = document.createElement('li');
                li.textContent = userLanguage === 'ru' ? '5+ друзей приглашено' : '5+ Friends Invited';
                achievementsList.appendChild(li);
            }
            if (balance >= 10000) {
                const li = document.createElement('li');
                li.textContent = userLanguage === 'ru' ? 'Потрачено 10,000+ ฿' : '10,000+ ฿ Spent';
                achievementsList.appendChild(li);
            }
        }

        function updateRecentPurchases() {
            const recentPurchases = document.getElementById('recentPurchases');
            recentPurchases.innerHTML = `${translations[userLanguage].recentPurchases}<br>${orderHistory.slice(-3).join('<br>') || translations[userLanguage].orderListEmpty}`;
        }

        function updateLimitedOffer() {
            const offer = document.getElementById('limitedOffer');
            const now = new Date();
            const end = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 0);
            const timeLeft = Math.floor((end - now) / 1000);
            if (timeLeft > 0) {
                const hours = Math.floor(timeLeft / 3600);
                const minutes = Math.floor((timeLeft % 3600) / 60);
                const seconds = timeLeft % 60;
                offer.textContent = translations[userLanguage].limitedOffer.replace('{product}', 'Hash').replace('{time}', `${hours}:${minutes}:${seconds}`);
            } else {
                offer.textContent = '';
            }
        }

        function sendChatMessage() {
            const message = document.getElementById('chatInput').value.trim();
            if (message) {
                const chatMessages = document.getElementById('chatMessages');
                chatMessages.innerHTML += `<p>You: ${message}</p>`;
                chatMessages.innerHTML += `<p>Operator: I'll get back to you soon!</p>`;
                document.getElementById('chatInput').value = '';
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }

        function toggleChat() {
            const chat = document.getElementById('supportChat');
            chat.classList.toggle('active');
            if (chat.classList.contains('active')) {
                chat.scrollTop = chat.scrollHeight;
            }
        }

        function showPromoDetails() {
            const content = document.getElementById('customContent');
            content.innerHTML = `
                <h2>${translations[userLanguage].promoInfo}</h2>
                <p>${translations[userLanguage].promoBanner}</p>
                <button onclick="closeModal('customModal')">${translations[userLanguage].close}</button>
            `;
            document.getElementById('customModal').style.display = 'flex';
        }

        function updateProfile() {
            document.getElementById('profileNameLabel').textContent = translations[userLanguage].profileNameLabel + currentUser.nickname;
            document.getElementById('balance').textContent = balance + ' ฿';
            document.getElementById('ordersLabel').textContent = translations[userLanguage].ordersLabel + orderCount;
            document.getElementById('referralsLabel').textContent = translations[userLanguage].referralsLabel + referralCount;
            document.getElementById('statusLabel').textContent = translations[userLanguage].statusLabel + (balance > 0 ? 'Active' : 'Inactive');
            updateAchievements();
            updateRecentPurchases();
        }

        window.onload = initApp;
    </script>
</body>
</html>
