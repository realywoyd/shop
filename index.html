<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="sandbox allow-same-origin allow-modals allow-scripts">
    <title>Dark Thailand - Reliable Shop</title>
    <style>
        /* Стили остаются такими же, как в предыдущем коде */
        body {
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1a1a1a 0%, #2b0000 100%);
            color: #ff4444;
            overflow-x: hidden;
        }
        .container { max-width: 600px; margin: 0 auto; padding: 15px; position: relative; }
        .header { text-align: center; padding: 15px 0; background-color: #2b2b2b; color: #ff4444; margin-bottom: 20px; border-radius: 5px; border: 2px solid #ff4444; box-shadow: 0 0 10px rgba(255, 68, 68, 0.5); position: relative; }
        .logo { font-size: 48px; animation: textPulse 2s infinite; display: inline-block; }
        @keyframes textPulse { 0% { transform: scale(1); text-shadow: 0 0 5px #ff4444; } 50% { transform: scale(1.05); text-shadow: 0 0 20px #ff4444, 0 0 30px #ff6666; } 100% { transform: scale(1); text-shadow: 0 0 5px #ff4444; } }
        .header-text { font-size: 16px; margin-top: 5px; animation: textFlicker 3s infinite; }
        @keyframes textFlicker { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        .nav { display: flex; justify-content: space-between; margin-bottom: 20px; }
        .nav-button { background-color: #ff4444; color: #000; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px; animation: neonPulse 1.5s infinite; }
        .profile-button { background-color: #ff4444; color: #000; border: none; padding: 0; border-radius: 5px; cursor: pointer; font-size: 26px; width: 60px; height: 40px; line-height: 40px; text-align: center; animation: neonPulse 1.5s infinite; }
        @keyframes neonPulse { 0% { box-shadow: 0 0 5px #ff4444; } 50% { box-shadow: 0 0 20px #ff4444; } 100% { box-shadow: 0 0 5px #ff4444; } }
        .catalog-menu, .profile-menu, .vacancy-menu, .mail-menu { display: none; background-color: #333; border-radius: 5px; padding: 15px; box-shadow: 0 0 15px rgba(255, 68, 68, 0.3); }
        .city-filter { margin-bottom: 15px; }
        .city-filter select, .district-filter select { width: 100%; padding: 10px; background-color: #2b2b2b; color: #ff4444; border: 1px solid #ff4444; border-radius: 5px; font-size: 16px; margin-bottom: 10px; }
        .tabs { display: flex; flex-wrap: wrap; margin-bottom: 15px; }
        .tab { flex: 1; text-align: center; padding: 10px; background-color: #2b2b2b; cursor: pointer; margin: 5px; border-radius: 5px; transition: all 0.3s; }
        .tab:hover { background-color: #ff6666; }
        .tab.active { background-color: #ff4444; color: #000; box-shadow: 0 0 10px #ff4444; }
        .tab-content { display: none; }
        .product-card { background-color: #333; border-radius: 5px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 5px rgba(255, 68, 68, 0.3); transition: transform 0.2s; }
        .product-card:hover { transform: scale(1.02); }
        .product-card h3 { margin-top: 0; color: #ff6666; cursor: pointer; }
        .product-card p { margin: 5px 0; }
        .price { font-weight: bold; color: #ff9999; }
        .crypto-price { font-size: 12px; color: #ff6666; }
        .buy-button, .preorder-button { background-color: #ff4444; color: #000; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; margin: 5px 0; width: 100%; transition: all 0.3s; }
        .preorder-button { background-color: #ff6666; }
        .buy-button:hover, .preorder-button:hover { background-color: #ff8888; }
        .payment-modal, .product-modal, .deposit-modal, .preorder-modal, .registration-modal, .custom-modal, .confirm-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); justify-content: center; align-items: center; }
        .payment-content, .product-content, .deposit-content, .preorder-content, .registration-content, .custom-content, .confirm-content { background: #333; padding: 20px; border-radius: 5px; text-align: center; color: #ff4444; max-width: 500px; max-height: 80vh; overflow-y: auto; border: 2px solid #ff4444; box-shadow: 0 0 15px rgba(255, 68, 68, 0.5); }
        .review { background-color: #2b2b2b; border-left: 4px solid #ff6666; padding: 10px; margin: 10px 0; font-size: 12px; color: #ff9999; text-align: left; }
        .moderator-response { background-color: #2b2b2b; border-left: 4px solid #ff4444; padding: 10px; margin: 5px 0 10px 20px; font-size: 12px; color: #ff6666; text-align: left; }
        .position { margin: 10px 0; text-align: left; }
        .promo-banner { background-color: #ff4444; color: #000; padding: 10px; text-align: center; margin-bottom: 20px; border-radius: 5px; font-weight: bold; }
        .vacancy { margin-bottom: 15px; }
        .vacancy h3 { color: #ff6666; }
        input[type="text"], textarea, input[type="number"], select { width: 100%; padding: 10px; margin: 10px 0; background-color: #2b2b2b; color: #ff4444; border: 1px solid #ff4444; border-radius: 5px; }
        textarea { height: 100px; resize: none; }
    </style>
</head>
<body>
    <div class="container">
        <div class="promo-banner" id="promoBanner"></div>

        <div class="header">
            <div class="logo">Dark Thailand</div>
            <div class="header-text" id="headerText"></div>
        </div>
        
        <div class="nav">
            <button class="nav-button" id="catalogButton" onclick="toggleCatalog()"></button>
            <button class="nav-button" id="vacanciesButton" onclick="toggleVacancies()"></button>
            <button class="nav-button" id="mailButton" onclick="toggleMail()"></button>
            <button class="profile-button" onclick="toggleProfile()">☠️</button>
        </div>
        
        <div class="catalog-menu" id="catalogMenu">
            <div class="city-filter">
                <select id="citySelect" onchange="filterByCity()">
                    <option value="all" id="allCitiesOption"></option>
                    <option value="phuket" id="phuketOption"></option>
                    <option value="pattaya" id="pattayaOption"></option>
                    <option value="bangkok" id="bangkokOption"></option>
                    <option value="samui" id="samuiOption"></option>
                </select>
                <select id="districtSelect" onchange="filterByDistrict()">
                    <option value="all" id="allDistrictsOption"></option>
                </select>
            </div>
            <div class="tabs">
                <div class="tab" data-tab="weed" id="weedTab">Marijuana</div>
                <div class="tab" data-tab="hash" id="hashTab">Hashish</div>
                <div class="tab" data-tab="coke" id="cokeTab">Cocaine</div>
                <div class="tab" data-tab="amph" id="amphTab">Amphetamine</div>
                <div class="tab" data-tab="meth" id="methTab">Methamphetamine</div>
                <div class="tab" data-tab="meph" id="mephTab">Mephedrone</div>
                <div class="tab" data-tab="alpha" id="alphaTab">Alpha-PVP</div>
                <div class="tab" data-tab="lsd" id="lsdTab">LSD</div>
                <div class="tab" data-tab="mdma" id="mdmaTab">MDMA</div>
                <div class="tab" data-tab="heroin" id="heroinTab">Heroin</div>
            </div>

            <div id="weed" class="tab-content">
                <div class="product-card" data-product="weed-1">
                    <h3 onclick="showProductModal('weed', 1)">Jamaican Haze (VHQ)</h3>
                    <p id="weedDesc"></p>
                </div>
            </div>

            <div id="hash" class="tab-content">
                <div class="product-card" data-product="hash-1">
                    <h3 onclick="showProductModal('hash', 1)">Afghan Black Gold (VHQ)</h3>
                    <p>Premium Afghan hash, velvety effect</p>
                </div>
                <div class="product-card" data-product="hash-2">
                    <h3 onclick="showProductModal('hash', 2)">Moroccan Spice (HQ)</h3>
                    <p>Moroccan hash with spicy aroma</p>
                </div>
                <div class="product-card" data-product="hash-3">
                    <h3 onclick="showProductModal('hash', 3)">Nepal Temple (MQ)</h3>
                    <p>Nepalese hash, balanced stone</p>
                </div>
                <div class="product-card" data-product="hash-4">
                    <h3 onclick="showProductModal('hash', 4)">Local Dust (LQ)</h3>
                    <p>Local budget hash</p>
                </div>
                <div class="product-card" data-product="hash-5">
                    <h3 onclick="showProductModal('hash', 5)">Himalayan Storm (VHQ)</h3>
                    <p>Himalayan storm, potent and pure</p>
                </div>
            </div>

            <div id="coke" class="tab-content">
                <div class="product-card" data-product="coke-1">
                    <h3 onclick="showProductModal('coke', 1)">Bolivian Fishscale (VHQ)</h3>
                    <p>Bolivian cocaine, top-tier 95%+</p>
                </div>
                <div class="product-card" data-product="coke-2">
                    <h3 onclick="showProductModal('coke', 2)">Colombian Snow (HQ)</h3>
                    <p>Colombian snow, clean and strong</p>
                </div>
                <div class="product-card" data-product="coke-3">
                    <h3 onclick="showProductModal('coke', 3)">Peruvian Dust (MQ)</h3>
                    <p>Peruvian dust, mid-tier high</p>
                </div>
                <div class="product-card" data-product="coke-4">
                    <h3 onclick="showProductModal('coke', 4)">Street Mix (LQ)</h3>
                    <p>Street mix, budget option</p>
                </div>
                <div class="product-card" data-product="coke-5">
                    <h3 onclick="showProductModal('coke', 5)">Cartel Gold (VHQ)</h3>
                    <p>Cartel gold standard, elite</p>
                </div>
            </div>

            <div id="amph" class="tab-content">
                <div class="product-card" data-product="amph-1">
                    <h3 onclick="showProductModal('amph', 1)">Crystal Surge (VHQ)</h3>
                    <p>Crystal amphetamine, pure energy</p>
                </div>
                <div class="product-card" data-product="amph-2">
                    <h3 onclick="showProductModal('amph', 2)">Red Rush (HQ)</h3>
                    <p>Red charge, steady drive</p>
                </div>
                <div class="product-card" data-product="amph-3">
                    <h3 onclick="showProductModal('amph', 3)">Yellow Spark (MQ)</h3>
                    <p>Yellow spark, mid-tier lift</p>
                </div>
                <div class="product-card" data-product="amph-4">
                    <h3 onclick="showProductModal('amph', 4)">Grey Haze (LQ)</h3>
                    <p>Grey haze, basic option</p>
                </div>
                <div class="product-card" data-product="amph-5">
                    <h3 onclick="showProductModal('amph', 5)">Blue Blitz (VHQ)</h3>
                    <p>Blue strike, elite amp</p>
                </div>
            </div>

            <div id="meth" class="tab-content">
                <div class="product-card" data-product="meth-1">
                    <h3 onclick="showProductModal('meth', 1)">Mountain Ice (VHQ)</h3>
                    <p>Mountain ice, crystal purity</p>
                </div>
                <div class="product-card" data-product="meth-2">
                    <h3 onclick="showProductModal('meth', 2)">Blue Flame (HQ)</h3>
                    <p>Blue flame, long-lasting effect</p>
                </div>
                <div class="product-card" data-product="meth-3">
                    <h3 onclick="showProductModal('meth', 3)">White Shard (MQ)</h3>
                    <p>White shard, mid-tier</p>
                </div>
                <div class="product-card" data-product="meth-4">
                    <h3 onclick="showProductModal('meth', 4)">Dirty Crystal (LQ)</h3>
                    <p>Dirty crystal, economy class</p>
                </div>
                <div class="product-card" data-product="meth-5">
                    <h3 onclick="showProductModal('meth', 5)">Golden Shard (VHQ)</h3>
                    <p>Golden shard, top-tier meth</p>
                </div>
            </div>

            <div id="meph" class="tab-content">
                <div class="product-card" data-product="meph-1">
                    <h3 onclick="showProductModal('meph', 1)">Pink Bliss (VHQ)</h3>
                    <p>Pink bliss, purest high</p>
                </div>
                <div class="product-card" data-product="meph-2">
                    <h3 onclick="showProductModal('meph', 2)">White Surge (HQ)</h3>
                    <p>White surge, steady effect</p>
                </div>
                <div class="product-card" data-product="meph-3">
                    <h3 onclick="showProductModal('meph', 3)">Grey Mist (MQ)</h3>
                    <p>Grey mist, mid-tier</p>
                </div>
                <div class="product-card" data-product="meph-4">
                    <h3 onclick="showProductModal('meph', 4)">Dusty High (LQ)</h3>
                    <p>Dusty high, budget meph</p>
                </div>
                <div class="product-card" data-product="meph-5">
                    <h3 onclick="showProductModal('meph', 5)">Red Pulse (VHQ)</h3>
                    <p>Red pulse, elite rush</p>
                </div>
            </div>

            <div id="alpha" class="tab-content">
                <div class="product-card" data-product="alpha-1">
                    <h3 onclick="showProductModal('alpha', 1)">Flakka Fire (VHQ)</h3>
                    <p>Fiery flakka, pure Alpha-PVP</p>
                </div>
                <div class="product-card" data-product="alpha-2">
                    <h3 onclick="showProductModal('alpha', 2)">Purple Haze (HQ)</h3>
                    <p>Purple haze, strong charge</p>
                </div>
                <div class="product-card" data-product="alpha-3">
                    <h3 onclick="showProductModal('alpha', 3)">Green Dust (MQ)</h3>
                    <p>Green dust, mid-tier effect</p>
                </div>
                <div class="product-card" data-product="alpha-4">
                    <h3 onclick="showProductModal('alpha', 4)">Street Gravel (LQ)</h3>
                    <p>Street gravel, budget Alpha</p>
                </div>
                <div class="product-card" data-product="alpha-5">
                    <h3 onclick="showProductModal('alpha', 5)">Crystal Fury (VHQ)</h3>
                    <p>Crystal fury, top-tier PVP</p>
                </div>
            </div>

            <div id="lsd" class="tab-content">
                <div class="product-card" data-product="lsd-1">
                    <h3 onclick="showProductModal('lsd', 1)">Cosmic Tabs (VHQ)</h3>
                    <p>Cosmic tabs, pure trip</p>
                </div>
                <div class="product-card" data-product="lsd-2">
                    <h3 onclick="showProductModal('lsd', 2)">Neon Drops (HQ)</h3>
                    <p>Neon drops, vivid experience</p>
                </div>
                <div class="product-card" data-product="lsd-3">
                    <h3 onclick="showProductModal('lsd', 3)">Acid Rain (MQ)</h3>
                    <p>Acid rain, mid-tier trip</p>
                </div>
                <div class="product-card" data-product="lsd-4">
                    <h3 onclick="showProductModal('lsd', 4)">Street Blotters (LQ)</h3>
                    <p>Street blotters, basic LSD</p>
                </div>
                <div class="product-card" data-product="lsd-5">
                    <h3 onclick="showProductModal('lsd', 5)">Galactic Hits (VHQ)</h3>
                    <p>Galactic hits, elite acid</p>
                </div>
            </div>

            <div id="mdma" class="tab-content">
                <div class="product-card" data-product="mdma-1">
                    <h3 onclick="showProductModal('mdma', 1)">Crystal Love (VHQ)</h3>
                    <p>Crystal love, pure MDMA</p>
                </div>
                <div class="product-card" data-product="mdma-2">
                    <h3 onclick="showProductModal('mdma', 2)">Pink Rocks (HQ)</h3>
                    <p>Pink rocks, steady high</p>
                </div>
                <div class="product-card" data-product="mdma-3">
                    <h3 onclick="showProductModal('mdma', 3)">Ecstasy Blue (VHQ Tabs)</h3>
                    <p>Blue ecstasy, top-tier pills</p>
                </div>
                <div class="product-card" data-product="mdma-4">
                    <h3 onclick="showProductModal('mdma', 4)">Molly Dust (MQ)</h3>
                    <p>Molly dust, mid-tier MDMA</p>
                </div>
                                <div class="product-card" data-product="mdma-5">
                    <h3 onclick="showProductModal('mdma', 5)">Street Pills (LQ Tabs)</h3>
                    <p>Street pills, budget ecstasy</p>
                </div>
            </div>

            <div id="heroin" class="tab-content">
                <div class="product-card" data-product="heroin-1">
                    <h3 onclick="showProductModal('heroin', 1)">Afghan Silk (VHQ)</h3>
                    <p>Afghan silk, deep stone</p>
                </div>
                <div class="product-card" data-product="heroin-2">
                    <h3 onclick="showProductModal('heroin', 2)">White Lotus (HQ)</h3>
                    <p>White lotus, pure effect</p>
                </div>
                <div class="product-card" data-product="heroin-3">
                    <h3 onclick="showProductModal('heroin', 3)">Brown Sugar (MQ)</h3>
                    <p>Brown sugar, mid-tier heroin</p>
                </div>
                <div class="product-card" data-product="heroin-4">
                    <h3 onclick="showProductModal('heroin', 4)">Dirty Tar (LQ)</h3>
                    <p>Dirty tar, budget option</p>
                </div>
                <div class="product-card" data-product="heroin-5">
                    <h3 onclick="showProductModal('heroin', 5)">Black Pearl (VHQ)</h3>
                    <p>Black pearl, elite heroin</p>
                </div>
            </div>
        </div>

        <div class="profile-menu" id="profileMenu">
            <div class="profile-info">
                <h3>☠️</h3>
                <p id="profileNameLabel"></p>
                <p>Balance: <span id="balance">0 ฿</span></p>
                <p id="ordersLabel"></p>
                <p id="referralsLabel"></p>
                <p id="refLinkLabel"><span id="referralLink">darkthailand.com/ref123</span></p>
            </div>
            <div class="deposit-options">
                <h3 id="depositTitle"></h3>
                <button class="nav-button" onclick="showDepositModal('BTC')">Bitcoin (BTC)</button>
                <button class="nav-button" onclick="showDepositModal('ETH')">Ethereum (ETH)</button>
                <button class="nav-button" onclick="showDepositModal('USDT')">Tether (USDT)</button>
                <button class="nav-button" onclick="showDepositModal('SOL')">Solana (SOL)</button>
                <button class="nav-button" onclick="showDepositModal('TON')">Toncoin (TON)</button>
            </div>
            <div class="order-history">
                <h3 id="orderHistoryTitle"></h3>
                <div id="orderList"></div>
            </div>
        </div>

        <div class="vacancy-menu" id="vacancyMenu">
            <h2 id="vacanciesTitle"></h2>
            <div class="vacancy">
                <h3 id="courierTitle"></h3>
                <p id="courierDuties"></p>
                <p id="courierPay"></p>
                <button class="buy-button" onclick="applyForJob('Courier')" id="applyButton"></button>
            </div>
            <div class="vacancy">
                <h3 id="warehousemanTitle"></h3>
                <p id="warehousemanDuties"></p>
                <p id="warehousemanPay"></p>
                <button class="buy-button" onclick="applyForJob('Warehouseman')" id="applyButton2"></button>
            </div>
            <div class="vacancy">
                <h3 id="transporterTitle"></h3>
                <p id="transporterDuties"></p>
                <p id="transporterPay"></p>
                <button class="buy-button" onclick="applyForJob('Transporter')" id="applyButton3"></button>
            </div>
            <div class="vacancy">
                <h3 id="smmTitle"></h3>
                <p id="smmDuties"></p>
                <p id="smmPay"></p>
                <button class="buy-button" onclick="applyForJob('SMM Manager')" id="applyButton4"></button>
            </div>
        </div>

        <div class="mail-menu" id="mailMenu">
            <h2 id="mailTitle"></h2>
            <div id="mailList"></div>
        </div>

        <div class="product-modal" id="productModal">
            <div class="product-content" id="productContent"></div>
        </div>

        <div class="payment-modal" id="paymentModal">
            <div class="payment-content" id="paymentContent"></div>
        </div>

        <div class="deposit-modal" id="depositModal">
            <div class="deposit-content" id="depositContent"></div>
        </div>

        <div class="preorder-modal" id="preorderModal">
            <div class="preorder-content" id="preorderContent"></div>
        </div>

        <div class="registration-modal" id="registrationModal">
            <div class="registration-content" id="registrationContent">
                <h2>Registration</h2>
                <p>Enter your desired nickname:</p>
                <input type="text" id="regNickname" placeholder="Your nickname">
                <p>Choose language:</p>
                <select id="regLanguage">
                    <option value="en">English</option>
                    <option value="th">ไทย (Thai)</option>
                    <option value="ru">Русский</option>
                </select>
                <button class="buy-button" onclick="registerUser()">Register</button>
                <p id="regError" style="color: #ff9999;"></p>
            </div>
        </div>

        <div class="custom-modal" id="customModal">
            <div class="custom-content" id="customContent"></div>
        </div>

        <div class="confirm-modal" id="confirmModal">
            <div class="confirm-content" id="confirmContent"></div>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        if (window.Telegram && window.Telegram.WebApp) {
            window.Telegram.WebApp.ready();
            window.Telegram.WebApp.expand();
        } else {
            console.warn('Telegram Web App not available, running in offline mode');
        }

        let balance = 0;
        let orderCount = 0;
        let referralCount = 0;
        let referralDeposits = 0;
        let orderHistory = [];
        let selectedCity = 'all';
        let selectedDistrict = 'all';
        let currentUser = null;
        let userLanguage = 'en';
        let mailMessages = [];
        let pendingPayments = {};
        let BTC_RATE = 2000000;
        const MIN_DEPOSIT = 1000;
        let registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];

        const BOT_B_TOKEN = '7589545725:AAHoedAqoGh_k0WWdUs1rcBN1yddUtBFhsk';
        const ADMIN_CHAT_ID = '5956080955';

        const testAddresses = {
            BTC: "1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa",
            ETH: "0x32Be343B94f860124dC4fEe278FDCBD38C102D88",
            USDT: "0xdAC17F958D2ee523a2206206994597C13D831ec7",
            SOL: "5yK7e5a8j9k2m3n4p5q6r7s8t9u0v1w2x3y4z5A6B7C8D9E0F1G2H",
            TON: "EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM9c"
        };

        const cryptoNetworks = {
            BTC: "BEP20",
            ETH: "ERC20",
            USDT: "TRC20",
            SOL: "Solana",
            TON: "TON"
        };

        const translations = {
            en: {
                promoBanner: "Invite friends and get bonuses! 5 friends = 0.5g amphetamine, 10 friends = 0.5g cocaine (MQ), 25 friends = 1g cocaine (VHQ)!",
                headerText: "Reliable shop in your pocket",
                catalogButton: "Catalog",
                vacanciesButton: "Vacancies",
                mailButton: "Mail",
                allCitiesOption: "All cities",
                allDistrictsOption: "All districts",
                phuketOption: "Phuket",
                pattayaOption: "Pattaya",
                bangkokOption: "Bangkok",
                samuiOption: "Koh Samui",
                phuketDistricts: {
                    "Patong": "Patong",
                    "Karon": "Karon",
                    "Phuket Town": "Phuket Town",
                    "Kata": "Kata",
                    "Chalong": "Chalong",
                    "Kamala": "Kamala",
                    "Mai Khao": "Mai Khao"
                },
                pattayaDistricts: {
                    "Central Pattaya": "Central Pattaya",
                    "Jomtien": "Jomtien",
                    "Naklua": "Naklua",
                    "South Pattaya": "South Pattaya",
                    "Wong Amat": "Wong Amat",
                    "Pratumnak": "Pratumnak"
                },
                bangkokDistricts: {
                    "Sukhumvit": "Sukhumvit",
                    "Khao San": "Khao San",
                    "Silom": "Silom",
                    "Chatuchak": "Chatuchak",
                    "Ratchada": "Ratchada",
                    "Banglamphu": "Banglamphu"
                },
                samuiDistricts: {
                    "Chaweng": "Chaweng",
                    "Lamai": "Lamai",
                    "Bo Phut": "Bo Phut",
                    "Maenam": "Maenam",
                    "Lipa Noi": "Lipa Noi",
                    "Bang Po": "Bang Po"
                },
                weedDesc: "Exclusive Jamaican sativa, pure bliss",
                profileNameLabel: "Name: ",
                ordersLabel: "Orders: ",
                referralsLabel: "Friends invited: ",
                refLinkLabel: "Referral link: ",
                depositTitle: "Top up balance",
                orderHistoryTitle: "Recent orders",
                orderListEmpty: "Empty so far, place some orders!",
                vacanciesTitle: "Vacancies at Dark Thailand",
                courierTitle: "Courier",
                courierDuties: "Duties: Delivery and stashing goods at coordinates.",
                courierPay: "Pay: 500-1000 ฿ per stash (depends on volume).",
                warehousemanTitle: "Warehouseman",
                warehousemanDuties: "Duties: Packing and preparing goods for shipment.",
                warehousemanPay: "Pay: 2000-3000 ฿ per shift.",
                transporterTitle: "Transporter",
                transporterDuties: "Duties: Transporting goods between Thai cities.",
                transporterPay: "Pay: 5000-10000 ฿ per trip.",
                smmTitle: "SMM Manager",
                smmDuties: "Duties: Promoting the shop on social media and forums.",
                smmPay: "Pay: 3000-5000 ฿ per week + activity bonuses.",
                applyButton: "Apply",
                mailTitle: "Mail",
                mailListEmpty: "No messages yet.",
                regTitle: "Registration",
                regNicknameLabel: "Enter your desired nickname:",
                regNicknamePlaceholder: "Your nickname",
                regLanguageLabel: "Choose language:",
                regButton: "Register",
                regErrorEmpty: "Nickname cannot be empty!",
                regErrorTaken: "This nickname is already taken!",
                welcomeMessage: "Welcome, {user}! Your account has been created.",
                insufficientFunds: "Insufficient funds! Top up your balance?",
                yes: "Yes",
                no: "No",
                paymentSuccess: "Payment successful!",
                preorderTitle: "Preorder",
                preorderPlaced: "Preorder placed!",
                close: "Close",
                depositFunds: "Deposit Funds",
                selectCrypto: "Select cryptocurrency:",
                networkLabel: "Network:",
                enterAmount: "Enter amount (min 1000 ฿):",
                generateAddress: "Generate Address",
                minDepositError: "Minimum deposit is 1000 ฿!",
                depositInstruction: "Send {amount} ฿ (~{cryptoAmount} BTC) to this address:",
                depositFinal: "Funds will be credited to your balance once the payment is received.",
                depositExpiry: "Address expires in 30 minutes.",
                alertTitle: "Alert",
                confirmTitle: "Confirmation",
                inputTitle: "Input",
                confirmButton: "Confirm",
                cancelButton: "Cancel",
                applyJobPrompt: "Apply for \"{job}\". Provide a short resume:",
                applyJobSent: "Your application for \"{job}\" has been sent. Await admin response.",
                applyJobAlert: "Application for \"{job}\" sent!",
                positionWeight: "Weight:",
                positionPrice: "Price:",
                positionCity: "City:",
                positionAvailability: "Availability:",
                inStock: "In stock",
                outOfStock: "Out of stock",
                buyButton: "Buy",
                preorderButton: "Preorder (+30%)",
                reviewsTitle: "Latest reviews (max 10):",
                noReviews: "No reviews yet."
            },
            th: {
                promoBanner: "ชวนเพื่อนและรับโบนัส! 5 เพื่อน = 0.5ก. แอมเฟตามีน, 10 เพื่อน = 0.5ก. โคเคน (MQ), 25 เพื่อน = 1ก. โคเคน (VHQ)!",
                headerText: "ร้านค้าที่เชื่อถือได้ในกระเป๋าของคุณ",
                catalogButton: "แคตตาล็อก",
                vacanciesButton: "ตำแหน่งงานว่าง",
                mailButton: "จดหมาย",
                allCitiesOption: "ทุกเมือง",
                allDistrictsOption: "ทุกเขต",
                phuketOption: "ภูเก็ต",
                pattayaOption: "พัทยา",
                bangkokOption: "กรุงเทพฯ",
                samuiOption: "เกาะสมุย",
                phuketDistricts: {
                    "Patong": "ป่าตอง",
                    "Karon": "กะรน",
                    "Phuket Town": "เมืองภูเก็ต",
                    "Kata": "กะตะ",
                    "Chalong": "ฉลอง",
                    "Kamala": "กมลา",
                    "Mai Khao": "ไม้ขาว"
                },
                pattayaDistricts: {
                    "Central Pattaya": "พัทยากลาง",
                    "Jomtien": "จอมเทียน",
                    "Naklua": "นาเกลือ",
                    "South Pattaya": "พัทยาใต้",
                    "Wong Amat": "วงศ์อมาตย์",
                    "Pratumnak": "พระตำหนัก"
                },
                bangkokDistricts: {
                    "Sukhumvit": "สุขุมวิท",
                    "Khao San": "ข้าวสาร",
                    "Silom": "สีลม",
                    "Chatuchak": "จตุจักร",
                    "Ratchada": "รัชดา",
                    "Banglamphu": "บางลำพู"
                },
                samuiDistricts: {
                    "Chaweng": "เฉวง",
                    "Lamai": "ละไม",
                    "Bo Phut": "บ่อผุด",
                    "Maenam": "แม่น้ำ",
                    "Lipa Noi": "ลิปะน้อย",
                    "Bang Po": "บางโป"
                },
                weedDesc: "ซาติวาจาเมกาเอกซ์คลูซีฟ ความสุขบริสุทธิ์",
                profileNameLabel: "ชื่อ: ",
                ordersLabel: "คำสั่งซื้อ: ",
                referralsLabel: "เพื่อนที่ชวน: ",
                refLinkLabel: "ลิงก์แนะนำ: ",
                depositTitle: "เติมเงินในบัญชี",
                orderHistoryTitle: "คำสั่งซื้อล่าสุด",
                orderListEmpty: "ยังว่างอยู่ สั่งซื้อเลย!",
                vacanciesTitle: "ตำแหน่งงานว่างที่ Dark Thailand",
                courierTitle: "คนส่งของ",
                courierDuties: "หน้าที่: ส่งและซ่อนสินค้าตามพิกัด",
                courierPay: "ค่าจ้าง: 500-1000 ฿ ต่อจุด (ขึ้นอยู่กับปริมาณ)",
                warehousemanTitle: "พนักงานคลังสินค้า",
                warehousemanDuties: "หน้าที่: บรรจุและเตรียมสินค้าสำหรับการส่ง",
                warehousemanPay: "ค่าจ้าง: 2000-3000 ฿ ต่อกะ",
                transporterTitle: "คนขนส่ง",
                transporterDuties: "หน้าที่: ขนส่งสินค้าระหว่างเมืองในไทย",
                transporterPay: "ค่าจ้าง: 5000-10000 ฿ ต่อเที่ยว",
                smmTitle: "ผู้จัดการ SMM",
                smmDuties: "หน้าที่: โปรโมทร้านในโซเชียลมีเดียและฟอรัม",
                smmPay: "ค่าจ้าง: 3000-5000 ฿ ต่อสัปดาห์ + โบนัสกิจกรรม",
                applyButton: "สมัคร",
                mailTitle: "จดหมาย",
                mailListEmpty: "ยังไม่มีข้อความ",
                regTitle: "ลงทะเบียน",
                regNicknameLabel: "ป้อนชื่อเล่นที่ต้องการ:",
                regNicknamePlaceholder: "ชื่อเล่นของคุณ",
                regLanguageLabel: "เลือกภาษา:",
                regButton: "ลงทะเบียน",
                regErrorEmpty: "ชื่อเล่นต้องไม่ว่างเปล่า!",
                regErrorTaken: "ชื่อเล่นนี้ถูกใช้แล้ว!",
                welcomeMessage: "ยินดีต้อนรับ, {user}! บัญชีของคุณถูกสร้างแล้ว",
                insufficientFunds: "เงินไม่พอ! เติมเงินในบัญชี?",
                yes: "ใช่",
                no: "ไม่",
                paymentSuccess: "ชำระเงินสำเร็จ!",
                preorderTitle: "สั่งจองล่วงหน้า",
                preorderPlaced: "สั่งจองสำเร็จ!",
                close: "ปิด",
                depositFunds: "เติมเงิน",
                selectCrypto: "เลือกสกุลเงินดิจิทัล:",
                networkLabel: "เครือข่าย:",
                enterAmount: "ใส่จำนวนเงิน (ขั้นต่ำ 1000 ฿):",
                generateAddress: "สร้างที่อยู่",
                minDepositError: "จำนวนเงินขั้นต่ำคือ 1000 ฿!",
                depositInstruction: "ส่ง {amount} ฿ (~{cryptoAmount} BTC) ไปยังที่อยู่นี้:",
                depositFinal: "เงินจะถูกเพิ่มในบัญชีของคุณเมื่อการชำระเงินถึง",
                depositExpiry: "ที่อยู่นี้จะหมดอายุใน 30 นาที",
                alertTitle: "แจ้งเตือน",
                confirmTitle: "ยืนยัน",
                inputTitle: "ป้อนข้อมูล",
                confirmButton: "ยืนยัน",
                cancelButton: "ยกเลิก",
                applyJobPrompt: "สมัครงาน \"{job}\". ระบุประวัติย่อ:",
                applyJobSent: "ใบสมัครของคุณสำหรับ \"{job}\" ถูกส่งแล้ว รอการตอบกลับจากผู้ดูแล",
                applyJobAlert: "ใบสมัครสำหรับ \"{job}\" ถูกส่งแล้ว!",
                positionWeight: "น้ำหนัก:",
                positionPrice: "ราคา:",
                positionCity: "เมือง:",
                positionAvailability: "สถานะ:",
                inStock: "มีสินค้า",
                outOfStock: "สินค้าหมด",
                buyButton: "ซื้อ",
                preorderButton: "สั่งจองล่วงหน้า (+30%)",
                reviewsTitle: "รีวิวล่าสุด (สูงสุด 10):",
                noReviews: "ยังไม่มีรีวิว"
            },
            ru: {
                promoBanner: "Приглашай друзей и получай бонусы! 5 друзей = 0.5 г амфетамина, 10 друзей = 0.5 г кокаина (MQ), 25 друзей = 1 г кокаина (VHQ)!",
                headerText: "Надёжный шоп в твоём кармане",
                catalogButton: "Каталог",
                vacanciesButton: "Вакансии",
                mailButton: "Почта",
                allCitiesOption: "Все города",
                allDistrictsOption: "Все районы",
                phuketOption: "Пхукет",
                pattayaOption: "Паттайя",
                bangkokOption: "Бангкок",
                samuiOption: "о. Самуи",
                phuketDistricts: {
                    "Patong": "Патонг",
                    "Karon": "Карон",
                    "Phuket Town": "Пхукет-таун",
                    "Kata": "Ката",
                    "Chalong": "Чалонг",
                    "Kamala": "Камала",
                    "Mai Khao": "Май Кхао"
                },
                pattayaDistricts: {
                    "Central Pattaya": "Центральная Паттайя",
                    "Jomtien": "Джомтьен",
                    "Naklua": "Наклуа",
                    "South Pattaya": "Южная Паттайя",
                    "Wong Amat": "Вонг Амат",
                    "Pratumnak": "Пратамнак"
                },
                bangkokDistricts: {
                    "Sukhumvit": "Сукхумвит",
                    "Khao San": "Каосан",
                    "Silom": "Силом",
                    "Chatuchak": "Чатучак",
                    "Ratchada": "Ратчада",
                    "Banglamphu": "Банглампху"
                },
                samuiDistricts: {
                    "Chaweng": "Чавенг",
                    "Lamai": "Ламай",
                    "Bo Phut": "Бо Пхут",
                    "Maenam": "Маенам",
                    "Lipa Noi": "Липа Ной",
                    "Bang Po": "Банг По"
                },
                weedDesc: "Эксклюзивная ямайская сатива, чистейший кайф",
                profileNameLabel: "Имя: ",
                ordersLabel: "Заказов: ",
                referralsLabel: "Приглашено друзей: ",
                refLinkLabel: "Реферальная ссылка: ",
                depositTitle: "Пополнить баланс",
                orderHistoryTitle: "Последние заказы",
                orderListEmpty: "Пока пусто, делай заказы!",
                vacanciesTitle: "Вакансии в Dark Thailand",
                courierTitle: "Кладмен",
                courierDuties: "Обязанности: Доставка и закладка товара по координатам.",
                courierPay: "Оплата: 500-1000 ฿ за клад (зависит от объёма).",
                warehousemanTitle: "Складмен",
                warehousemanDuties: "Обязанности: Упаковка и подготовка товара к отправке.",
                warehousemanPay: "Оплата: 2000-3000 ฿ за смену.",
                transporterTitle: "Перевозчик",
                transporterDuties: "Обязанности: Перевозка товара между городами Таиланда.",
                transporterPay: "Оплата: 5000-10000 ฿ за рейс.",
                smmTitle: "SMMщик",
                smmDuties: "Обязанности: Продвижение шопа в соцсетях и форумах.",
                smmPay: "Оплата: 3000-5000 ฿ в неделю + бонусы за активность.",
                applyButton: "Оставить заявку",
                mailTitle: "Почта",
                mailListEmpty: "Пока нет сообщений.",
                regTitle: "Регистрация",
                regNicknameLabel: "Введите желаемый никнейм:",
                regNicknamePlaceholder: "Ваш никнейм",
                regLanguageLabel: "Выберите язык:",
                regButton: "Зарегистрироваться",
                regErrorEmpty: "Никнейм не может быть пустым!",
                regErrorTaken: "Этот никнейм уже занят!",
                welcomeMessage: "Добро пожаловать, {user}! Ваш аккаунт успешно создан.",
                insufficientFunds: "Недостаточно средств на балансе! Пополнить баланс?",
                yes: "Да",
                no: "Нет",
                paymentSuccess: "Оплата прошла!",
                preorderTitle: "Предзаказ",
                preorderPlaced: "Предзаказ оформлен!",
                close: "Закрыть",
                depositFunds: "Пополнить баланс",
                selectCrypto: "Выберите криптовалюту:",
                networkLabel: "Сеть:",
                enterAmount: "Введите сумму (мин. 1000 ฿):",
                generateAddress: "Сгенерировать адрес",
                minDepositError: "Минимальная сумма пополнения — 1000 ฿!",
                depositInstruction: "Отправьте {amount} ฿ (~{cryptoAmount} BTC) на этот адрес:",
                depositFinal: "Средства будут зачислены на ваш баланс после поступления оплаты.",
                depositExpiry: "Адрес действителен 30 минут.",
                alertTitle: "Предупреждение",
                confirmTitle: "Подтверждение",
                inputTitle: "Ввод",
                confirmButton: "Подтвердить",
                cancelButton: "Отмена",
                applyJobPrompt: "Оставьте заявку на вакансию \"{job}\". Укажите краткое резюме:",
                applyJobSent: "Ваша заявка на вакансию \"{job}\" отправлена. Ожидайте ответа от администрации.",
                applyJobAlert: "Заявка на \"{job}\" отправлена!",
                positionWeight: "Вес:",
                positionPrice: "Цена:",
                positionCity: "Город:",
                positionAvailability: "Наличие:",
                inStock: "В наличии",
                outOfStock: "Нет в наличии",
                buyButton: "Купить",
                preorderButton: "Предзаказ (+30%)",
                reviewsTitle: "Последние отзывы (макс. 10):",
                noReviews: "Отзывов пока нет."
            }
        };

        const cities = {
            "phuket": {
                "Patong": { lat: "7.891", lon: "98.298", desc: "Under a palm tree by the third sunbed, buried in sand, black bag." },
                "Karon": { lat: "7.846", lon: "98.295", desc: "Under a rock by the fence, magnet in blue tape." },
                "Phuket Town": { lat: "7.883", lon: "98.391", desc: "In bushes behind an old stall, wrapped in green film." },
                "Kata": { lat: "7.820", lon: "98.299", desc: "Under a bench by the beach, wrapped in black film." },
                "Chalong": { lat: "7.831", lon: "98.339", desc: "Behind a sign at the pier, magnet in red tape." },
                "Kamala": { lat: "7.952", lon: "98.284", desc: "Under a bush by the road, wrapped in grey cloth." },
                "Mai Khao": { lat: "8.130", lon: "98.298", desc: "In sand by an abandoned stall, black bag." }
            },
            "pattaya": {
                "Central Pattaya": { lat: "12.935", lon: "100.887", desc: "In a wall crack near a bar, magnet in red tape." },
                "Jomtien": { lat: "12.903", lon: "100.869", desc: "Under a bush by the road, wrapped in grey cloth." },
                "Naklua": { lat: "12.970", lon: "100.900", desc: "Behind a dumpster at the market, black bag." },
                "South Pattaya": { lat: "12.923", lon: "100.882", desc: "Under a rock by the pier, wrapped in green film." },
                "Wong Amat": { lat: "12.963", lon: "100.885", desc: "Under a bench by the beach, magnet in yellow tape." },
                "Pratumnak": { lat: "12.918", lon: "100.865", desc: "In bushes on the hill, wrapped in black film." }
            },
            "bangkok": {
                "Sukhumvit": { lat: "13.736", lon: "100.561", desc: "In a wall crack near the metro, magnet in yellow tape." },
                "Khao San": { lat: "13.759", lon: "100.497", desc: "Under a bench near a hostel, wrapped in black film." },
                "Silom": { lat: "13.723", lon: "100.535", desc: "Behind a sign at a bar, magnet in blue tape." },
                "Chatuchak": { lat: "13.799", lon: "100.548", desc: "In bushes by the market, wrapped in grey cloth." },
                "Ratchada": { lat: "13.779", lon: "100.573", desc: "Under a bridge near the metro, magnet in green tape." },
                "Banglamphu": { lat: "13.760", lon: "100.501", desc: "Behind a stall by the canal, black bag." }
            },
            "samui": {
                "Chaweng": { lat: "9.520", lon: "100.057", desc: "Under a sunbed by a bar, wrapped in black bag." },
                "Lamai": { lat: "9.470", lon: "100.047", desc: "In bushes by the road, magnet in green tape." },
                "Bo Phut": { lat: "9.560", lon: "100.031", desc: "Under a rock by the pier, wrapped in grey cloth." },
                "Maenam": { lat: "9.573", lon: "100.000", desc: "Behind a dumpster by the beach, black bag." },
                "Lipa Noi": { lat: "9.498", lon: "99.935", desc: "Under a palm tree by the shore, magnet in blue tape." },
                "Bang Po": { lat: "9.580", lon: "99.970", desc: "In sand by a fence, wrapped in green film." }
            }
        };

        const weights = {
            default: [1, 2, 3, 5, 10, 15, 20],
            cokeMephAlphaMdma: [0.5, 1, 2, 3, 5, 10, 15, 20],
            lsd: [1, 2, 5, 10],
            mdmaTabs: [1, 2, 5]
        };

        const basePrices = {
            weed: { 1: 1500 },
            hash: { 1: 900, 2: 700, 3: 500, 4: 400, 5: 1000 },
            coke: { 1: 4000, 2: 3600, 3: 3000, 4: 2400, 5: 4500 },
            amph: { 1: 1300, 2: 1000, 3: 900, 4: 700, 5: 1500 },
            meth: { 1: 1500, 2: 1200, 3: 1000, 4: 800, 5: 1800 },
            meph: { 1: 1400, 2: 1100, 3: 900, 4: 700, 5: 1600 },
            alpha: { 1: 1200, 2: 1000, 3: 800, 4: 600, 5: 1400 },
            lsd: { 1: 500, 2: 450, 3: 400, 4: 350, 5: 600 },
            mdma: { 1: 1500, 2: 1200, 3: 600, 4: 1000, 5: 400 },
            heroin: { 1: 2000, 2: 1800, 3: 1500, 4: 1200, 5: 2500 }
        };

        const products = {
            weed: {
                1: { 
                    name: "Jamaican Haze (VHQ)", 
                    positions: generatePositions('weed', 1, 'default'), 
                    reviews: [
                        { text: "Unreal quality, best weed in Thailand! — Stoner420", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Took me to the stars, worth it! — HighFlyer", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Smells amazing, hits hard! — WeedWizard", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Overpriced, local stuff is better. — CheapSkate", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Pure bliss, top-tier! — RastaRoad", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "2 puffs and I’m gone! — PuffMaster", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Not as strong as I hoped. — CaliKing", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Jamaican vibes in Thailand! — ReggaeRasta", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Mind-blowing sativa! — SativaLover", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Got a headache, not great. — Grumpy", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                }
            },
            hash: {
                1: { 
                    name: "Afghan Black Gold (VHQ)", 
                    positions: generatePositions('hash', 1, 'default'), 
                    reviews: [
                        { text: "Smooth and strong, love it! — HashFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Too sticky, hard to work with. — StickyFingers", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Perfect hash, pure gold! — GoldDigger", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak buzz, expected more. — LowVibe", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Velvety high, top quality! — Velvet", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Smells great, hits smooth! — SmokeLover", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overrated, not worth it. — Skeptic", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Best hash I’ve had here! — HashMaster", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Decent but not amazing. — MehMan", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Pure relaxation, awesome! — ChillGuy", mod: "Activated a promo code for you! (5% off) — Dark Thailand" }
                    ]
                },
                2: { 
                    name: "Moroccan Spice (HQ)", 
                    positions: generatePositions('hash', 2, 'default'), 
                    reviews: [
                        { text: "Spicy aroma, solid high! — SpiceLover", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Taste is off, not great. — TasteTester", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Good buzz, love the smell! — BuzzBoy", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Too dry, crumbled apart. — CrumbleKing", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Nice kick, worth it! — KickFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Smooth smoke, decent high. — SmoothSailor", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Nothing special, pass. — BoredOne", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Great flavor, solid stuff! — FlavorFan", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Burns well, good vibes! — Burner", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak, barely felt it. — WeakSauce", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                3: { 
                    name: "Nepal Temple (MQ)", 
                    positions: generatePositions('hash', 3, 'default'), 
                    reviews: [
                        { text: "Balanced stone, love it! — ZenMaster", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes weird, not my thing. — OddTaste", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Good chill vibes! — ChillVibes", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Too mild, wanted more. — MildMan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Solid mid-tier hash! — MidFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Nice and mellow, perfect! — MellowYellow", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Burned too fast, meh. — FastBurn", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Great for relaxing! — Relaxer", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Decent, nothing crazy. — AverageJoe", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Not potent enough. — PowerSeeker", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                4: { 
                    name: "Local Dust (LQ)", 
                    positions: generatePositions('hash', 4, 'default'), 
                    reviews: [
                        { text: "Cheap and does the job! — BudgetBoy", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes like dirt, awful. — DirtHater", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Good for the price! — CheapHigh", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely works, waste. — NoBuzz", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Budget bliss, not bad! — LowRoller", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Okay for a quick hit. — QuickHit", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Smells bad, weak high. — StinkWeed", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Cheap fun, can’t complain! — FunCheap", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Surprisingly decent! — SurpriseFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Total crap, avoid. — TrashMan", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                5: { 
                    name: "Himalayan Storm (VHQ)", 
                    positions: generatePositions('hash', 5, 'default'), 
                    reviews: [
                        { text: "Powerful and clean, wow! — StormChaser", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Too harsh, not smooth. — HarshCritic", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Insane high, top-notch! — HighPeak", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overhyped, just okay. — HypeKiller", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Pure storm of bliss! — BlissStorm", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Hits like a hurricane! — Hurricane", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Not worth the price. — PriceHater", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Best hash ever tried! — HashGod", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Strong and smooth, nice! — SmoothStorm", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Gave me a cough, meh. — CoughKing", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                }
            },
            coke: {
                1: { 
                    name: "Bolivian Fishscale (VHQ)", 
                    positions: generatePositions('coke', 1, 'cokeMephAlphaMdma', true), 
                    reviews: [
                        { text: "Pure fire, best coke ever! — CokeKing", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Cut with crap, disappointed. — PureHater", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Insane rush, top quality! — RushFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak, barely felt it. — WeakCoke", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Clean and strong, wow! — CleanHit", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Perfect high, love it! — HighRoller", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overpriced junk. — PriceSucker", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Fishscale is legit! — ScaleMaster", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Smooth and potent! — SmoothCoke", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me jittery, not great. — JitterBug", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                2: { 
                    name: "Colombian Snow (HQ)", 
                    positions: generatePositions('coke', 2, 'cokeMephAlphaMdma', true), 
                    reviews: [
                        { text: "Solid snow, great buzz! — SnowMan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tasted off, not pure. — OffFlavor", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Clean high, love it! — CleanSnow", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Weak for HQ, meh. — WeakSnow", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Nice kick, good stuff! — KickCoke", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Smooth hit, decent! — SmoothSnow", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Burned my nose, crap. — NoseBurn", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Perfect for a night out! — PartySnow", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Good but not amazing. — OkayCoke", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Barely any effect. — NoEffect", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                3: { 
                    name: "Peruvian Dust (MQ)", 
                    positions: generatePositions('coke', 3, 'cokeMephAlphaMdma', true), 
                    reviews: [
                        { text: "Decent mid-tier coke! — DustFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Too much cut, weak. — CutDust", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Good buzz for price! — BudgetDust", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Not strong enough. — WeakDust", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Smooth and chill! — ChillDust", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Nice little kick! — LittleKick", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes bad, meh. — BadTaste", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Solid for the cost! — CostDust", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Okay high, nothing special. — OkayDust", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Gave me a headache. — HeadDust", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                4: { 
                    name: "Street Mix (LQ)", 
                    positions: generatePositions('coke', 4, 'cokeMephAlphaMdma', true), 
                    reviews: [
                        { text: "Cheap and works, nice! — StreetFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Total garbage, avoid. — GarbageMan", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Good for the price! — CheapCoke", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely any high, crap. — NoHigh", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Budget buzz, not bad! — BuzzCheap", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Quick hit, decent! — QuickCoke", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes like chemicals. — ChemCoke", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Okay for a cheap fix! — FixFan", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Surprised it worked! — ShockCoke", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak and dirty high. — DirtyCoke", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                5: { 
                    name: "Cartel Gold (VHQ)", 
                    positions: generatePositions('coke', 5, 'cokeMephAlphaMdma', true), 
                    reviews: [
                        { text: "Elite stuff, pure gold! — GoldKing", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Overrated, not worth it. — GoldHater", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Insane high, top-tier! — TopCoke", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Too strong, freaked out. — FreakCoke", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and powerful! — SmoothGold", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Best coke I’ve had! — CokeGod", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Pricey but decent. — PriceyGold", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Golden rush, amazing! — RushGold", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Cleanest high ever! — CleanGold", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me sick, ugh. — SickGold", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                }
            },
            amph: {
                1: { 
                    name: "Crystal Surge (VHQ)", 
                    positions: generatePositions('amph', 1, 'default'), 
                    reviews: [
                        { text: "Pure energy, unreal! — SurgeFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Crash was brutal, nope. — CrashKing", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Kept me up all night! — NightOwl", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak, barely felt it. — WeakSurge", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Clean and strong! — CleanAmph", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Perfect boost, love it! — BoostFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Too jittery, not great. — JitterAmph", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier amph, wow! — AmphGod", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Smooth energy rush! — SmoothSurge", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me anxious, ugh. — AnxiousOne", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                2: { 
                    name: "Red Rush (HQ)", 
                    positions: generatePositions('amph', 2, 'default'), 
                    reviews: [
                        { text: "Solid rush, good stuff! — RedFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes bad, weak high. — BadRed", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Keeps me going, nice! — GoRed", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Not strong enough. — WeakRed", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Smooth energy, decent! — SmoothRed", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Good kick, worth it! — KickRed", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Crash sucked, avoid. — CrashRed", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Perfect for work! — WorkRed", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Okay, nothing special. — OkayRed", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me paranoid. — ParaRed", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                3: { 
                    name: "Yellow Spark (MQ)", 
                    positions: generatePositions('amph', 3, 'default'), 
                    reviews: [
                        { text: "Nice spark, good price! — SparkFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak and dirty, meh. — DirtySpark", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Solid mid-tier boost! — BoostSpark", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely works, pass. — NoSpark", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth lift, decent! — LiftSpark", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Good energy, okay! — EnergySpark", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes awful, ugh. — TasteSpark", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Cheap and effective! — CheapSpark", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Not bad for mid-tier! — MidSpark", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Gave me jitters. — JitterSpark", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                4: { 
                    name: "Grey Haze (LQ)", 
                    positions: generatePositions('amph', 4, 'default'), 
                    reviews: [
                        { text: "Cheap buzz, works! — HazeFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Total trash, avoid. — TrashHaze", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Good for the cost! — CostHaze", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "No effect, waste. — NoHaze", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Budget energy, nice! — BudgetHaze", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Quick lift, okay! — QuickHaze", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes like shit. — ShitHaze", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Cheap and decent! — DecentHaze", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely noticeable. — WeakHaze", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Okay for a quick fix! — FixHaze", mod: "Activated a promo code for you! (10% off) — Dark Thailand" }
                    ]
                },
                5: { 
                    name: "Blue Blitz (VHQ)", 
                    positions: generatePositions('amph', 5, 'default'), 
                    reviews: [
                        { text: "Blitz of energy, amazing! — BlitzFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Too intense, bad crash. — CrashBlitz", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier amph, wow! — TopBlitz", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overhyped, just okay. — HypeBlitz", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and strong! — SmoothBlitz", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Kept me wired, love it! — WiredBlitz", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me paranoid, ugh. — ParaBlitz", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best boost ever! — BoostBlitz", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean rush, perfect! — CleanBlitz", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Not worth the price. — PriceBlitz", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                }
            },
            meth: {
                1: { 
                    name: "Mountain Ice (VHQ)", 
                    positions: generatePositions('meth', 1, 'default'), 
                    reviews: [
                        { text: "Pure ice, insane high! — IceKing", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Crash was hell, avoid. — HellIce", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Kept me up for days! — DayIce", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak for VHQ, meh. — WeakIce", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Clean and potent! — CleanIce", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Best meth I’ve tried! — MethGod", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Too tweak, freaked out. — TweakIce", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Smooth rush, amazing! — RushIce", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Crystal clear high! — ClearIce", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me sick, crap. — SickIce", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                2: { 
                    name: "Blue Flame (HQ)", 
                    positions: generatePositions('meth', 2, 'default'), 
                    reviews: [
                        { text: "Solid flame, great high! — FlameFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes awful, weak. — BadFlame", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Long-lasting buzz! — LongFlame", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Not potent enough. — WeakFlame", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Smooth and strong! — SmoothFlame", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Good kick, decent! — KickFlame", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Crash sucked, ugh. — CrashFlame", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Perfect for a binge! — BingeFlame", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Okay, not amazing. — OkayFlame", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me paranoid. — ParaFlame", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                3: { 
                    name: "White Shard (MQ)", 
                    positions: generatePositions('meth', 3, 'default'), 
                    reviews: [
                        { text: "Good mid-tier meth! — ShardFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Dirty high, not great. — DirtyShard", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Solid buzz, decent! — BuzzShard", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Weak, barely felt it. — WeakShard", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth lift, nice! — LiftShard", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Good for the price! — PriceShard", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes bad, meh. — TasteShard", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Cheap and effective! — CheapShard", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Okay high, nothing special. — OkayShard", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Gave me jitters. — JitterShard", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                4:                  { 
                    name: "Dirty Crystal (LQ)", 
                    positions: generatePositions('meth', 4, 'default'), 
                    reviews: [
                        { text: "Cheap buzz, does the job! — CrystalFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Total crap, avoid it. — CrapCrystal", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Good for the price! — CheapCrystal", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "No high, waste of cash. — NoCrystal", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Budget tweak, okay! — BudgetCrystal", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Quick hit, decent! — QuickCrystal", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes like poison. — PoisonCrystal", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Cheap and works! — WorkCrystal", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely noticeable high. — WeakCrystal", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Okay for a quick fix! — FixCrystal", mod: "Activated a promo code for you! (10% off) — Dark Thailand" }
                    ]
                },
                5: { 
                    name: "Golden Shard (VHQ)", 
                    positions: generatePositions('meth', 5, 'default'), 
                    reviews: [
                        { text: "Golden high, unreal! — GoldShard", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Too intense, bad crash. — CrashShard", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best meth ever, wow! — MethShard", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overhyped, not great. — HypeShard", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and potent! — SmoothShard", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Keeps me wired, love it! — WiredShard", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me tweak hard. — TweakShard", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier rush, amazing! — RushShard", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Cleanest high ever! — CleanShard", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Pricey, not worth it. — PriceShard", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                }
            },
            meph: {
                1: { 
                    name: "Pink Bliss (VHQ)", 
                    positions: generatePositions('meph', 1, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Pure bliss, unreal high! — BlissFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Crash was brutal, ugh. — CrashBliss", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best meph I’ve had! — MephKing", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak for VHQ, meh. — WeakBliss", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and strong! — SmoothBliss", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Pink heaven, love it! — PinkLover", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Too jittery, not great. — JitterBliss", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier rush, wow! — RushBliss", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean high, perfect! — CleanBliss", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me anxious. — AnxiousBliss", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                2: { 
                    name: "White Surge (HQ)", 
                    positions: generatePositions('meph', 2, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Solid surge, great buzz! — SurgeFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes off, weak high. — OffSurge", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Smooth lift, decent! — LiftSurge", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Not strong enough. — WeakSurge", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Good kick, worth it! — KickSurge", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Nice high, okay! — OkaySurge", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Crash sucked, avoid. — CrashSurge", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Perfect for a night! — NightSurge", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Good but not amazing. — MehSurge", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me paranoid. — ParaSurge", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                3: { 
                    name: "Grey Mist (MQ)", 
                    positions: generatePositions('meph', 3, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Nice mid-tier high! — MistFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Dirty buzz, not great. — DirtyMist", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Good for the price! — PriceMist", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Weak, barely felt it. — WeakMist", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth lift, decent! — LiftMist", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Okay buzz, not bad! — BuzzMist", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes bad, meh. — TasteMist", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Cheap and solid! — CheapMist", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Nothing special. — OkayMist", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Gave me jitters. — JitterMist", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                4: { 
                    name: "Dusty High (LQ)", 
                    positions: generatePositions('meph', 4, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Cheap buzz, works! — DustyFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Total garbage, avoid. — GarbageDust", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Good for the cost! — CostDust", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "No effect, waste. — NoDust", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Budget high, okay! — BudgetDust", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Quick lift, decent! — QuickDust", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes awful, ugh. — TasteDust", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Cheap and effective! — CheapDust", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely works, meh. — WeakDust", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Okay for a fix! — FixDust", mod: "Activated a promo code for you! (10% off) — Dark Thailand" }
                    ]
                },
                5: { 
                    name: "Red Pulse (VHQ)", 
                    positions: generatePositions('meph', 5, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Pulse of energy, wow! — PulseFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Too intense, bad crash. — CrashPulse", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best meph ever! — MephPulse", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overrated, not worth it. — HypePulse", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and strong! — SmoothPulse", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Red rush, amazing! — RedRush", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me tweak, ugh. — TweakPulse", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier high, love it! — HighPulse", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean buzz, perfect! — CleanPulse", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Pricey and weak. — PricePulse", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                }
            },
            alpha: {
                1: { 
                    name: "Flakka Fire (VHQ)", 
                    positions: generatePositions('alpha', 1, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Fiery high, insane! — FireFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Fucked me up, avoid. — FuckFire", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best alpha ever! — AlphaKing", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak for VHQ, meh. — WeakFire", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and potent! — SmoothFire", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Burns like hell, love it! — HellFire", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Too crazy, bad trip. — CrazyFire", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier rush, wow! — RushFire", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean high, amazing! — CleanFire", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me sick, crap. — SickFire", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                2: { 
                    name: "Purple Haze (HQ)", 
                    positions: generatePositions('alpha', 2, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Solid haze, great buzz! — HazeFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes bad, weak high. — BadHaze", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Smooth lift, decent! — LiftHaze", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Not strong enough. — WeakHaze", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Good kick, worth it! — KickHaze", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Nice buzz, okay! — BuzzHaze", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Crash was rough, ugh. — CrashHaze", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Perfect for a night! — NightHaze", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Good but not great. — OkayHaze", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me paranoid. — ParaHaze", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                3: { 
                    name: "Green Dust (MQ)", 
                    positions: generatePositions('alpha', 3, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Nice mid-tier buzz! — DustFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Dirty high, not great. — DirtyDust", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Good for the price! — PriceDust", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Weak, barely felt it. — WeakDust", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth lift, decent! — LiftDust", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Okay high, not bad! — OkayDust", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes awful, meh. — TasteDust", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Cheap and solid! — CheapDust", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Nothing special. — MehDust", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Gave me jitters. — JitterDust", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                4: { 
                    name: "Street Gravel (LQ)", 
                    positions: generatePositions('alpha', 4, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Cheap buzz, works! — GravelFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Total trash, avoid. — TrashGravel", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Good for the cost! — CostGravel", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "No effect, waste. — NoGravel", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Budget high, okay! — BudgetGravel", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Quick lift, decent! — QuickGravel", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes like shit. — ShitGravel", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Cheap and effective! — CheapGravel", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely works, meh. — WeakGravel", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Okay for a fix! — FixGravel", mod: "Activated a promo code for you! (10% off) — Dark Thailand" }
                    ]
                },
                5: { 
                    name: "Crystal Fury (VHQ)", 
                    positions: generatePositions('alpha', 5, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Fury of a high, wow! — FuryFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Too wild, bad trip. — WildFury", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best alpha ever! — AlphaFury", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overhyped, not great. — HypeFury", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and strong! — SmoothFury", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Crystal rush, love it! — RushFury", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me freak out. — FreakFury", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier buzz, amazing! — BuzzFury", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean high, perfect! — CleanFury", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Pricey and weak. — PriceFury", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                }
            },
            lsd: {
                1: { 
                    name: "Cosmic Tabs (VHQ)", 
                    positions: generatePositions('lsd', 1, 'lsd'), 
                    reviews: [
                        { text: "Cosmic trip, unreal! — CosmicFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Bad trip, avoid it. — BadCosmic", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best acid I’ve had! — AcidKing", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak for VHQ, meh. — WeakCosmic", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and vivid! — SmoothCosmic", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Stars aligned, love it! — StarCosmic", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Too intense, freaked out. — FreakCosmic", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier trip, wow! — TripCosmic", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean visuals, amazing! — CleanCosmic", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me anxious. — AnxiousCosmic", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                2: { 
                    name: "Neon Drops (HQ)", 
                    positions: generatePositions('lsd', 2, 'lsd'), 
                    reviews: [
                        { text: "Bright trip, solid! — NeonFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes off, weak. — OffNeon", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Good visuals, decent! — VisualNeon", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Not strong enough. — WeakNeon", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Smooth trip, nice! — SmoothNeon", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Vivid colors, okay! — ColorNeon", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Bad vibes, avoid. — BadNeon", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Perfect for a chill night! — ChillNeon", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Good but not amazing. — OkayNeon", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me paranoid. — ParaNeon", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                3: { 
                    name: "Acid Rain (MQ)", 
                    positions: generatePositions('lsd', 3, 'lsd'), 
                    reviews: [
                        { text: "Nice mid-tier trip! — RainFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak visuals, meh. — WeakRain", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Good for the price! — PriceRain", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely tripped, crap. — NoRain", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth buzz, decent! — BuzzRain", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Okay visuals, not bad! — OkayRain", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes weird, ugh. — TasteRain", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Cheap and solid! — CheapRain", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Nothing special. — MehRain", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Gave me a headache. — HeadRain", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                4: { 
                    name: "Street Blotters (LQ)", 
                    positions: generatePositions('lsd', 4, 'lsd'), 
                    reviews: [
                        { text: "Cheap trip, works! — BlotterFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Total garbage, avoid. — TrashBlotter", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Good for the cost! — CostBlotter", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "No visuals, waste. — NoBlotter", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Budget buzz, okay! — BudgetBlotter", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Quick trip, decent! — QuickBlotter", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes like crap. — CrapBlotter", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Cheap and effective! — CheapBlotter", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely works, meh. — WeakBlotter", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Okay for a fix! — FixBlotter", mod: "Activated a promo code for you! (10% off) — Dark Thailand" }
                    ]
                },
                5: { 
                    name: "Galactic Hits (VHQ)", 
                    positions: generatePositions('lsd', 5, 'lsd'), 
                    reviews: [
                        { text: "Galactic trip, wow! — GalacticFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Too intense, bad trip. — BadGalactic", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best acid ever! — AcidGalactic", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overrated, not great. — HypeGalactic", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth visuals, amazing! — SmoothGalactic", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Cosmic vibes, love it! — VibeGalactic", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Freaked me out, ugh. — FreakGalactic", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier trip, unreal! — TripGalactic", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean high, perfect! — CleanGalactic", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me anxious. — AnxiousGalactic", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                }
            },
            mdma: {
                1: { 
                    name: "Crystal Love (VHQ)", 
                    positions: generatePositions('mdma', 1, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Pure love, unreal! — LoveFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Crash was brutal, ugh. — CrashLove", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best MDMA ever! — MDMAKing", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak for VHQ, meh. — WeakLove", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and euphoric! — SmoothLove", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Total bliss, love it! — BlissLove", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Too intense, anxious. — AnxiousLove", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier high, wow! — HighLove", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean rush, amazing! — CleanLove", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me sick, crap. — SickLove", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                2: { 
                    name: "Pink Rocks (HQ)", 
                    positions: generatePositions('mdma', 2, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Solid buzz, great! — RockFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes off, weak high. — OffRock", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Smooth lift, decent! — LiftRock", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Not strong enough. — WeakRock", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Good vibes, worth it! — VibeRock", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Nice high, okay! — OkayRock", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Crash sucked, ugh. — CrashRock", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Perfect for partying! — PartyRock", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Good but not amazing. — MehRock", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me jittery. — JitterRock", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                3: { 
                    name: "Ecstasy Blue (VHQ Tabs)", 
                    positions: generatePositions('mdma', 3, 'mdmaTabs'), 
                    reviews: [
                        { text: "Blue bliss, unreal! — BlueFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Weak tabs, disappointed. — WeakBlue", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best pills ever! — PillKing", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overhyped, not great. — HypeBlue", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth euphoria! — SmoothBlue", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Perfect high, love it! — HighBlue", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Too strong, anxious. — AnxiousBlue", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier tabs, wow! — TabBlue", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean buzz, amazing! — CleanBlue", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me sick, ugh. — SickBlue", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                4: { 
                    name: "Molly Dust (MQ)", 
                    positions: generatePositions('mdma', 4, 'cokeMephAlphaMdma'), 
                    reviews: [
                        { text: "Nice mid-tier buzz! — MollyFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Dirty high, not great. — DirtyMolly", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Good for the price! — PriceMolly", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Weak, barely felt it. — WeakMolly", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth lift, decent! — LiftMolly", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Okay high, not bad! — OkayMolly", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes bad, meh. — TasteMolly", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Cheap and solid! — CheapMolly", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Nothing special. — MehMolly", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Gave me jitters. — JitterMolly", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                5: { 
                    name: "Street Pills (LQ Tabs)", 
                    positions: generatePositions('mdma', 5, 'mdmaTabs'), 
                    reviews: [
                        { text: "Cheap buzz, works! — PillFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Total trash, avoid. — TrashPill", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Good for the cost! — CostPill", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "No effect, waste. — NoPill", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Budget high, okay! — BudgetPill", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Quick lift, decent! — QuickPill", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes awful, ugh. — TastePill", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Cheap and effective! — CheapPill", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely works, meh. — WeakPill", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Okay for a fix! — FixPill", mod: "Activated a promo code for you! (10% off) — Dark Thailand" }
                    ]
                }
            },
            heroin: {
                1: { 
                    name: "Afghan Silk (VHQ)", 
                    positions: generatePositions('heroin', 1, 'default'), 
                    reviews: [
                        { text: "Silky high, unreal! — SilkFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Too strong, bad nod. — BadSilk", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best H I’ve had! — HeroinKing", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak for VHQ, meh. — WeakSilk", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and deep! — SmoothSilk", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Pure bliss, love it! — BlissSilk", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me sick, ugh. — SickSilk", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier stone, wow! — StoneSilk", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean high, amazing! — CleanSilk", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overpriced junk. — PriceSilk", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                2: { 
                    name: "White Lotus (HQ)", 
                    positions: generatePositions('heroin', 2, 'default'), 
                    reviews: [
                        { text: "Solid buzz, great! — LotusFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes off, weak. — OffLotus", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Smooth stone, decent! — StoneLotus", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Not strong enough. — WeakLotus", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Good nod, worth it! — NodLotus", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Nice high, okay! — OkayLotus", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me itch, ugh. — ItchLotus", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Perfect for chilling! — ChillLotus", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Good but not great. — MehLotus", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Weak and dirty. — DirtyLotus", mod: "Activated a promo code for you! (20% off) — Dark Thailand" }
                    ]
                },
                3: { 
                    name: "Brown Sugar (MQ)", 
                    positions: generatePositions('heroin', 3, 'default'), 
                    reviews: [
                        { text: "Nice mid-tier stone! — SugarFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Dirty high, not great. — DirtySugar", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Good for the price! — PriceSugar", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Weak, barely felt it. — WeakSugar", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth buzz, decent! — BuzzSugar", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Okay high, not bad! — OkaySugar", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes bad, meh. — TasteSugar", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Cheap and solid! — CheapSugar", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Nothing special. — MehSugar", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me nauseous. — SickSugar", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                },
                4: { 
                    name: "Dirty Tar (LQ)", 
                    positions: generatePositions('heroin', 4, 'default'), 
                    reviews: [
                        { text: "Cheap buzz, works! — TarFan", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Total garbage, avoid. — TrashTar", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Good for the cost! — CostTar", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "No effect, waste. — NoTar", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Budget stone, okay! — BudgetTar", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Quick nod, decent! — QuickTar", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Tastes like crap. — CrapTar", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Cheap and effective! — CheapTar", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Barely works, meh. — WeakTar", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Okay for a fix! — FixTar", mod: "Activated a promo code for you! (10% off) — Dark Thailand" }
                    ]
                },
                5: { 
                    name: "Black Pearl (VHQ)", 
                    positions: generatePositions('heroin', 5, 'default'), 
                    reviews: [
                        { text: "Pearl of a high, wow! — PearlFan", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Too strong, bad nod. — BadPearl", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Best H ever, unreal! — HeroinPearl", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Overrated, not great. — HypePearl", mod: "Activated a promo code for you! (25% off) — Dark Thailand" },
                        { text: "Smooth and deep! — SmoothPearl", mod: "Activated a promo code for you! (5% off) — Dark Thailand" },
                        { text: "Pure stone, love it! — StonePearl", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Made me sick, ugh. — SickPearl", mod: "Activated a promo code for you! (20% off) — Dark Thailand" },
                        { text: "Top-tier buzz, amazing! — BuzzPearl", mod: "Activated a promo code for you! (15% off) — Dark Thailand" },
                        { text: "Clean high, perfect! — CleanPearl", mod: "Activated a promo code for you! (10% off) — Dark Thailand" },
                        { text: "Pricey and weak. — PricePearl", mod: "Activated a promo code for you! (25% off) — Dark Thailand" }
                    ]
                }
            }
        };

        function generatePositions(category, productId, weightType, alwaysInStock = false) {
            const positions = [];
            const weightsArray = weights[weightType] || weights.default;
            const cityKeys = Object.keys(cities);
            let positionId = 0;

            cityKeys.forEach(city => {
                const districtKeys = Object.keys(cities[city]);
                districtKeys.forEach(district => {
                    weightsArray.forEach(weight => {
                        const pricePerGram = basePrices[category][productId];
                        const price = Math.round(pricePerGram * weight);
                        const cryptoPrice = (price / BTC_RATE).toFixed(5);
                        const inStock = alwaysInStock || Math.random() > 0.2;
                        positions.push({
                            id: positionId++,
                            weight,
                            price,
                            cryptoPrice,
                            city,
                            district,
                            inStock
                        });
                    });
                });
            });
            return positions;
        }

        function fetchBTCRate() {
            fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=thb')
                .then(response => response.json())
                .then(data => {
                    BTC_RATE = data.bitcoin.thb;
                })
                .catch(error => console.error('Error fetching BTC rate:', error));
        }

        function generateUniqueAddress(crypto) {
            return testAddresses[crypto];
        }

        function getRandomCoordinates(city, district) {
            const baseCoords = cities[city][district];
            const lat = parseFloat(baseCoords.lat) + (Math.random() - 0.5) * 0.01;
            const lon = parseFloat(baseCoords.lon) + (Math.random() - 0.5) * 0.01;
            return { lat: lat.toFixed(3), lon: lon.toFixed(3) };
        }

        function getRandomDate() {
            const now = new Date();
            const past = new Date(now.getTime() - Math.random() * 30 * 24 * 60 * 60 * 1000);
            return past.toLocaleString();
        }

        async function sendToTelegramBot(message, paymentId, amount) {
            const url = `https://api.telegram.org/bot${BOT_B_TOKEN}/sendMessage`;
            const chatId = ADMIN_CHAT_ID;
            let text = message;

            if (paymentId && amount) {
                text += `\n\nConfirm payment: /confirm_${paymentId}_${amount}_${chatId}\nReject payment: /reject_${paymentId}_${chatId}`;
            }

            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: text,
                    parse_mode: 'Markdown'
                })
            });

            if (!response.ok) {
                console.error('Failed to send message to Telegram:', response.statusText);
            }
        }

        function updateLanguage() {
            const t = translations[userLanguage];
            document.getElementById('promoBanner').innerText = t.promoBanner;
            document.getElementById('headerText').innerText = t.headerText;
            document.getElementById('catalogButton').innerText = t.catalogButton;
            document.getElementById('vacanciesButton').innerText = t.vacanciesButton;
            document.getElementById('mailButton').innerText = t.mailButton;
            document.getElementById('allCitiesOption').innerText = t.allCitiesOption;
            document.getElementById('allDistrictsOption').innerText = t.allDistrictsOption;
            document.getElementById('phuketOption').innerText = t.phuketOption;
            document.getElementById('pattayaOption').innerText = t.pattayaOption;
            document.getElementById('bangkokOption').innerText = t.bangkokOption;
            document.getElementById('samuiOption').innerText = t.samuiOption;
            document.getElementById('weedDesc').innerText = t.weedDesc;
            document.getElementById('profileNameLabel').innerText = `${t.profileNameLabel}${currentUser || 'Anonymous'}`;
            document.getElementById('ordersLabel').innerText = `${t.ordersLabel}${orderCount}`;
            document.getElementById('referralsLabel').innerText = `${t.referralsLabel}${referralCount}`;
            document.getElementById('refLinkLabel').innerText = t.refLinkLabel;
            document.getElementById('depositTitle').innerText = t.depositTitle;
            document.getElementById('orderHistoryTitle').innerText = t.orderHistoryTitle;
            document.getElementById('orderList').innerHTML = orderHistory.length > 0 ? orderHistory.slice(0, 10).map(order => `<p>${order.date}: ${order.product} - ${order.price} ฿</p>`).join('') : t.orderListEmpty;
            document.getElementById('vacanciesTitle').innerText = t.vacanciesTitle;
            document.getElementById('courierTitle').innerText = t.courierTitle;
            document.getElementById('courierDuties').innerText = t.courierDuties;
            document.getElementById('courierPay').innerText = t.courierPay;
            document.getElementById('warehousemanTitle').innerText = t.warehousemanTitle;
            document.getElementById('warehousemanDuties').innerText = t.warehousemanDuties;
            document.getElementById('warehousemanPay').innerText = t.warehousemanPay;
            document.getElementById('transporterTitle').innerText = t.transporterTitle;
            document.getElementById('transporterDuties').innerText = t.transporterDuties;
            document.getElementById('transporterPay').innerText = t.transporterPay;
            document.getElementById('smmTitle').innerText = t.smmTitle;
            document.getElementById('smmDuties').innerText = t.smmDuties;
            document.getElementById('smmPay').innerText = t.smmPay;
            document.getElementById('applyButton').innerText = t.applyButton;
            document.getElementById('applyButton2').innerText = t.applyButton;
            document.getElementById('applyButton3').innerText = t.applyButton;
            document.getElementById('applyButton4').innerText = t.applyButton;
            document.getElementById('mailTitle').innerText = t.mailTitle;
            document.getElementById('mailList').innerHTML = mailMessages.length > 0 ? mailMessages.map(msg => `<p>${msg}</p>`).join('') : t.mailListEmpty;
        }

        function toggleCatalog() {
            const menu = document.getElementById('catalogMenu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
            document.getElementById('profileMenu').style.display = 'none';
            document.getElementById('vacancyMenu').style.display = 'none';
            document.getElementById('mailMenu').style.display = 'none';
            if (menu.style.display === 'block') {
                document.querySelector('.tab[data-tab="weed"]').click();
            }
        }

        function toggleProfile() {
            const menu = document.getElementById('profileMenu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
            document.getElementById('catalogMenu').style.display = 'none';
            document.getElementById('vacancyMenu').style.display = 'none';
            document.getElementById('mailMenu').style.display = 'none';
            document.getElementById('balance').innerText = `${balance} ฿`;
            updateLanguage();
        }

        function toggleVacancies() {
            const menu = document.getElementById('vacancyMenu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
            document.getElementById('catalogMenu').style.display = 'none';
            document.getElementById('profileMenu').style.display = 'none';
            document.getElementById('mailMenu').style.display = 'none';
        }

        function toggleMail() {
            const menu = document.getElementById('mailMenu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
            document.getElementById('catalogMenu').style.display = 'none';
            document.getElementById('profileMenu').style.display = 'none';
            document.getElementById('vacancyMenu').style.display = 'none';
        }

        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                document.querySelectorAll('.tab-content').forEach(content => content.style.display = 'none');
                document.getElementById(tab.dataset.tab).style.display = 'block';
                filterByCity();
            });
        });

        function filterByCity() {
            selectedCity = document.getElementById('citySelect').value;
            const districtSelect = document.getElementById('districtSelect');
            const t = translations[userLanguage];
            districtSelect.innerHTML = `<option value="all">${t.allDistrictsOption}</option>`;
            if (selectedCity !== 'all') {
                const districtTranslations = t[`${selectedCity}Districts`];
                Object.keys(cities[selectedCity]).forEach(district => {
                    districtSelect.innerHTML += `<option value="${district}">${districtTranslations[district]}</option>`;
                });
            }
            filterByDistrict();
        }

        function filterByDistrict() {
            selectedDistrict = document.getElementById('districtSelect').value;
            document.querySelectorAll('.tab-content').forEach(content => {
                const category = content.id;
                const productCards = content.querySelectorAll('.product-card');
                productCards.forEach(card => {
                    const [cat, id] = card.dataset.product.split('-');
                    const positions = products[cat][id].positions.filter(pos => 
                        (selectedCity === 'all' || pos.city === selectedCity) &&
                        (selectedDistrict === 'all' || pos.district === selectedDistrict)
                    );
                    card.style.display = positions.length > 0 ? 'block' : 'none';
                });
            });
        }

        function showProductModal(category, productId) {
            const product = products[category][productId];
            const t = translations[userLanguage];
            let html = `<h2>${product.name}</h2>`;
            const filteredPositions = product.positions.filter(pos => 
                (selectedCity === 'all' || pos.city === selectedCity) &&
                (selectedDistrict === 'all' || pos.district === selectedDistrict)
            );
            filteredPositions.forEach(pos => {
                const districtTranslations = t[`${pos.city}Districts`];
                html += `
                    <div class="position">
                        <p>${t.positionWeight} ${pos.weight} г</p>
                        <p>${t.positionPrice} ${pos.price} ฿ <span class="crypto-price">(${pos.cryptoPrice} BTC)</span></p>
                        <p>${t.positionCity} ${t[`${pos.city}Option`]} - ${districtTranslations[pos.district]}</p>
                        <p>${t.positionAvailability} ${pos.inStock ? t.inStock : t.outOfStock}</p>
                        ${pos.inStock ? `<button class="buy-button" onclick="buyProduct('${category}', ${productId}, ${pos.id})">${t.buyButton}</button>` : 
                        `<button class="preorder-button" onclick="preorderProduct('${category}', ${productId}, ${pos.id})">${t.preorderButton}</button>`}
                    </div>`;
            });
            html += `<h3>${t.reviewsTitle}</h3>`;
            const lastReviews = product.reviews.slice(0, 10);
            if (lastReviews.length > 0) {
                lastReviews.forEach(review => {
                    html += `<div class="review">${review.text}</div>`;
                    if (review.mod) html += `<div class="moderator-response">${review.mod}</div>`;
                });
            } else {
                html += `<p>${t.noReviews}</p>`;
            }
            html += `<button class="buy-button" onclick="document.getElementById('productModal').style.display='none';">${t.close}</button>`;
            document.getElementById('productContent').innerHTML = html;
            document.getElementById('productModal').style.display = 'flex';
        }

        function buyProduct(category, productId, positionId) {
            const product = products[category][productId];
            const position = product.positions.find(pos => pos.id === positionId);
            const t = translations[userLanguage];
            if (balance < position.price) {
                showConfirm(t.insufficientFunds, () => {
                    showDepositModal('BTC');
                });
                return;
            }
            balance -= position.price;
            orderCount++;
            orderHistory.unshift({ date: getRandomDate(), product: `${product.name} (${position.weight} г)`, price: position.price });
            document.getElementById('balance').innerText = `${balance} ฿`;
            showCustomAlert(t.paymentSuccess);
            position.inStock = false;
            document.getElementById('productModal').style.display = 'none';
            const coords = getRandomCoordinates(position.city, position.district);
            const districtTranslations = t[`${position.city}Districts`];
            const message = `Покупка: ${product.name} (${position.weight} г) за ${position.price} ฿\nГород: ${t[`${position.city}Option`]}\nРайон: ${districtTranslations[position.district]}\nКоординаты: ${coords.lat}, ${coords.lon}\nОписание: ${cities[position.city][position.district].desc}`;
            sendToTelegramBot(message);
            updateLanguage();
        }

        function preorderProduct(category, productId, positionId) {
            const product = products[category][productId];
            const position = product.positions.find(pos => pos.id === positionId);
            const preorderPrice = Math.round(position.price * 1.3);
            const t = translations[userLanguage];
            let html = `
                <h2>${t.preorderTitle}</h2>
                <p>${product.name} (${position.weight} г)</p>
                <p>${t.positionPrice} ${preorderPrice} ฿</p>
                <p>${t.positionCity} ${t[`${position.city}Option`]} - ${t[`${position.city}Districts`][position.district]}</p>`;
            if (balance < preorderPrice) {
                html += `<p>${t.insufficientFunds}</p>`;
                html += `<button class="buy-button" onclick="showDepositModal('BTC')">${t.yes}</button>`;
                html += `<button class="buy-button" onclick="document.getElementById('preorderModal').style.display='none';">${t.no}</button>`;
            } else {
                html += `<button class="buy-button" onclick="confirmPreorder('${category}', ${productId}, ${positionId}, ${preorderPrice})">${t.confirmButton}</button>`;
                html += `<button class="buy-button" onclick="document.getElementById('preorderModal').style.display='none';">${t.cancelButton}</button>`;
            }
            document.getElementById('preorderContent').innerHTML = html;
            document.getElementById('preorderModal').style.display = 'flex';
        }

        function confirmPreorder(category, productId, positionId, preorderPrice) {
            const product = products[category][productId];
            const position = product.positions.find(pos => pos.id === positionId);
            const t = translations[userLanguage];
            balance -= preorderPrice;
            orderCount++;
            orderHistory.unshift({ date: getRandomDate(), product: `${product.name} (${position.weight} г) [Предзаказ]`, price: preorderPrice });
            document.getElementById('balance').innerText = `${balance} ฿`;
            showCustomAlert(t.preorderPlaced);
            document.getElementById('preorderModal').style.display = 'none';
            const districtTranslations = t[`${position.city}Districts`];
            const message = `Предзаказ: ${product.name} (${position.weight} г) за ${preorderPrice} ฿\nГород: ${t[`${position.city}Option`]}\nРайон: ${districtTranslations[position.district]}`;
            sendToTelegramBot(message);
            updateLanguage();
        }

        function showDepositModal(crypto) {
            const t = translations[userLanguage];
            const content = document.getElementById('depositContent');
            content.innerHTML = `
                <h2>${t.depositFunds}</h2>
                <p>${t.selectCrypto}</p>
                <select id="cryptoSelect" onchange="updateNetworkInfo()">
                    <option value="BTC" ${crypto === 'BTC' ? 'selected' : ''}>Bitcoin (BTC)</option>
                    <option value="ETH" ${crypto === 'ETH' ? 'selected' : ''}>Ethereum (ETH)</option>
                    <option value="USDT" ${crypto === 'USDT' ? 'selected' : ''}>Tether (USDT)</option>
                    <option value="SOL" ${crypto === 'SOL' ? 'selected' : ''}>Solana (SOL)</option>
                    <option value="TON" ${crypto === 'TON' ? 'selected' : ''}>Toncoin (TON)</option>
                </select>
                <p id="networkInfo">${t.networkLabel} ${cryptoNetworks[crypto]}</p>
                <p>${t.enterAmount}</p>
                <input type="number" id="depositAmount" placeholder="1000 ฿" min="1000">
                <button class="buy-button" onclick="generateDepositAddress()">${t.generateAddress}</button>
                <div id="depositAddress"></div>
                <button class="buy-button" onclick="document.getElementById('depositModal').style.display='none';">${t.close}</button>
            `;
            document.getElementById('depositModal').style.display = 'flex';
        }

        function updateNetworkInfo() {
            const crypto = document.getElementById('cryptoSelect').value;
            const t = translations[userLanguage];
            document.getElementById('networkInfo').innerText = `${t.networkLabel} ${cryptoNetworks[crypto]}`;
        }

        function generateDepositAddress() {
            const crypto = document.getElementById('cryptoSelect').value;
            const amount = parseInt(document.getElementById('depositAmount').value);
            const t = translations[userLanguage];
            if (!amount || amount < MIN_DEPOSIT) {
                showCustomAlert(t.minDepositError);
                return;
            }
            const address = generateUniqueAddress(crypto);
            const paymentId = Date.now().toString(36) + Math.random().toString(36).substr(2);
            pendingPayments[paymentId] = { amount, crypto };
            const depositAddressDiv = document.getElementById('depositAddress');
            depositAddressDiv.innerHTML = `
                <p>${t.depositInstruction.replace('{amount}', amount).replace('{cryptoAmount}', (amount / BTC_RATE).toFixed(5))}</p>
                <p>${address}</p>
                <p>${t.networkLabel} ${cryptoNetworks[crypto]}</p>
                <p>${t.depositFinal}</p>
                <p>${t.depositExpiry}</p>
            `;
            const message = `Пополнение: ${amount} ฿ через ${crypto}\nАдрес: ${address}\nСеть: ${cryptoNetworks[crypto]}\nPayment ID: ${paymentId}`;
            sendToTelegramBot(message, paymentId, amount);
        }

        function registerUser() {
            const nickname = document.getElementById('regNickname').value.trim();
            const language = document.getElementById('regLanguage').value;
            const t = translations[language];
            if (!nickname) {
                document.getElementById('regError').innerText = t.regErrorEmpty;
                return;
            }
            if (registeredUsers.includes(nickname)) {
                document.getElementById('regError').innerText = t.regErrorTaken;
                return;
            }
            currentUser = nickname;
            userLanguage = language;
            registeredUsers.push(nickname);
            localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));
            localStorage.setItem('currentUser', nickname);
            localStorage.setItem('userLanguage', language);
            document.getElementById('registrationModal').style.display = 'none';
            showCustomAlert(t.welcomeMessage.replace('{user}', nickname));
            updateLanguage();
            const message = `Новый пользователь: ${nickname}\nЯзык: ${language}`;
            sendToTelegramBot(message);
        }

        function showCustomAlert(message) {
            const t = translations[userLanguage];
            const modal = document.getElementById('customModal');
            const content = document.getElementById('customContent');
            content.innerHTML = `
                <h2>${t.alertTitle}</h2>
                <p>${message}</p>
                <button class="buy-button" onclick="document.getElementById('customModal').style.display='none';">${t.close}</button>
            `;
            modal.style.display = 'flex';
            modal.onclick = (e) => { if (e.target === modal) modal.style.display = 'none'; };
        }

        function showConfirm(message, onConfirm) {
            const t = translations[userLanguage];
            const modal = document.getElementById('confirmModal');
            const content = document.getElementById('confirmContent');
            content.innerHTML = `
                <h2>${t.confirmTitle}</h2>
                <p>${message}</p>
                <button class="buy-button" onclick="(${onConfirm.toString()})();document.getElementById('confirmModal').style.display='none';">${t.yes}</button>
                <button class="buy-button" onclick="document.getElementById('confirmModal').style.display='none';">${t.no}</button>
            `;
            modal.style.display = 'flex';
            modal.onclick = (e) => { if (e.target === modal) modal.style.display = 'none'; };
        }

        function applyForJob(job) {
            const t = translations[userLanguage];
            const modal = document.getElementById('customModal');
            const content = document.getElementById('customContent');
            content.innerHTML = `
                <h2>${t.inputTitle}</h2>
                <p>${t.applyJobPrompt.replace('{job}', job)}</p>
                <textarea id="jobResume" placeholder="Your resume"></textarea>
                <button class="buy-button" onclick="submitJobApplication('${job}')">${t.confirmButton}</button>
                <button class="buy-button" onclick="document.getElementById('customModal').style.display='none';">${t.cancelButton}</button>
            `;
            modal.style.display = 'flex';
            modal.onclick = (e) => { if (e.target === modal) modal.style.display = 'none'; };
        }

        function submitJobApplication(job) {
            const resume = document.getElementById('jobResume').value.trim();
            const t = translations[userLanguage];
            if (!resume) {
                showCustomAlert("Resume cannot be empty!");
                return;
            }
            const message = `${t.applyJobSent.replace('{job}', job)}\nРезюме: ${resume}`;
            sendToTelegramBot(message);
            document.getElementById('customModal').style.display = 'none';
            showCustomAlert(t.applyJobAlert.replace('{job}', job));
        }

        function init() {
            fetchBTCRate();
            const savedUser = localStorage.getItem('currentUser');
            const savedLanguage = localStorage.getItem('userLanguage');
            if (savedUser && savedLanguage) {
                currentUser = savedUser;
                userLanguage = savedLanguage;
                updateLanguage();
            } else {
                document.getElementById('registrationModal').style.display = 'block';
            }

            if (window.Telegram && window.Telegram.WebApp) {
                window.Telegram.WebApp.onEvent('inlineQuery', (query) => {
                    console.log('Inline query:', query);
                });
                window.Telegram.WebApp.onEvent('callbackQuery', (query) => {
                    const data = query.data.split('_');
                    const action = data[0];
                    const paymentId = data[1];
                    const amount = parseInt(data[2]) || 0;
                    const chatId = data[3];
                    if (action === 'confirm' && pendingPayments[paymentId]) {
                        balance += amount;
                        delete pendingPayments[paymentId];
                        document.getElementById('balance').innerText = `${balance} ฿`;
                        sendToTelegramBot(`Пополнение подтверждено: ${amount} ฿\nchat_id: ${chatId}`);
                        updateLanguage();
                    } else if (action === 'reject' && pendingPayments[paymentId]) {
                        delete pendingPayments[paymentId];
                        sendToTelegramBot(`Пополнение отклонено\nchat_id: ${chatId}`);
                    }
                });
            }
        }

        window.onload = init;
    </script>
</body>
